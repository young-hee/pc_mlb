<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.plgrim.ncp.biz.display">

	<resultMap type="com.plgrim.ncp.biz.display.result.DspCnrSetFoResult"
		id="dspCnrSetFoResultMap">
		<result property="dspCnrSet.cnrSn" column="DCSET_CNR_SN" />
		<result property="dspCnrSet.cnrTpGrpSn" column="DCSET_CNR_TP_GRP_SN" />
		<result property="dspCnrSet.cnrSetSn" column="CNR_SET_SN" />
		<result property="dspCnrSet.setNm" column="SET_NM" />
		<result property="dspCnrSet.setDscr" column="SET_DSCR" />
		<result property="dspCnrSet.sortSeq" column="SORT_SEQ" />
		<result property="dspCnrSet.dspCtgryNo" column="DSP_CTGRY_NO" />
		<result property="dspCnrSet.promtSn" column="PROMT_SN" />
		<result property="dspCnrSet.evtNo" column="EVT_NO" />
		<result property="dspCnrSet.strndSn" column="STRND_SN" />

		<result property="dspCnrSetLang.cnrSn" column="DCSLANG_CNR_SN" />
		<result property="dspCnrSetLang.cnrSetSn" column="DCSLANG_CNR_SET_SN" />
		<result property="dspCnrSetLang.langCd" column="LANG_CD" />
		<result property="dspCnrSetLang.setNm" column="DCSLANG_SET_NM" />
		<result property="dspCnrSetLang.setDscr" column="DCSLANG_SET_DSCR" />

	</resultMap>

	<resultMap type="com.plgrim.ncp.biz.display.result.DspCnrFoResult"
		id="dspCnrFoResultMap">
		<result property="dspCnr.cnrSn" column="CNR_SN" />
		<result property="dspCnr.dspCnrNm" column="DSP_CNR_NM" />
		<result property="dspCnr.dspCnrDscr" column="DSP_CNR_DSCR" />
		<result property="dspCnr.useYn" column="USE_YN" />

		<collection property="dspCnrSetList" resultMap="dspCnrSetFoResultMap" />
	</resultMap>

	<resultMap type="com.plgrim.ncp.biz.display.result.DspCnrConttFoResult"
		id="dspCnrConttFoResultMap">
		<result property="dspCnrContt.cnrSn" column="DCCONTT_CNR_SN" />
		<result property="dspCnrContt.cnrTpGrpSn" column="DCCONTT_CNR_TP_GRP_SN" />
		<result property="dspCnrContt.cnrSetSn" column="DCCONTT_CNR_SET_SN" />
		<result property="dspCnrContt.conttTurn" column="CONTT_TURN" />
		<result property="dspCnrContt.conttTpCd" column="CONTT_TP_CD" />
		<result property="dspCnrContt.godNo" column="GOD_NO" />
		<result property="dspCnrContt.conttNm" column="CONTT_NM" />
		<result property="dspCnrContt.imgNm" column="IMG_NM" />
		<result property="dspCnrContt.imgFileNm" column="IMG_FILE_NM" />
		<result property="dspCnrContt.imgFileUrl" column="IMG_FILE_URL" />
		<result property="dspCnrContt.imgAltrtvCont" column="IMG_ALTRTV_CONT" />
		<result property="dspCnrContt.imgBcrnColorCd" column="IMG_BCRN_Color_CD" />
		<result property="dspCnrContt.imgMapCont" column="IMG_MAP_CONT" />
		<result property="dspCnrContt.imgDscr" column="IMG_DSCR" />
		<result property="dspCnrContt.moviNm" column="MOVI_NM" />
		<result property="dspCnrContt.moviFileUrl" column="MOVI_FILE_URL" />
		<result property="dspCnrContt.moviImgFileNm" column="MOVI_IMG_FILE_NM" />
		<result property="dspCnrContt.moviImgUrl" column="MOVI_IMG_URL" />
		<result property="dspCnrContt.moviImgAltrtvCont" column="MOVI_IMG_ALTRTV_CONT" />
		<result property="dspCnrContt.htmlSj" column="HTML_SJ" />
		<result property="dspCnrContt.htmlDscr" column="HTML_DSCR" />
		<result property="dspCnrContt.htmlCont" column="HTML_CONT" />
		<result property="dspCnrContt.promtSn" column="PROMT_SN" />
		<result property="dspCnrContt.strndSn" column="STRND_SN" />

		<result property="dspCnrContt.outptTpCd" column="OUTPT_TP_CD" />
		<result property="dspCnrContt.conttCnncUrl" column="CONTT_CNNC_URL" />
		<result property="dspCnrContt.sortSeq" column="DCCONTT_SORT_SEQ" />
		<result property="dspCnrContt.dspBegDt" column="DSP_BEG_DT" />
		<result property="dspCnrContt.dspEndDt" column="DSP_END_DT" />



		<result property="dspCnrConttLang.cnrSn" column="DCCLANG_CNR_SN" />
		<result property="dspCnrConttLang.cnrSetSn" column="DCCLANG_CNR_SET_SN" />
		<result property="dspCnrConttLang.conttTurn" column="DCCLANG_CONTT_TURN" />
		<result property="dspCnrConttLang.langCd" column="LANG_CD" />
		<result property="dspCnrConttLang.conttNm" column="DCCLANG_CONTT_NM" />
		<result property="dspCnrConttLang.imgFileNm" column="DCCLANG_IMG_FILE_NM" />
		<result property="dspCnrConttLang.imgFileUrl" column="DCCLANG_IMG_FILE_URL" />
		<result property="dspCnrConttLang.imgAltrtvCont" column="DCCLANG_IMG_ALTRTV_CONT" />
		<result property="dspCnrConttLang.moviImgFileNm" column="DCCLANG_MOVI_IMG_FILE_NM" />
		<result property="dspCnrConttLang.moviImgUrl" column="DCCLANG_MOVI_IMG_URL" />
		<result property="dspCnrConttLang.moviImgAltrtvCont" column="DCCLANG_MOVI_IMG_ALTRTV_CONT" />
		<result property="dspCnrConttLang.htmlCont" column="DCCLANG_HTML_CONT" />
		<!-- 20160525_김병철_sr#19789 [기획전 내 맵핑 영역 EN/CN 추가 개발 요청] -->
		<result property="dspCnrConttLang.imgMapCont" column="DCCLANG_IMG_MAP_CONT" />
		<result property="dspCnrConttLang.imgDscr" column="DCCLANG_IMG_DSCR" />
		<!-- 20160525_김병철_sr#19789 [기획전 내 맵핑 영역 EN/CN 추가 개발 요청] -->
		
	</resultMap>

	<resultMap type="com.plgrim.ncp.biz.display.result.DspCnrContt2FoResult"
		id="dspCnrContt2FoResultMap">
		<result property="dspCnrContt.cnrSn" column="CNR_SN" />
		<result property="dspCnrContt.cnrSetSn" column="CONTT_CNR_SET_SN" />
		<result property="dspCnrContt.conttTurn" column="CONTT_TURN" />
		<result property="dspCnrContt.conttTpCd" column="CONTT_TP_CD" />
		<result property="dspCnrContt.godNo" column="GOD_NO" />
		<result property="dspCnrContt.conttNm" column="CONTT_NM" />
		<result property="dspCnrContt.imgNm" column="IMG_NM" />
		<result property="dspCnrContt.imgFileNm" column="IMG_FILE_NM" />
		<result property="dspCnrContt.imgFileUrl" column="IMG_FILE_URL" />
		<result property="dspCnrContt.imgAltrtvCont" column="IMG_ALTRTV_CONT" />
		<result property="dspCnrContt.imgOvFileNm" column="IMG_OV_FILE_NM" />
		<result property="dspCnrContt.imgOvFileUrl" column="IMG_OV_FILE_URL" />
		<result property="dspCnrContt.imgOvAltrtvCont" column="IMG_OV_ALTRTV_CONT" />
		<result property="dspCnrContt.imgBcrnColorCd" column="IMG_BCRN_Color_CD" />
		<result property="dspCnrContt.imgMapCont" column="IMG_MAP_CONT" />
		<result property="dspCnrContt.imgDscr" column="IMG_DSCR" />
		<result property="dspCnrContt.moviNm" column="MOVI_NM" />
		<result property="dspCnrContt.moviFileUrl" column="MOVI_FILE_URL" />
		<result property="dspCnrContt.moviImgFileNm" column="MOVI_IMG_FILE_NM" />
		<result property="dspCnrContt.moviImgUrl" column="MOVI_IMG_URL" />
		<result property="dspCnrContt.moviImgAltrtvCont" column="MOVI_IMG_ALTRTV_CONT" />
		<result property="dspCnrContt.htmlSj" column="HTML_SJ" />
		<result property="dspCnrContt.htmlDscr" column="HTML_DSCR" />
		<result property="dspCnrContt.htmlCont" column="HTML_CONT" />
		<result property="dspCnrContt.promtSn" column="PROMT_SN" />
		<result property="dspCnrContt.strndSn" column="STRND_SN" />
		<result property="dspCnrContt.outptTpCd" column="OUTPT_TP_CD" />
		<result property="dspCnrContt.conttCnncUrl" column="CONTT_CNNC_URL" />
		<result property="dspCnrContt.sortSeq" column="SORT_SEQ" />
		<result property="dspCnrContt.dspBegDt" column="DSP_BEG_DT" />
		<result property="dspCnrContt.dspEndDt" column="DSP_END_DT" />
		<result property="dspCnrContt.stkExpsrYn" column="STK_EXPSR_YN" />
		<result property="dspCnrContt.stkLblCd" column="STK_LBL_CD" />
		<result property="dspCnrContt.stkDcRt" column="STK_DC_RT" />

		<result property="dspCnrSet.cnrSetSn" column="CNR_SET_SN" />
		<result property="dspCnrSet.cnrTpGrpSn" column="CNR_TP_GRP_SN" />
		<result property="dspCnrSet.setNm" column="SET_NM" />
		<result property="dspCnrSet.setDscr" column="SET_DSCR" />

		<result property="dspCnrConttLang.conttNm" column="LANG_CONTT_NM" />
		<result property="dspCnrConttLang.imgFileNm" column="LANG_IMG_FILE_NM" />
		<result property="dspCnrConttLang.imgFileUrl" column="LANG_IMG_FILE_URL" />
		<result property="dspCnrConttLang.imgAltrtvCont" column="LANG_IMG_ALTRTV_CONT" />
		<result property="dspCnrConttLang.imgOvFileNm" column="LANG_IMG_OV_FILE_NM" />
		<result property="dspCnrConttLang.imgOvFileUrl" column="LANG_IMG_OV_FILE_URL" />
		<result property="dspCnrConttLang.imgOvAltrtvCont" column="LANG_IMG_OV_ALTRTV_CONT" />
		<result property="dspCnrConttLang.moviImgFileNm" column="LANG_MOVI_IMG_FILE_NM" />
		<result property="dspCnrConttLang.moviImgUrl" column="LANG_MOVI_IMG_URL" />
		<result property="dspCnrConttLang.moviImgAltrtvCont" column="LANG_MOVI_IMG_ALTRTV_CONT" />
		<result property="dspCnrConttLang.imgMapCont" column="LANG_IMG_MAP_CONT" />
		<result property="dspCnrConttLang.imgDscr" column="LANG_IMG_DSCR" />

		<result property="dspCnrSetLang.setNm" column="LNANG_SET_NM" />
		<result property="dspCnrSetLang.setDscr" column="LANG_SET_DSCR" />
		
		<result property="stkCdNm" column="CD_NM" />
	</resultMap>

	<resultMap type="godImg" id="CnrGodImgFoResultMap">
		<result property="godNo" column="GIMG_GOD_NO" />
		<result property="imgTurn" column="IMG_TURN" />
		<result property="imgSizeCd" column="IMG_SIZE_CD" />
		<result property="imgUrl" column="IMG_URL" />
		<result property="rprstImgYn" column="RPRST_IMG_YN" />
		<result property="imgDscr" column="IMG_DSCR" />
		<result property="imgAprvYn" column="IMG_APRV_YN" />
		<result property="imgUseYn" column="IMG_USE_YN" />
		<result property="imgLastUdtDt" column="IMG_LAST_UDT_DT" />
	</resultMap>


	<resultMap type="com.plgrim.ncp.biz.display.result.DspCnrConttGodFoResult"
		id="dspCnrGodFoResultMap">

		<result property="god.godNo" column="GOD_NO" />
		<result property="god.erpGodNo" column="ERP_GOD_NO" />
		<result property="god.dsgnGrpNo" column="DSGN_GRP_NO" />
		<result property="god.godNm" column="GOD_NM" />
		<result property="god.mobileGodNm" column="MOBILE_GOD_NM" />
		<result property="god.tagNm" column="TAG_NM" />
		<result property="god.colorTagNm" column="COLOR_TAG_NM" />
		<result property="god.themaTagNm" column="THEMA_TAG_NM" />
		<result property="god.godAprvSectCd" column="GOD_APRV_SECT_CD" />
		<result property="god.godSaleSectCd" column="GOD_SALE_SECT_CD" />
		<result property="god.saleBegDate" column="SALE_BEG_DATE" />
		<result property="god.saleEndDate" column="SALE_END_DATE" />
		<result property="god.colorNm" column="COLOR_NM" />
		<result property="god.colorCd" column="COLOR_CD" />
		<result property="god.clorChipImgUrl" column="CLOR_CHIP_IMG_URL" />
		<result property="god.godTpCd" column="GOD_TP_CD" />
		<result property="god.partmalSectCd" column="PARTMAL_SECT_CD" />
		<result property="god.brndId" column="GOD_BRND_ID" />
		<result property="god.brndGrpId" column="GOD_BRND_GRP_ID" />
		<result property="god.stdCtgryNo" column="STD_CTGRY_NO" />
		<result property="god.tdfSect" column="TDF_SECT" />
		<result property="god.sesonGrpCd" column="SESON_GRP_CD" />
		<result property="god.sesonCd" column="SESON_CD" />
		<result property="god.prdlstCd" column="PRDLST_CD" />
		<result property="god.srsId" column="SRS_ID" />
		<result property="god.lneId" column="LNE_ID" />

		<result property="god.resveSaleGodYn" column="RESVE_SALE_GOD_YN" />
		<result property="god.resveOrdPaySectCd" column="RESVE_ORD_PAY_SECT_CD" />
		<result property="god.resveOrdPartPayAmt" column="RESVE_ORD_PART_PAY_AMT" />
		<result property="god.resveOrdPayClosDt" column="RESVE_ORD_PAY_CLOS_DT" />
		<result property="god.resveOrdDlivyPrearngeDate" column="RESVE_ORD_DLIVY_PREARNGE_DATE" />
		<result property="god.dmstcDlvCstPlcSn" column="DMSTC_DLV_CST_PLC_SN" />
		<result property="god.ovseaDlvPsbYn" column="OVSEA_DLV_PSB_YN" />
		<result property="god.ovseaDlvDmstcDlvCstPlcSn" column="OVSEA_DLV_DMSTC_DLV_CST_PLC_SN" />
		<result property="god.ovseaDlvCstPlcSn" column="OVSEA_DLV_CST_PLC_SN" />
		<result property="god.godWt" column="GOD_WT" />
		<result property="god.godVol" column="GOD_VOL" />
		<result property="god.shopPkupPsbYn" column="SHOP_PKUP_PSB_YN" />
		<result property="god.dspYn" column="DSP_YN" />
		<result property="god.spcifyUrlDspYn" column="SPCIFY_URL_DSP_YN" />
		<result property="god.firstDspDt" column="FIRST_DSP_DT" />
		<result property="god.prcCmprSiteExpsrYn" column="PRC_CMPR_SITE_EXPSR_YN" />
		<result property="god.godSrchSnm" column="GOD_SRCH_SNM" />
		<result property="god.comId" column="COM_ID" />
		<result property="god.buyAgeLmitCd" column="BUY_AGE_LMIT_CD" />
		<result property="god.recomendSexCd" column="RECOMEND_SEX_CD" />
		<result property="god.recomendAgeCd" column="RECOMEND_AGE_CD" />
		<result property="god.safeCrtfcTgtYn" column="SAFE_CRTFC_TGT_YN" />
		<result property="god.kcCrtfcNo" column="KC_CRTFC_NO" />
		<result property="god.invManageYn" column="INV_MANAGE_YN" />
		<result property="god.lmttInvYn" column="LMTT_INV_YN" />
		<result property="god.erpInvIntrlckYn" column="ERP_INV_INTRLCK_YN" />
		<result property="god.minOrdQty" column="MIN_ORD_QTY" />
		<result property="god.maxOrdQty" column="MAX_ORD_QTY" />
		<result property="god.otltYn" column="OTLT_YN" />


		<result property="god.csmrPrc" column="CSMR_PRC" />
		<result property="god.empPrc" column="EMP_PRC" />
		<result property="god.regtrId" column="REGTR_ID" />
		<result property="god.regDt" column="REG_DT" />
		<result property="god.udterId" column="UDTER_ID" />
		<result property="god.udtDt" column="UDT_DT" />

		<result property="dspGodPrc.rtlPrc" column="RTL_PRC" />
		<result property="dspGodPrc.godDcRt" column="DGPRC_GOD_DC_RT" />
		<result property="dspGodPrc.lastSalePrc" column="DGPRC_LAST_SALE_PRC" />
		<result property="dspGodPrc.cpnDcRt" column="DGPRC_CPN_DC_RT" />

		<result property="sysBrnd.brndId" column="BRND_ID" />
		<result property="sysBrnd.upperBrndId" column="UPPER_BRND_ID" />
		<result property="sysBrnd.brndNm" column="BRND_NM" />
		<result property="sysBrnd.brndDscr" column="BRND_DSCR" />
		<result property="sysBrnd.brndImgUrl" column="BRND_IMG_URL" />
		<result property="sysBrnd.useYn" column="USE_YN" />
		<result property="sysBrnd.sortSeq" column="SORT_SEQ" />

		<result property="godLangbyGodNm.godNo" column="GLGNM_GOD_NO" />
		<result property="godLangbyGodNm.langCd" column="LANG_CD" />
		<result property="godLangbyGodNm.godNm" column="GLGNM_GOD_NM" />
		<result property="godLangbyGodNm.mobileGodNm" column="GLGNM_MOBILE_GOD_NM" />
		<result property="godLangbyGodNm.tagNm" column="GLGNM_TAG_NM" />
		<result property="godLangbyGodNm.colorTagNm" column="GLGNM_COLOR_TAG_NM" />
		<result property="godLangbyGodNm.themaTagNm" column="GLGNM_THEMA_TAG_NM" />
		<result property="godLangbyGodNm.colorNm" column="GLGNM_COLOR_NM" />

		<result property="imgFrontUrl" column="IMG_FRONT_URL" />
		<result property="imgBackUrl" column="IMG_BACK_URL" />
		<result property="imgChoiceUrl" column="IMG_CHOICE_URL" />
		<result property="mnfcturDate" column="MNFCTUR_DATE"/>
	</resultMap>

	<resultMap type="com.plgrim.ncp.biz.display.result.DspCnrConttPromtFoResult"
		id="dspCnrConttPromtResult">
		<result property="dspPromt.promtSn" column="PROMT_SN" />
		<result property="dspPromt.promtNm" column="PROMT_NM" />
		<result property="dspPromt.promtAprvStatCd" column="PROMT_APRV_STAT_CD" />
		<result property="dspPromt.promtAprvDt" column="PROMT_APRV_DT" />
		<result property="dspPromt.promtAprvRejectDt" column="PROMT_APRV_REJECT_DT" />
		<result property="dspPromt.promtAprvRejectResnCont" column="PROMT_APRV_REJECT_RESN_CONT" />
		<result property="dspPromt.promtTpCd" column="PROMT_TP_CD" />
		<result property="dspPromt.dspBegDt" column="DSP_BEG_DT" />
		<result property="dspPromt.dspEndDt" column="DSP_END_DT" />
		<result property="dspPromt.dspYn" column="DSP_YN" />
		<result property="dspPromt.chrgMdAdminId" column="CHRG_MD_ADMIN_ID" />
		<result property="dspPromt.sortSeq" column="SORT_SEQ" />
		<result property="dspPromt.spcifyUrlDspYn" column="SPCIFY_URL_DSP_YN" />
		<result property="dspPromt.b2eCrtfcCd" column="B2E_CRTFC_CD" />
		<result property="dspPromt.dspGodSortStdrCd" column="DSP_GOD_SORT_STDR_CD" />
		<result property="dspPromt.signlCrtfcYn" column="SIGNL_CRTFC_YN" />
		<result property="dspPromt.pcMobileTmplatIndUseYn" column="PC_MOBILE_TMPLAT_IND_USE_YN" />
		<result property="dspPromt.pcTmplatSn" column="PC_TMPLAT_SN" />
		<result property="dspPromt.mobileTmplatSn" column="MOBILE_TMPLAT_SN" />
		<result property="dspPromt.pcMobileImgIndUseYn" column="PC_MOBILE_IMG_IND_USE_YN" />
		<result property="dspPromt.pcImgFileNm" column="PC_IMG_FILE_NM" />
		<result property="dspPromt.pcImgFileUrl" column="PC_IMG_FILE_URL" />
		<result property="dspPromt.pcImgAltrtvCont" column="PC_IMG_ALTRTV_CONT" />
		<result property="dspPromt.mobileImgFileNm" column="MOBILE_IMG_FILE_NM" />
		<result property="dspPromt.mobileImgFileUrl" column="MOBILE_IMG_FILE_URL" />
		<result property="dspPromt.mobileImgAltrtvCont" column="MOBILE_IMG_ALTRTV_CONT" />

		<result property="dspPromtLang.promtSn" column="P_PROMT_SN" />
		<result property="dspPromtLang.langCd" column="LANG_CD" />
		<result property="dspPromtLang.promtNm" column="P_PROMT_NM" />
		<result property="dspPromtLang.pcImgFileNm" column="P_PC_RPRST_IMG_FILE_NM" />
		<result property="dspPromtLang.pcImgFileUrl" column="P_PC_RPRST_IMG_FILE_URL" />
		<result property="dspPromtLang.pcImgAltrtvCont" column="P_PC_RPRST_IMG_ALTRTV_CONT" />
		<result property="dspPromtLang.mobileImgFileNm" column="P_MOBILE_RPRST_IMG_FILE_NM" />
		<result property="dspPromtLang.mobileImgFileUrl" column="P_MOBILE_RPRST_IMG_FILE_URL" />
		<result property="dspPromtLang.mobileImgAltrtvCont" column="P_MOBILE_RPRST_IMG_ALTRTV_CONT" />
	</resultMap>

	<resultMap type="com.plgrim.ncp.biz.display.result.DspCnrConttStrndFoResult"
		id="dspCnrConttStrndResult">
		<result property="dspStrnd.strndSn" column="STRND_SN" />
		<result property="dspStrnd.strndTpCd" column="STRND_TP_CD" />
		<result property="dspStrnd.strndNm" column="STRND_NM" />
		<result property="dspStrnd.strndDscr" column="STRND_DSCR" />
		<result property="dspStrnd.dspBegDt" column="DSP_BEG_DT" />
		<result property="dspStrnd.dspEndDt" column="DSP_END_DT" />
		<result property="dspStrnd.dspYn" column="DSP_YN" />
		<result property="dspStrnd.sortSeq" column="SORT_SEQ" />
		<result property="dspStrnd.brndId" column="BRND_ID" />
		<result property="dspStrnd.sesonCd" column="SESON_CD" />
		<result property="dspStrnd.rprstImgFileNm" column="RPRST_IMG_FILE_NM" />
		<result property="dspStrnd.rprstImgFileUrl" column="RPRST_IMG_FILE_URL" />
		<result property="dspStrnd.rprstImgAltrtvCont" column="RPRST_IMG_ALTRTV_CONT" />
		<result property="dspStrnd.pcMobileTmplatIndUseYn" column="PC_MOBILE_TMPLAT_IND_USE_YN" />
		<result property="dspStrnd.pcTmplatSn" column="PC_TMPLAT_SN" />
		<result property="dspStrnd.mobileTmplatSn" column="MOBILE_TMPLAT_SN" />
		<result property="dspStrnd.regDt" column="REG_DT" />

		<result property="dspStrndLang.strndSn" column="DSTLANG_STRND_SN" />
		<result property="dspStrndLang.langCd" column="LANG_CD" />
		<result property="dspStrndLang.strndNm" column="DSTLANG_STRND_NM" />
		<result property="dspStrndLang.strndDscr" column="DSTLANG_STRND_DSCR" />
		<result property="dspStrndLang.rprstImgFileNm" column="DSTLANG_RPRST_IMG_FILE_NM" />
		<result property="dspStrndLang.rprstImgFileUrl" column="DSTLANG_RPRST_IMG_FILE_URL" />
		<result property="dspStrndLang.rprstImgAltrtvCont" column="DSTLANG_RPRST_IMG_ALTRTV_CONT" />
		
		<result property="sysBrnd.brndNm" column="BRND_NM" />
		<result property="sysBrndLang.brndNm" column="DSTLANG_BRND_NM" />
		
	</resultMap>
	
	<select id="selectDspCnrFo" parameterType="com.plgrim.ncp.biz.display.data.DspCnrSearchFoDTO"
		resultMap="dspCnrFoResultMap">

		SELECT /* [display.corner.xml][selectDspCnrFo][selectDspCnrFo][주문욱] */
		t1.CNR_SN
		,t1.DSP_CNR_NM
		,t1.DSP_CNR_DSCR
		,t1.USE_YN

		,t2.CNR_SN AS DCSET_CNR_SN
		,t2.CNR_TP_GRP_SN DCSET_CNR_TP_GRP_SN
		,t2.CNR_SET_SN
		,t2.SET_NM
		,t2.SET_DSCR
		,t2.SORT_SEQ
		,t2.DSP_CTGRY_NO
		,t2.PROMT_SN
		,t2.EVT_NO
		,t2.STRND_SN

		,t3.CNR_SN AS DCSLANG_CNR_SN
		,t3.CNR_SET_SN AS DCSLANG_CNR_SET_SN
		,t3.LANG_CD
		,t3.SET_NM AS DCSLANG_SET_NM
		,t3.SET_DSCR AS DCSLANG_SET_DSCR

		FROM DSP_CNR t1
		JOIN DSP_CNR_SET t2 ON (
		T1.CNR_SN = t2.CNR_SN
		<choose>
			<when test="parentType == 'THEMA_PGE'">
				AND t2.DSP_CTGRY_NO = #{parentStringCd}
			</when>
			<when test="parentType == 'DSP_CTGRY'">
				AND t2.DSP_CTGRY_NO = #{parentStringCd}
			</when>
			<when test="parentType == 'S_TRND'">
				AND t2.STRND_SN = #{parentIntCd}
			</when>
			<when test="parentType == 'EVT'">
				AND t2.EVT_NO = #{parentStringCd}
			</when>
			<when test="parentType == 'PROMT'">
				AND t2.PROMT_SN = #{parentIntCd}
			</when>
			<otherwise />
		</choose>
		)
		LEFT OUTER JOIN DSP_CNR_SET_LANG t3 ON t2.CNR_SET_SN = t3.CNR_SET_SN AND
		t3.LANG_CD = #{lang,jdbcType=VARCHAR}

		WHERE 1 = 1
		AND t1.CNR_SN = #{dspCnr.cnrSn,jdbcType=NUMERIC}
		AND t1.USE_YN = 'Y'
        AND T2.DSP_YN = 'Y'
		<if test='lang != null and lang != ""'>
		AND EXISTS (
				SELECT 1
				FROM   DSP_CNR_CONTT T4
				     , DSP_CNR_CONTT_DSP_TGT T5
				WHERE  1=1
				AND    T4.CNR_SN = T2.CNR_SN
				AND    T4.CNR_SET_SN = T2.CNR_SET_SN
				AND    T4.CNR_SN = T5.CNR_SN
				AND    T4.CNR_SET_SN = T5.CNR_SET_SN
				AND    T5.DSP_TGT_TP_CD = 'LANG'
				AND    T5.LANG_CD = #{lang,jdbcType=VARCHAR}
		)
		</if>

		ORDER BY t2.SORT_SEQ asc


	</select>

	<select id="selectDspCnrConttFoList" parameterType="com.plgrim.ncp.biz.display.data.DspCnrSearchFoDTO"
		resultMap="dspCnrConttFoResultMap">

		SELECT /*
		[display.corner.xml][selectDspCnrConttFoList][selectDspCnrConttFoList][주문욱]
		*/
		t1.CNR_SN AS DCCONTT_CNR_SN
		,t1.CNR_SET_SN AS DCCONTT_CNR_SET_SN
		,t1.CONTT_TURN
		,t1.CONTT_TP_CD

		,t1.GOD_NO
		,t1.CONTT_NM
		,t1.IMG_NM
		,t1.IMG_FILE_NM
		,t1.IMG_FILE_URL
		,t1.IMG_ALTRTV_CONT
		,t1.IMG_BCRN_COLOR_CD
		,t1.IMG_MAP_CONT
		,t1.IMG_DSCR

		,t1.MOVI_NM
		,t1.MOVI_FILE_URL
		,t1.MOVI_IMG_FILE_NM
		,t1.MOVI_IMG_URL
		,t1.MOVI_IMG_ALTRTV_CONT
		,t1.HTML_SJ
		,t1.HTML_DSCR
		,t1.HTML_CONT
		,t1.PROMT_SN
		,t1.STRND_SN
		,t1.OUTPT_TP_CD
		,t1.CONTT_CNNC_URL
		,t1.SORT_SEQ AS DCCONTT_SORT_SEQ
		,t1.DSP_YN
		,t1.DSP_BEG_DT
		,t1.DSP_END_DT

		<if test="lang != null and lang != 'KOR' ">
		,t3.CNR_SN AS DCCLANG_CNR_SN
		,t3.CNR_SET_SN AS DCCLANG_CNR_SET_SN
		,t3.CONTT_TURN AS DCCLANG_CONTT_TURN
		,t3.LANG_CD
		,t3.CONTT_NM AS DCCLANG_CONTT_NM
		/* 20160525_김병철_sr#19789 [기획전 내 맵핑 영역 EN/CN 추가 개발 요청] */
		,t3.IMG_MAP_CONT AS DCCLANG_IMG_MAP_CONT
		,t3.IMG_DSCR AS DCCLANG_IMG_DSCR
		/* 20160525_김병철_sr#19789 [기획전 내 맵핑 영역 EN/CN 추가 개발 요청] */
		,t3.IMG_FILE_NM AS DCCLANG_IMG_FILE_NM
		,t3.IMG_FILE_URL AS DCCLANG_IMG_FILE_URL
		,t3.IMG_ALTRTV_CONT AS DCCLANG_IMG_ALTRTV_CONT
		,t3.MOVI_IMG_FILE_NM AS DCCLANG_MOVI_IMG_FILE_NM
		,t3.MOVI_IMG_URL AS DCCLANG_MOVI_IMG_URL
		,t3.MOVI_IMG_ALTRTV_CONT AS DCCLANG_MOVI_IMG_ALTRTV_CONT
		,t3.HTML_CONT AS DCCLANG_HTML_CONT
		</if>

		FROM DSP_CNR_CONTT t1

		<if test="lang != null and lang != 'KOR' ">
		LEFT OUTER JOIN DSP_CNR_CONTT_LANG t3 ON (
		t1.CNR_SN = t3.CNR_SN
		AND t1.CNR_SET_SN = t3.CNR_SET_SN
		AND t1.CONTT_TURN = t3.CONTT_TURN
		AND t3.LANG_CD = #{lang,jdbcType=VARCHAR}
		)
		</if>
		WHERE 1 = 1
		AND t1.CNR_SN = #{dspCnr.cnrSn}
		AND t1.CNR_SET_SN = #{dspCnrSet.cnrSetSn,jdbcType=NUMERIC}
		AND t1.DSP_YN = 'Y'

		AND t1.DSP_BEG_DT &lt;= sysdate
		AND t1.DSP_END_DT &gt;= sysdate

		AND EXISTS (
		SELECT 1
		FROM DSP_CNR_CONTT_DSP_TGT T5
		WHERE
		T1.CNR_SN = T5.CNR_SN
		AND T1.CNR_SET_SN = T5.CNR_SET_SN
		AND T1.CONTT_TURN = T5.CONTT_TURN
		AND (
		T5.DSP_TGT_TP_CD = 'LANG'
		AND T5.LANG_CD = #{lang,jdbcType=VARCHAR}
		)
		)
		AND EXISTS (
		SELECT 1
		FROM DSP_CNR_CONTT_DSP_TGT T5
		WHERE
		T1.CNR_SN = T5.CNR_SN
		AND T1.CNR_SET_SN = T5.CNR_SET_SN
		AND T1.CONTT_TURN = T5.CONTT_TURN
		AND (
		T5.DSP_TGT_TP_CD = 'DVC'
		AND T5.DVC_CD = #{device,jdbcType=VARCHAR}
		)
		)
		<if test="aplMbrAtrb != null">
			AND
			<if test="aplMbrAtrb != 'GRPCO'">
				EXISTS (
				SELECT 1
				FROM DSP_CNR_CONTT_DSP_TGT T5
				WHERE
				T1.CNR_SN = T5.CNR_SN
				AND T1.CNR_SET_SN = T5.CNR_SET_SN
				AND T1.CONTT_TURN = T5.CONTT_TURN
				AND (
				T5.DSP_TGT_TP_CD = 'TGT_MBR_ATRB'
				AND T5.TGT_MBR_ATRB_CD = #{aplMbrAtrb,jdbcType=VARCHAR}
				)
				)
			</if>
			<if test="aplMbrAtrb == 'GRPCO'">
				(
				EXISTS (
				SELECT 1
				FROM DSP_CNR_CONTT_DSP_TGT T5
				WHERE
				T1.CNR_SN = T5.CNR_SN
				AND T1.CNR_SET_SN = T5.CNR_SET_SN
				AND T1.CONTT_TURN = T5.CONTT_TURN
				AND (
				T5.DSP_TGT_TP_CD = 'TGT_MBR_ATRB'
				AND T5.TGT_MBR_ATRB_CD = 'GRPCO_IND'
				AND T5.GRPCO_ID = #{grpcoId,jdbcType=VARCHAR}
				)
				)
				OR
				EXISTS (
				SELECT 1
				FROM DSP_CNR_CONTT_DSP_TGT T5
				WHERE
				T1.CNR_SN = T5.CNR_SN
				AND T1.CNR_SET_SN = T5.CNR_SET_SN
				AND T1.CONTT_TURN = T5.CONTT_TURN
				AND (
				T5.DSP_TGT_TP_CD = 'TGT_MBR_ATRB'
				AND T5.TGT_MBR_ATRB_CD = 'GRPCO_ALL'
				)
				)
				)
			</if>
		</if>


		AND EXISTS (
		SELECT 1
		FROM DSP_CNR_CONTT_DSP_TGT T5
		WHERE
		T1.CNR_SN = T5.CNR_SN
		AND T1.CNR_SET_SN = T5.CNR_SET_SN
		AND T1.CONTT_TURN = T5.CONTT_TURN
		AND (
		T5.DSP_TGT_TP_CD = 'TGT_MBR_TP'
		AND T5.TGT_MBR_TP_CD = #{aplMbrTp,jdbcType=VARCHAR}
		)
		)
		ORDER BY
		t1.SORT_SEQ ASC

	</select>

	<select id="selectDspCnrConttGod" parameterType="com.plgrim.ncp.biz.display.data.DspCnrSearchFoDTO"
		resultMap="dspCnrGodFoResultMap">

		SELECT /*
		[display.corner.xml][selectDspCnrConttGod][selectDspCnrConttGod][주문욱]
		*/
		t1.GOD_NO
		,t1.ERP_GOD_NO
		,t1.DSGN_GRP_NO
		,t1.GOD_NM
		,t1.MOBILE_GOD_NM
		,t1.TAG_NM
		,t1.COLOR_TAG_NM
		,t1.THEMA_TAG_NM
		,t1.GOD_APRV_SECT_CD

		<choose>
	    <when test="lang != 'KOR' ">
	   		, DECODE(t1.GOD_SALE_SECT_CD, 'SALE_PROGRS_PKUP', 'SLDOUT', GOD_SALE_SECT_CD) as GOD_SALE_SECT_CD
	   	</when>
			<otherwise>
				, DECODE(t1.GOD_SALE_SECT_CD, 'SALE_PROGRS_PKUP', 'SALE_PROGRS', GOD_SALE_SECT_CD) as GOD_SALE_SECT_CD
			</otherwise>
		</choose>

		,t1.SALE_BEG_DATE
		,t1.SALE_END_DATE
		,t1.COLOR_NM
		,t1.COLOR_CD
		,t1.CLOR_CHIP_IMG_URL
		,t1.GOD_TP_CD
		,t1.PARTMAL_SECT_CD
		,t1.BRND_ID AS GOD_BRND_ID
		,t1.BRND_GRP_ID AS GOD_BRND_GRP_ID
		,t1.STD_CTGRY_NO
		,t1.TDF_SECT
		,t1.SESON_GRP_CD
		,t1.SESON_CD
		,t1.PRDLST_CD
		<!-- ,t1.SRS_ID ,t1.LNE_ID -->
		,t1.RESVE_SALE_GOD_YN
		,t1.RESVE_ORD_PAY_SECT_CD
		,t1.RESVE_ORD_PART_PAY_AMT
		,t1.RESVE_ORD_PAY_CLOS_DT
		,t1.RESVE_ORD_DLIVY_PREARNGE_DATE
		,t1.DMSTC_DLV_CST_PLC_SN
		,t1.OVSEA_DLV_PSB_YN
		,t1.OVSEA_DLV_DMSTC_DLV_CST_PLC_SN
		,t1.OVSEA_DLV_CST_PLC_SN
		<!-- ,t1.GOD_WT ,t1.GOD_VOL ,t1.SHOP_PKUP_PSB_YN ,t1.DSP_YN ,t1.SPCIFY_URL_DSP_YN 
			,t1.FIRST_DSP_DT ,t1.PRC_CMPR_SITE_EXPSR_YN ,t1.GOD_SRCH_SNM ,t1.COM_ID ,t1.BUY_AGE_LMIT_CD 
			,t1.RECOMEND_SEX_CD ,t1.RECOMEND_AGE_CD ,t1.SAFE_CRTFC_TGT_YN ,t1.KC_CRTFC_NO 
			,t1.INV_MANAGE_YN ,t1.LMTT_INV_YN ,t1.ERP_INV_INTRLCK_YN ,t1.MIN_ORD_QTY
			,t1.MAX_ORD_QTY ,t1.OTLT_YN -->
		<!-- ,t1.RTL_PRC ,t1.CSMR_PRC ,t1.EMP_PRC ,t1.REGTR_ID -->
		,t1.REG_DT
		<!-- ,t1.UDTER_ID ,t1.UDT_DT -->
		,t6.LAST_SALE_PRC AS DGPRC_LAST_SALE_PRC
		,CASE
			WHEN t6.GOD_DC_RT > 0 THEN
				ROUND ( (t6.RTL_PRC - t6.DC_PRC) / t6.RTL_PRC * 100)
			ELSE
	         (CASE
	                WHEN t6.RTL_PRC > t6.CSMR_PRC THEN                                                             
	                    ROUND((t6.RTL_PRC - t6.CSMR_PRC) / t6.RTL_PRC * 100)
	                ELSE 0  
	            END) 
		 END AS DGPRC_GOD_DC_RT
		,t6.CPN_DC_RT AS DGPRC_CPN_DC_RT
		,t6.RTL_PRC

		,t5.BRND_ID
		,t5.UPPER_BRND_ID
		<choose>
		<when test="lang != 'KOR' ">
		/* 브랜드명 다국어 변환 */
		,t55.BRND_NM
		</when>
		<otherwise>
		,t5.BRND_NM
		</otherwise>
		</choose>
		<!-- ,t5.BRND_DSCR ,t5.BRND_IMG_URL ,t5.USE_YN ,t5.SORT_SEQ AS BRND_SORT_SEQ -->
		<!-- ,t3.GOD_NO AS GLGNM_GOD_NO ,t3.LANG_CD -->
		<if test="lang != 'KOR' ">
		,t3.GOD_NM AS GLGNM_GOD_NM
		,t3.MOBILE_GOD_NM AS GLGNM_MOBILE_GOD_NM
		,t3.TAG_NM AS GLGNM_TAG_NM
		,t3.COLOR_TAG_NM AS GLGNM_COLOR_TAG_NM
		,t3.THEMA_TAG_NM AS GLGNM_THEMA_TAG_NM
		,t3.COLOR_NM AS GLGNM_COLOR_NM
		</if>
		,IMG1.IMG_URL AS IMG_FRONT_URL
		,IMG2.IMG_URL AS IMG_BACK_URL
		,IMG3.IMG_URL AS IMG_CHOICE_URL
		,T13.MNFCTUR_DATE
		FROM GOD t1
		INNER JOIN DSP_GOD_PRC t6
		ON (T1.GOD_NO = t6.GOD_NO
		AND t6.MALL_ID = #{mallId, jdbcType=VARCHAR}
		AND t6.LANG_CD = #{lang, jdbcType=VARCHAR}
		<if test='spcPrmTp != null and spcPrmTp != ""'>
			AND t6.PRC_SECT_CD = CASE
			WHEN (SELECT 1
			FROM DSP_GOD_PRC A
			WHERE A.PRC_SECT_CD = #{spcPrmTp, jdbcType=VARCHAR} AND A.GOD_NO =
			T6.GOD_NO AND ROWNUM = 1)
			IS NOT NULL
			THEN #{spcPrmTp, jdbcType=VARCHAR} ELSE #{prcSectCd, jdbcType=VARCHAR}
			END
		</if>
		<if test='spcPrmTp == null or spcPrmTp == ""'>
			AND t6.PRC_SECT_CD = #{prcSectCd, jdbcType=VARCHAR}
		</if>
		)
		JOIN SYS_BRND t5 ON T1.BRND_GRP_ID = T5.BRND_ID AND T5.USE_YN = 'Y'
		<if test="lang != 'KOR' ">
		/* 브랜드명 다국어 변환 */
		JOIN SYS_BRND_LANG t55 ON  T5.BRND_ID = T55.BRND_ID AND T55.LANG_CD = #{lang,jdbcType=VARCHAR}
		</if>
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		JOIN GOD_LANGBY_GOD_NM t3 ON t1.GOD_NO=T3.GOD_NO AND T3.LANG_CD = #{lang,jdbcType=VARCHAR} AND t3.OVSEA_DSP_STAT_CD = 'DSP_APRV'
		</if>
		LEFT OUTER JOIN GOD_IMG IMG1 ON T1.GOD_NO = IMG1.GOD_NO AND IMG1.IMG_TP_CD = 'THNAIL' AND IMG1.IMG_TURN = 0 AND IMG1.IMG_SIZE_CD = '197X260'
		LEFT OUTER JOIN GOD_IMG IMG2 ON T1.GOD_NO = IMG2.GOD_NO AND IMG2.IMG_TP_CD = 'THNAIL' AND IMG2.IMG_TURN = 1 AND IMG2.IMG_SIZE_CD = '197X260'
		LEFT OUTER JOIN GOD_IMG IMG3 ON T1.GOD_NO = IMG3.GOD_NO AND IMG3.IMG_TP_CD = 'THNAIL' AND IMG3.IMG_TURN = 0 AND IMG3.IMG_SIZE_CD = '183X241'
		LEFT OUTER JOIN GOD_NTFC_DETAIL T13 ON T1.GOD_NO = T13.GOD_NO AND T13.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND t1.GOD_NO = #{dspCnrContt.godNo,jdbcType=VARCHAR}
		AND t1.GOD_APRV_SECT_CD = 'APRV_COMPT'
		<!-- AND t1.GOD_SALE_SECT_CD IN ('SALE_PROGRS','SLDOUT') -->
        <if test='soldDspYn == "Y"'>
            AND t1.GOD_SALE_SECT_CD in ('SALE_PROGRS','SLDOUT', 'SALE_PROGRS_PKUP')
        </if>
        <if test='soldDspYn != "Y"'>
        	<choose>
				<when test="lang != 'KOR' ">
            AND t1.GOD_SALE_SECT_CD = 'SALE_PROGRS'
				</when>
				<otherwise>
					AND t1.GOD_SALE_SECT_CD IN ('SALE_PROGRS', 'SALE_PROGRS_PKUP')
				</otherwise>
			</choose>
        </if>
		AND t1.DSP_YN = 'Y'
		<!-- AND t1.GOD_TP_CD IN ('GNRL_GOD', 'SET_GOD', 'PCKAGE_GOD') AND to_date(t1.SALE_BEG_DATE, 
			'YYYYMMDDHH24MISS') &lt;= sysdate AND to_date(t1.SALE_END_DATE, 'YYYYMMDDHH24MISS') 
			&gt;= sysdate -->
		AND t1.DSP_YN = 'Y'
		AND t1.SPCIFY_URL_DSP_YN = 'N'
		<if test='empYn == "N"'>
			AND t1.EMP_ONLY_YN = 'N'
		</if>
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		AND t1.OVSEA_DLV_PSB_YN = 'Y'
		</if>
	</select>

	<select id="selectDspCnrConttGod2_cashe" parameterType="map"
		resultMap="dspCnrGodFoResultMap">
		SELECT /*
		[display.corner.xml][selectDspCnrConttGod2][selectDspCnrConttGod2][주문욱]
		*/
		t1.GOD_NO
		,t1.ERP_GOD_NO
		,t1.DSGN_GRP_NO
		,t1.GOD_NM
		,t1.MOBILE_GOD_NM
		,t1.TAG_NM
		,t1.COLOR_TAG_NM
		,t1.THEMA_TAG_NM
		,t1.GOD_APRV_SECT_CD
		,t1.GOD_SALE_SECT_CD
		,t1.SALE_BEG_DATE
		,t1.SALE_END_DATE
		,t1.COLOR_NM
		,t1.COLOR_CD
		,t1.CLOR_CHIP_IMG_URL
		,t1.GOD_TP_CD
		,t1.PARTMAL_SECT_CD
		,t1.BRND_ID AS GOD_BRND_ID
		,t1.BRND_GRP_ID AS GOD_BRND_GRP_ID
		,t1.STD_CTGRY_NO
		,t1.TDF_SECT
		,t1.SESON_GRP_CD
		,t1.SESON_CD
		,t1.PRDLST_CD
		<!-- ,t1.SRS_ID ,t1.LNE_ID -->
		,t1.RESVE_SALE_GOD_YN
		,t1.RESVE_ORD_PAY_SECT_CD
		,t1.RESVE_ORD_PART_PAY_AMT
		,t1.RESVE_ORD_PAY_CLOS_DT
		,t1.RESVE_ORD_DLIVY_PREARNGE_DATE
		,t1.DMSTC_DLV_CST_PLC_SN
		,t1.OVSEA_DLV_PSB_YN
		,t1.OVSEA_DLV_DMSTC_DLV_CST_PLC_SN
		,t1.OVSEA_DLV_CST_PLC_SN
		<!-- ,t1.GOD_WT ,t1.GOD_VOL ,t1.SHOP_PKUP_PSB_YN ,t1.DSP_YN ,t1.SPCIFY_URL_DSP_YN 
			,t1.FIRST_DSP_DT ,t1.PRC_CMPR_SITE_EXPSR_YN ,t1.GOD_SRCH_SNM ,t1.COM_ID ,t1.BUY_AGE_LMIT_CD 
			,t1.RECOMEND_SEX_CD ,t1.RECOMEND_AGE_CD ,t1.SAFE_CRTFC_TGT_YN ,t1.KC_CRTFC_NO 
			,t1.INV_MANAGE_YN ,t1.LMTT_INV_YN ,t1.ERP_INV_INTRLCK_YN ,t1.MIN_ORD_QTY
			,t1.MAX_ORD_QTY -->
		,t1.OTLT_YN
		<!-- ,t1.RTL_PRC ,t1.CSMR_PRC ,t1.EMP_PRC ,t1.REGTR_ID -->
		,t1.REG_DT
		<!-- ,t1.UDTER_ID ,t1.UDT_DT -->
		,t6.LAST_SALE_PRC AS DGPRC_LAST_SALE_PRC
        ,CASE
        	WHEN t6.GOD_DC_RT > 0 THEN
        		ROUND ( (t6.RTL_PRC - t6.DC_PRC) / t6.RTL_PRC * 100)
        	ELSE
         	(CASE
                WHEN t6.RTL_PRC > t6.CSMR_PRC THEN                                                             
                    ROUND((t6.RTL_PRC - t6.CSMR_PRC) / t6.RTL_PRC * 100)
                ELSE 0  
            END)
         END AS DGPRC_GOD_DC_RT
		,t6.CPN_DC_RT AS DGPRC_CPN_DC_RT
		,t6.RTL_PRC

		,t5.BRND_ID
		,t5.UPPER_BRND_ID
		,t5.BRND_NM
		<!-- ,t5.BRND_DSCR ,t5.BRND_IMG_URL ,t5.USE_YN ,t5.SORT_SEQ AS BRND_SORT_SEQ 
			,t3.GOD_NO AS GLGNM_GOD_NO ,t3.LANG_CD -->
		,t3.GOD_NM AS GLGNM_GOD_NM
		,t3.MOBILE_GOD_NM AS GLGNM_MOBILE_GOD_NM
		,t3.TAG_NM AS GLGNM_TAG_NM
		,t3.COLOR_TAG_NM AS GLGNM_COLOR_TAG_NM
		,t3.THEMA_TAG_NM AS GLGNM_THEMA_TAG_NM
		,t3.COLOR_NM AS GLGNM_COLOR_NM

		,IMG1.IMG_URL AS IMG_FRONT_URL
		,IMG2.IMG_URL AS IMG_BACK_URL
		,IMG3.IMG_URL AS IMG_CHOICE_URL
		FROM GOD t1
		INNER JOIN DSP_GOD_PRC t6
		ON (T1.GOD_NO = t6.GOD_NO
		AND t6.MALL_ID = #{mallId, jdbcType=VARCHAR}
		AND t6.LANG_CD = #{lang, jdbcType=VARCHAR}
		<if test='spcPrmTp != null and spcPrmTp != ""'>
			AND t6.PRC_SECT_CD = CASE
			WHEN (SELECT 1
			FROM DSP_GOD_PRC A
			WHERE A.PRC_SECT_CD = #{spcPrmTp, jdbcType=VARCHAR} AND A.GOD_NO =
			T6.GOD_NO AND ROWNUM = 1)
			IS NOT NULL
			THEN #{spcPrmTp, jdbcType=VARCHAR} ELSE #{prcSectCd, jdbcType=VARCHAR}
			END
		</if>
		<if test='spcPrmTp == null or spcPrmTp == ""'>
			AND t6.PRC_SECT_CD = #{prcSectCd, jdbcType=VARCHAR}
		</if>
		)
		JOIN SYS_BRND t5 ON T1.BRND_GRP_ID = T5.BRND_ID AND T5.USE_YN = 'Y'
		LEFT OUTER JOIN GOD_LANGBY_GOD_NM t3 ON t1.GOD_NO=T3.GOD_NO AND T3.LANG_CD
		= #{lang,jdbcType=VARCHAR}
		LEFT OUTER JOIN GOD_IMG IMG1 ON T1.GOD_NO = IMG1.GOD_NO AND IMG1.IMG_TP_CD
		= 'THNAIL' AND IMG1.IMG_TURN = 0 AND IMG1.IMG_SIZE_CD = '197X260'
		LEFT OUTER JOIN GOD_IMG IMG2 ON T1.GOD_NO = IMG2.GOD_NO AND IMG2.IMG_TP_CD
		= 'THNAIL' AND IMG2.IMG_TURN = 1 AND IMG2.IMG_SIZE_CD = '197X260'
		LEFT OUTER JOIN GOD_IMG IMG3 ON T1.GOD_NO = IMG3.GOD_NO AND IMG3.IMG_TP_CD
		= 'THNAIL' AND IMG3.IMG_TURN = 0 AND IMG3.IMG_SIZE_CD = '183X241'
		WHERE 1 = 1
		AND t1.GOD_NO IN
		<foreach item="goodNo" collection="godNoList" open="("
			separator="," close=")">
			#{goodNo,jdbcType=VARCHAR}
		</foreach>
		AND t1.GOD_APRV_SECT_CD = 'APRV_COMPT'
		<!-- AND t1.GOD_SALE_SECT_CD IN ('SALE_PROGRS','SLDOUT') -->
		AND t1.GOD_SALE_SECT_CD = 'SALE_PROGRS'
		AND t1.DSP_YN = 'Y'
		<!-- AND t1.GOD_TP_CD IN ('GNRL_GOD', 'SET_GOD', 'PCKAGE_GOD') AND to_date(t1.SALE_BEG_DATE, 
			'YYYYMMDDHH24MISS') &lt;= sysdate AND to_date(t1.SALE_END_DATE, 'YYYYMMDDHH24MISS') 
			&gt;= sysdate -->
		AND t1.DSP_YN = 'Y'
		AND t1.SPCIFY_URL_DSP_YN = 'N'
		<if test='empYn == "N"'>
			AND t1.EMP_ONLY_YN = 'N'
		</if>
	</select>

	<select id="selectDspCnrConttGodMallMain" parameterType="map"
		resultMap="dspCnrGodFoResultMap">
		SELECT /*
		[display.corner.xml][selectDspCnrConttGod2][selectDspCnrConttGodMallMain][주문욱]
		*/
		e.*
		FROM (
		SELECT
		d.*
		FROM (
		SELECT
		c.*, ROWNUM AS NO
		FROM (
		SELECT
		b.*
		FROM (
		SELECT
		a.*
		,t3.GOD_NM AS GLGNM_GOD_NM
		,t3.MOBILE_GOD_NM AS GLGNM_MOBILE_GOD_NM
		,t3.TAG_NM AS GLGNM_TAG_NM
		,t3.COLOR_TAG_NM AS GLGNM_COLOR_TAG_NM
		,t3.THEMA_TAG_NM AS GLGNM_THEMA_TAG_NM
		,t3.COLOR_NM AS GLGNM_COLOR_NM
		,IMG1.IMG_URL AS IMG_FRONT_URL
		,IMG2.IMG_URL AS IMG_BACK_URL
		,BSD.STT_RANK
		,BSD.SALE_AMT
		,SALE_QTY
		FROM (
		SELECT
		t1.GOD_NO
		,t1.ERP_GOD_NO
		,t1.DSGN_GRP_NO
		,t1.GOD_NM
		,t1.MOBILE_GOD_NM
		,t1.TAG_NM
		,t1.COLOR_TAG_NM
		,t1.THEMA_TAG_NM
		,t1.GOD_APRV_SECT_CD
		,t1.GOD_SALE_SECT_CD
		,t1.SALE_BEG_DATE
		,t1.SALE_END_DATE
		,t1.COLOR_NM
		,t1.COLOR_CD
		,t1.CLOR_CHIP_IMG_URL
		,t1.GOD_TP_CD
		,t1.PARTMAL_SECT_CD
		,t1.BRND_ID AS GOD_BRND_ID
		,t1.BRND_GRP_ID AS GOD_BRND_GRP_ID
		,t1.STD_CTGRY_NO
		,t1.TDF_SECT
		,t1.SESON_GRP_CD
		,t1.SESON_CD
		,t1.PRDLST_CD
		,t1.RESVE_SALE_GOD_YN
		,t1.RESVE_ORD_PAY_SECT_CD
		,t1.RESVE_ORD_PART_PAY_AMT
		,t1.RESVE_ORD_PAY_CLOS_DT
		,t1.RESVE_ORD_DLIVY_PREARNGE_DATE
		,t1.DMSTC_DLV_CST_PLC_SN
		,t1.OVSEA_DLV_PSB_YN
		,t1.OVSEA_DLV_DMSTC_DLV_CST_PLC_SN
		,t1.OVSEA_DLV_CST_PLC_SN
		,t1.OTLT_YN
		,t1.REG_DT
		,t2.DSP_CTGRY_NO
		,t6.LAST_SALE_PRC AS DGPRC_LAST_SALE_PRC
		,CASE
			WHEN t6.GOD_DC_RT > 0 THEN
				ROUND ( (t6.RTL_PRC - t6.DC_PRC) / t6.RTL_PRC * 100)
			ELSE
	         (CASE
	                WHEN t6.RTL_PRC > t6.CSMR_PRC THEN                                                             
	                    ROUND((t6.RTL_PRC - t6.CSMR_PRC) / t6.RTL_PRC * 100)
	                ELSE 0  
	            END) 
		 END AS DGPRC_GOD_DC_RT
		,t6.CPN_DC_RT AS DGPRC_CPN_DC_RT
		,t6.RTL_PRC
		,t5.BRND_ID
		,t5.UPPER_BRND_ID
		,t5.BRND_NM
		FROM GOD t1
		INNER JOIN DSP_GOD_PRC t6
		ON (T1.GOD_NO = t6.GOD_NO
		AND t6.MALL_ID = #{mallId, jdbcType=VARCHAR}
		AND t6.LANG_CD = #{lang, jdbcType=VARCHAR}
		<if test='spcPrmTp != null and spcPrmTp != ""'>
			AND t6.PRC_SECT_CD = CASE
			WHEN (SELECT 1
			FROM DSP_GOD_PRC A
			WHERE A.PRC_SECT_CD = #{spcPrmTp, jdbcType=VARCHAR} AND A.GOD_NO =
			T6.GOD_NO AND ROWNUM = 1)
			IS NOT NULL
			THEN #{spcPrmTp, jdbcType=VARCHAR} ELSE #{prcSectCd, jdbcType=VARCHAR}
			END
		</if>
		<if test='spcPrmTp == null or spcPrmTp == ""'>
			AND t6.PRC_SECT_CD = #{prcSectCd, jdbcType=VARCHAR}
		</if>
		)
		JOIN DSP_CTGRY_CNNC_GOD t2 ON t1.GOD_NO = t2.GOD_NO AND t2.DSP_YN = 'Y'
		JOIN SYS_BRND t5 ON T1.BRND_ID = T5.BRND_ID AND T5.USE_YN = 'Y'
		WHERE 1
		= 1
		AND t1.GOD_APRV_SECT_CD = 'APRV_COMPT'
		AND t1.GOD_SALE_SECT_CD = 'SALE_PROGRS'
		AND t1.DSP_YN = 'Y'
		AND t1.DSP_YN = 'Y'
		AND t1.SPCIFY_URL_DSP_YN = 'N'
		<if test='empYn == "N"'>
			AND t1.EMP_ONLY_YN = 'N'
		</if>
		) a
		LEFT OUTER JOIN GOD_LANGBY_GOD_NM t3 ON a.GOD_NO=T3.GOD_NO AND
		T3.LANG_CD = #{lang,jdbcType=VARCHAR}
		LEFT OUTER JOIN GOD_IMG IMG1 ON a.GOD_NO = IMG1.GOD_NO AND IMG1.IMG_TP_CD
		= 'THNAIL' AND IMG1.IMG_TURN = 0 AND IMG1.IMG_SIZE_CD = '197X260'
		LEFT
		OUTER JOIN GOD_IMG IMG2 ON a.GOD_NO = IMG2.GOD_NO AND IMG2.IMG_TP_CD =
		'THNAIL' AND IMG2.IMG_TURN = 1 AND IMG2.IMG_SIZE_CD = '197X260'
		LEFT
		OUTER JOIN DSP_CTGRY_BST_GOD BSD ON a.DSP_CTGRY_NO = BSD.DSP_CTGRY_NO
		AND a.GOD_NO = BSD.GOD_NO
		) b
		ORDER BY b.SALE_AMT DESC
		) c
		) d
		WHERE d.NO &lt;= #{endIndex}
		) e
		WHERE NO &gt;= #{beginIndex}
	</select>

	<select id="selectDspCnrConttDspPromt" parameterType="com.plgrim.ncp.biz.display.data.DspCnrSearchFoDTO"
		resultMap="dspCnrConttPromtResult">
		SELECT /*
		[display.corner.xml][selectDspCnrConttDspPromt][selectDspCnrConttDspPromt][주문욱]
		*/
		t1.PROMT_SN
		,t1.PROMT_NM
		,t1.PROMT_APRV_STAT_CD
		,t1.PROMT_APRV_DT
		,t1.PROMT_APRV_REJECT_DT
		,t1.PROMT_APRV_REJECT_RESN_CONT
		,t1.PROMT_TP_CD
		,t1.DSP_BEG_DT
		,t1.DSP_END_DT
		,t1.DSP_YN
		,t1.CHRG_MD_ADMIN_ID
		,t1.SORT_SEQ
		,t1.SPCIFY_URL_DSP_YN
		,t1.B2E_CRTFC_CD
		,t1.DSP_GOD_SORT_STDR_CD
		,t1.SIGNL_CRTFC_YN
		,t1.PC_MOBILE_TMPLAT_IND_USE_YN
		,t1.PC_TMPLAT_SN
		,t1.MOBILE_TMPLAT_SN
		,t1.PC_MOBILE_IMG_IND_USE_YN
		,t1.PC_IMG_FILE_NM
		,t1.PC_IMG_FILE_URL
		,t1.PC_IMG_ALTRTV_CONT
		,t1.MOBILE_IMG_FILE_NM
		,t1.MOBILE_IMG_FILE_URL
		,t1.MOBILE_IMG_ALTRTV_CONT

		,t2.PROMT_SN AS P_PROMT_SN
		,t2.LANG_CD
		,t2.PROMT_NM AS P_PROMT_NM
		,t2.PC_IMG_FILE_NM AS P_PC_RPRST_IMG_FILE_NM
		,t2.PC_IMG_FILE_URL AS P_PC_RPRST_IMG_FILE_URL
		,t2.PC_IMG_ALTRTV_CONT AS P_PC_RPRST_IMG_ALTRTV_CONT
		,t2.MOBILE_IMG_FILE_NM AS P_MOBILE_RPRST_IMG_FILE_NM
		,t2.MOBILE_IMG_FILE_URL AS P_MOBILE_RPRST_IMG_FILE_URL
		,t2.MOBILE_IMG_ALTRTV_CONT AS P_MOBILE_RPRST_IMG_ALTRTV_CONT

		FROM DSP_PROMT t1
		LEFT OUTER JOIN DSP_PROMT_LANG t2 ON t1.PROMT_SN = T2.PROMT_SN AND
		T2.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND t1.PROMT_SN = #{dspCnrContt.promtSn,jdbcType=NUMERIC}
		AND t1.PROMT_APRV_STAT_CD = 'APRV_COMPT'
        <![CDATA[
        AND 	t1.DSP_BEG_DT <= sysdate
        AND		t1.DSP_END_DT >= sysdate
        ]]>
		AND t1.DSP_YN = 'Y'
		AND t1.SPCIFY_URL_DSP_YN = 'N'
	</select>

	<select id="selectDspCnrConttDspPromt2_cahse" parameterType="map"
		resultMap="dspCnrConttPromtResult">
		SELECT /*
		[display.corner.xml][selectDspCnrConttDspPromt2][selectDspCnrConttDspPromt2][주문욱]
		*/
		t1.PROMT_SN
		,t1.PROMT_NM
		,t1.PROMT_APRV_STAT_CD
		,t1.PROMT_APRV_DT
		,t1.PROMT_APRV_REJECT_DT
		,t1.PROMT_APRV_REJECT_RESN_CONT
		,t1.PROMT_TP_CD
		,t1.DSP_BEG_DT
		,t1.DSP_END_DT
		,t1.DSP_YN
		,t1.CHRG_MD_ADMIN_ID
		,t1.SORT_SEQ
		,t1.SPCIFY_URL_DSP_YN
		,t1.B2E_CRTFC_CD
		,t1.DSP_GOD_SORT_STDR_CD
		,t1.SIGNL_CRTFC_YN
		,t1.PC_MOBILE_TMPLAT_IND_USE_YN
		,t1.PC_TMPLAT_SN
		,t1.MOBILE_TMPLAT_SN
		,t1.PC_MOBILE_IMG_IND_USE_YN
		,t1.PC_IMG_FILE_NM
		,t1.PC_IMG_FILE_URL
		,t1.PC_IMG_ALTRTV_CONT
		,t1.MOBILE_IMG_FILE_NM
		,t1.MOBILE_IMG_FILE_URL
		,t1.MOBILE_IMG_ALTRTV_CONT

		,t2.PROMT_SN AS P_PROMT_SN
		,t2.LANG_CD
		,t2.PROMT_NM AS P_PROMT_NM
		,t2.PC_IMG_FILE_NM AS P_PC_RPRST_IMG_FILE_NM
		,t2.PC_IMG_FILE_URL AS P_PC_RPRST_IMG_FILE_URL
		,t2.PC_IMG_ALTRTV_CONT AS P_PC_RPRST_IMG_ALTRTV_CONT
		,t2.MOBILE_IMG_FILE_NM AS P_MOBILE_RPRST_IMG_FILE_NM
		,t2.MOBILE_IMG_FILE_URL AS P_MOBILE_RPRST_IMG_FILE_URL
		,t2.MOBILE_IMG_ALTRTV_CONT AS P_MOBILE_RPRST_IMG_ALTRTV_CONT

		FROM DSP_PROMT t1
		LEFT OUTER JOIN DSP_PROMT_LANG t2 ON t1.PROMT_SN = T2.PROMT_SN AND
		T2.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND t1.PROMT_SN IN
		<foreach item="promtSn" collection="promtSnList" open="("
			separator="," close=")">
			#{promtSn,jdbcType=NUMERIC}
		</foreach>
		AND t1.PROMT_APRV_STAT_CD = 'APRV_COMPT'
        <![CDATA[
        AND 	t1.DSP_BEG_DT <= sysdate
        AND		t1.DSP_END_DT >= sysdate
        ]]>
		AND t1.DSP_YN = 'Y'
		AND t1.SPCIFY_URL_DSP_YN = 'N'
	</select>

	<select id="selectDspCnrConttSTrnd" parameterType="com.plgrim.ncp.biz.display.data.DspCnrSearchFoDTO"
		resultMap="dspCnrConttStrndResult">
		SELECT /*
		[display.corner.xml][selectDspCnrConttSTrnd][selectDspCnrConttSTrnd][주문욱]
		*/
		t1.STRND_SN
		,t1.STRND_TP_CD
		,t1.STRND_NM
		,t1.STRND_DSCR
		,t1.DSP_BEG_DT
		,t1.DSP_END_DT
		,t1.DSP_YN
		,t1.SORT_SEQ
		,t1.BRND_ID
		,t1.SESON_CD
		,t1.RPRST_IMG_FILE_NM
		,t1.RPRST_IMG_FILE_URL
		,t1.RPRST_IMG_ALTRTV_CONT
		,t1.PC_MOBILE_TMPLAT_IND_USE_YN
		,t1.PC_TMPLAT_SN
		,t1.MOBILE_TMPLAT_SN
		,t1.REG_DT

		,t2.STRND_SN AS DSTLANG_STRND_SN
		,t2.LANG_CD
		,t2.STRND_NM AS DSTLANG_STRND_NM
		,t2.STRND_DSCR AS DSTLANG_STRND_DSCR
		,t2.RPRST_IMG_FILE_NM AS DSTLANG_RPRST_IMG_FILE_NM
		,t2.RPRST_IMG_FILE_URL AS DSTLANG_RPRST_IMG_FILE_URL
		,t2.RPRST_IMG_ALTRTV_CONT AS DSTLANG_RPRST_IMG_ALTRTV_CONT

		FROM DSP_STRND t1
		LEFT OUTER JOIN DSP_STRND_LANG t2 ON t1.STRND_SN = T2.STRND_SN AND
		T2.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND t1.STRND_SN = #{sTrndSn,jdbcType=NUMERIC}
		AND t1.DSP_YN = 'Y'
        <![CDATA[
        AND 	t1.DSP_BEG_DT <= sysdate
        AND		t1.DSP_END_DT >= sysdate
        ]]>
	</select>

	<select id="selectDspCnrConttSTrnd2_cashe" parameterType="map"
		resultMap="dspCnrConttStrndResult">
		SELECT /*
		[display.corner.xml][selectDspCnrConttSTrnd2][selectDspCnrConttSTrnd2][주문욱]
		*/
		t1.STRND_SN
		,t1.STRND_TP_CD
		,t1.STRND_NM
		,t1.STRND_DSCR
		,t1.DSP_BEG_DT
		,t1.DSP_END_DT
		,t1.DSP_YN
		,t1.SORT_SEQ
		,t1.BRND_ID
		,t1.SESON_CD
		,t1.RPRST_IMG_FILE_NM
		,t1.RPRST_IMG_FILE_URL
		,t1.RPRST_IMG_ALTRTV_CONT
		,t1.PC_MOBILE_TMPLAT_IND_USE_YN
		,t1.PC_TMPLAT_SN
		,t1.MOBILE_TMPLAT_SN
		,t1.REG_DT

		,t2.STRND_SN AS DSTLANG_STRND_SN
		,t2.LANG_CD
		,t2.STRND_NM AS DSTLANG_STRND_NM
		,t2.STRND_DSCR AS DSTLANG_STRND_DSCR
		,t2.RPRST_IMG_FILE_NM AS DSTLANG_RPRST_IMG_FILE_NM
		,t2.RPRST_IMG_FILE_URL AS DSTLANG_RPRST_IMG_FILE_URL
		,t2.RPRST_IMG_ALTRTV_CONT AS DSTLANG_RPRST_IMG_ALTRTV_CONT

		FROM DSP_STRND t1
		LEFT OUTER JOIN DSP_STRND_LANG t2 ON t1.STRND_SN = T2.STRND_SN AND
		T2.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND t1.STRND_SN IN
		<foreach item="strndSn" collection="strndSnList" open="("
			separator="," close=")">
			#{strndSn,jdbcType=NUMERIC}
		</foreach>
		AND t1.DSP_YN = 'Y'
        <![CDATA[
        AND 	t1.DSP_BEG_DT <= sysdate
        AND		t1.DSP_END_DT >= sysdate
        ]]>
	</select>

	<select id="selectDspCnrConttSTrnd3_cashe" parameterType="com.plgrim.ncp.biz.display.data.DspCnrSearchFoDTO"
		resultMap="dspCnrConttStrndResult">
		SELECT /* [display.corner.xml][selectDspCnrConttSTrnd][전체 STREND 최신 6개
		][주문욱] */
		a.*
		FROM (
		SELECT
		t1.STRND_SN
		,t1.STRND_TP_CD
		,t1.STRND_NM
		,t1.STRND_DSCR
		,t1.DSP_BEG_DT
		,t1.DSP_END_DT
		,t1.DSP_YN
		,t1.SORT_SEQ
		,t1.BRND_ID
		,t1.SESON_CD
		,t1.RPRST_IMG_FILE_NM
		,t1.RPRST_IMG_FILE_URL
		,t1.RPRST_IMG_ALTRTV_CONT
		,t1.PC_MOBILE_TMPLAT_IND_USE_YN
		,t1.PC_TMPLAT_SN
		,t1.MOBILE_TMPLAT_SN
		,t1.REG_DT

		,t2.STRND_SN AS DSTLANG_STRND_SN
		,t2.LANG_CD
		,t2.STRND_NM AS DSTLANG_STRND_NM
		,t2.STRND_DSCR AS DSTLANG_STRND_DSCR
		,t2.RPRST_IMG_FILE_NM AS DSTLANG_RPRST_IMG_FILE_NM
		,t2.RPRST_IMG_FILE_URL AS DSTLANG_RPRST_IMG_FILE_URL
		,t2.RPRST_IMG_ALTRTV_CONT AS DSTLANG_RPRST_IMG_ALTRTV_CONT
		,ROWNUM AS NO

		FROM DSP_STRND t1
		LEFT OUTER JOIN DSP_STRND_LANG t2 ON t1.STRND_SN = T2.STRND_SN AND
		T2.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND t1.DSP_YN = 'Y'
		AND t1.DSP_BEG_DT &lt;= sysdate
		AND t1.DSP_END_DT &gt;= sysdate
		ORDER BY t1.REG_DT DESC
		) a
		WHERE a.NO &lt;= 6
	</select>

	<!-- 2017-10-20 전시 영역 구조 변경으로 인해 기존에 사용하지 않던 query 삭제를 위한 임시 주석 처리 -->
	<!--<select id="selectDspCnrConttSTrnd4" parameterType="com.plgrim.ncp.biz.display.data.DspCnrSearchFoDTO"
		resultMap="dspCnrConttStrndResult">
		SELECT /* [display.corner.xml][selectDspCnrConttSTrnd][빈폴 STREND 최신 6개][주문욱] */
		b.* FROM (
		SELECT
		a.*, ROWNUM AS NO
		FROM (
		SELECT
		t1.STRND_SN
		,t1.STRND_TP_CD
		,t1.STRND_NM
		,t1.STRND_DSCR
		,t1.DSP_BEG_DT
		,t1.DSP_END_DT
		,t1.DSP_YN
		,t1.SORT_SEQ
		,t1.BRND_ID
		,t1.SESON_CD
		,t1.RPRST_IMG_FILE_NM
		,t1.RPRST_IMG_FILE_URL
		,t1.RPRST_IMG_ALTRTV_CONT
		,t1.PC_MOBILE_TMPLAT_IND_USE_YN
		,t1.PC_TMPLAT_SN
		,t1.MOBILE_TMPLAT_SN
		,t1.REG_DT

		,t2.STRND_SN AS DSTLANG_STRND_SN
		,t2.LANG_CD
		,t2.STRND_NM AS DSTLANG_STRND_NM
		,t2.STRND_DSCR AS DSTLANG_STRND_DSCR
		,t2.RPRST_IMG_FILE_NM AS DSTLANG_RPRST_IMG_FILE_NM
		,t2.RPRST_IMG_FILE_URL AS DSTLANG_RPRST_IMG_FILE_URL
		,t2.RPRST_IMG_ALTRTV_CONT AS DSTLANG_RPRST_IMG_ALTRTV_CONT
		

		FROM DSP_STRND t1
		LEFT OUTER JOIN DSP_STRND_LANG t2 ON t1.STRND_SN = T2.STRND_SN AND
		T2.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND t1.DSP_YN = 'Y'
		AND t1.DSP_BEG_DT &lt;= sysdate
		AND t1.DSP_END_DT &gt;= sysdate
		AND t1.BRND_ID IN
		('BPBBK','BPBBC','BPBBE','BPBBF','BPBBJ','BPBBO','BPBBY')
		ORDER BY t1.REG_DT DESC
		) a
		) b
		WHERE b.NO &lt;= 6
	</select>-->

	<select id="selectDspCnrConttFullData_cashe" parameterType="map"
		resultMap="dspCnrContt2FoResultMap">
		SELECT /*
		[display.corner.xml][selectDspCnrConttFullData][selectDspCnrConttFullData][주문욱]
		*/
		a.*
		, T6.SET_NM AS LNANG_SET_NM
		, T6.SET_DSCR AS LANG_SET_DSCR
		, T7.CONTT_NM AS LANG_CONTT_NM
		, T7.IMG_FILE_NM AS LANG_IMG_FILE_NM
		, T7.IMG_FILE_URL AS LANG_IMG_FILE_URL
		, T7.IMG_ALTRTV_CONT AS LANG_IMG_ALTRTV_CONT
		, T7.IMG_OV_FILE_NM AS LANG_IMG_OV_FILE_NM
		, T7.IMG_OV_FILE_URL AS LANG_IMG_OV_FILE_URL
		, T7.IMG_OV_ALTRTV_CONT AS LANG_IMG_OV_ALTRTV_CONT
		, T7.MOVI_IMG_FILE_NM AS LANG_MOVI_IMG_FILE_NM
		, T7.MOVI_IMG_URL AS LANG_MOVI_IMG_URL
		, T7.MOVI_IMG_ALTRTV_CONT AS LANG_MOVI_IMG_ALTRTV_CONT
		FROM (
		SELECT
		T1.CNR_SN
		, T1.CNR_SET_SN AS CONTT_CNR_SET_SN
		, T1.CONTT_TURN
		, T1.CONTT_TP_CD
		, T1.GOD_NO
		, T1.CONTT_NM
		, T1.IMG_NM
		, T1.IMG_FILE_NM
		, T1.IMG_FILE_URL
		, T1.IMG_ALTRTV_CONT
		, T1.IMG_OV_FILE_NM
		, T1.IMG_OV_FILE_URL
		, T1.IMG_OV_ALTRTV_CONT
		, T1.IMG_BCRN_COLOR_CD
		, T1.IMG_MAP_CONT
		, T1.IMG_DSCR
		, T1.MOVI_NM
		, T1.MOVI_FILE_URL
		, T1.MOVI_IMG_FILE_NM
		, T1.MOVI_IMG_URL
		, T1.MOVI_IMG_ALTRTV_CONT
		, T1.HTML_SJ
		, T1.HTML_DSCR
		, T1.HTML_CONT
		, T1.PROMT_SN
		, T1.STRND_SN
		, T1.OUTPT_TP_CD
		, T1.CONTT_CNNC_URL
		, T1.SORT_SEQ
		, T1.DSP_YN
		, T1.DSP_BEG_DT
		, T1.DSP_END_DT
		, T1.STK_EXPSR_YN
		, T1.STK_LBL_CD
		, T1.STK_DC_RT

		, T2.CNR_SET_SN
		, T2.CNR_TP_GRP_SN
		, T2.SET_NM
		, T2.SET_DSCR
		
		, T8.CD_NM

		FROM DSP_CNR_CONTT T1
		JOIN DSP_CNR_SET T2 ON T1.CNR_SET_SN = T2.CNR_SET_SN
		JOIN DSP_CNR T3 ON T2.CNR_SN = T3.CNR_SN AND USE_YN = 'Y'
		LEFT OUTER JOIN MV_SYS_CD T8 ON T8.UPPER_CD = 'STK_LBL' AND T1.STK_LBL_CD = T8.CD AND T8.LANG_CD = #{lang,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND T1.DSP_YN = 'Y'
		AND T1.DSP_BEG_DT &lt;= sysdate
		AND T1.DSP_END_DT &gt;=
		sysdate
		<choose>
			<when test="parentType == 'THEMA_PGE'">
				AND t2.DSP_CTGRY_NO = #{parentStringCd,jdbcType=VARCHAR}
			</when>
			<when test="parentType == 'DSP_CTGRY'">
				AND t2.DSP_CTGRY_NO = #{parentStringCd,jdbcType=VARCHAR}
			</when>
			<when test="parentType == 'S_TRND'">
				AND t2.STRND_SN = #{parentIntCd,jdbcType=NUMERIC}
			</when>
			<when test="parentType == 'EVT'">
				AND t2.EVT_NO = #{parentStringCd,jdbcType=VARCHAR}
			</when>
			<when test="parentType == 'PROMT'">
				AND t2.PROMT_SN = #{parentIntCd,jdbcType=NUMERIC}
			</when>
			<otherwise />
		</choose>

		AND EXISTS (
		SELECT 1
		FROM DSP_CNR_CONTT_DSP_TGT T5
		WHERE
		T1.CNR_SN = T5.CNR_SN
		AND T1.CNR_SET_SN = T5.CNR_SET_SN
		AND T1.CONTT_TURN = T5.CONTT_TURN
		AND (
		T5.DSP_TGT_TP_CD = 'LANG'
		AND T5.LANG_CD = #{lang,jdbcType=VARCHAR}
		)
		)
		AND EXISTS (
		SELECT 1
		FROM DSP_CNR_CONTT_DSP_TGT T5
		WHERE
		T1.CNR_SN = T5.CNR_SN
		AND T1.CNR_SET_SN = T5.CNR_SET_SN
		AND T1.CONTT_TURN = T5.CONTT_TURN
		AND (
		T5.DSP_TGT_TP_CD = 'DVC'
		AND T5.DVC_CD = #{device,jdbcType=VARCHAR}
		)
		)
		<if test="aplMbrAtrb != null">
			AND
			<if test="aplMbrAtrb != 'GRPCO'">
				EXISTS (
				SELECT 1
				FROM DSP_CNR_CONTT_DSP_TGT T5
				WHERE
				T1.CNR_SN = T5.CNR_SN
				AND T1.CNR_SET_SN = T5.CNR_SET_SN
				AND T1.CONTT_TURN = T5.CONTT_TURN
				AND (
				T5.DSP_TGT_TP_CD = 'TGT_MBR_ATRB'
				AND T5.TGT_MBR_ATRB_CD = #{aplMbrAtrb,jdbcType=VARCHAR}
				)
				)
			</if>
			<if test="aplMbrAtrb == 'GRPCO'">
				(
				EXISTS (
				SELECT 1
				FROM DSP_CNR_CONTT_DSP_TGT T5
				WHERE
				T1.CNR_SN = T5.CNR_SN
				AND T1.CNR_SET_SN = T5.CNR_SET_SN
				AND T1.CONTT_TURN = T5.CONTT_TURN
				AND (
				T5.DSP_TGT_TP_CD = 'TGT_MBR_ATRB'
				AND T5.TGT_MBR_ATRB_CD = 'GRPCO_IND'
				AND T5.GRPCO_ID = #{grpcoId,jdbcType=VARCHAR}
				)
				)
				OR
				EXISTS (
				SELECT 1
				FROM DSP_CNR_CONTT_DSP_TGT T5
				WHERE
				T1.CNR_SN = T5.CNR_SN
				AND T1.CNR_SET_SN = T5.CNR_SET_SN
				AND T1.CONTT_TURN = T5.CONTT_TURN
				AND (
				T5.DSP_TGT_TP_CD = 'TGT_MBR_ATRB'
				AND T5.TGT_MBR_ATRB_CD = 'GRPCO_ALL'
				)
				)
				)
			</if>
		</if>

		AND EXISTS (
		SELECT 1
		FROM DSP_CNR_CONTT_DSP_TGT T5
		WHERE
		T1.CNR_SN = T5.CNR_SN
		AND T1.CNR_SET_SN = T5.CNR_SET_SN
		AND T1.CONTT_TURN = T5.CONTT_TURN
		AND (
		T5.DSP_TGT_TP_CD = 'TGT_MBR_TP'
		AND T5.TGT_MBR_TP_CD = #{aplMbrTp,jdbcType=VARCHAR}
		)
		)


		ORDER BY T2.SORT_SEQ, T1.SORT_SEQ
		) a
		LEFT OUTER JOIN DSP_CNR_SET_LANG T6 ON a.CNR_SN = T6.CNR_SN AND
		a.CNR_SET_SN = T6.CNR_SET_SN AND T6.LANG_CD = #{lang,jdbcType=VARCHAR}
		LEFT OUTER JOIN DSP_CNR_CONTT_LANG T7 ON a.CNR_SN = T7.CNR_SN AND
		a.CNR_SET_SN = T7.CNR_SET_SN AND a.CONTT_TURN = T7.CONTT_TURN AND
		T7.LANG_CD = #{lang,jdbcType=VARCHAR}
	</select>

	<select id="selectCnrSetByCnr_cashe" parameterType="java.util.HashMap"
		resultMap="dspCnrFoResultMap">
		SELECT /* [display.corner.xml][selectCnrSetByCnr][코너의 코너새트][주문욱] */
		T1.CNR_SN
		, T1.CNR_SET_SN
		, T1.SET_NM
		FROM DSP_CNR_SET T1
		WHERE T1.DSP_CTGRY_NO =
		#{dspCtgryNo,jdbcType=VARCHAR}
		<if test="cnrNoList != null">
		   AND T1.CNR_SN IN
		   <foreach item="cnrSn" collection="cnrNoList" open="(" separator="," close=")">     
		           #{cnrSn,jdbcType=NUMERIC}
		   </foreach>
		</if>
		  AND T1.DSP_YN = 'Y'
		ORDER BY T1.SORT_SEQ ASC
	</select>

	<select id="selectTopSellerGodNoList1_cashe" parameterType="java.util.HashMap"
		resultType="string">
		SELECT /* [display.corner.xml][selectTopSellerGodNoList1][BEST
		자동상품추가][주문욱] */
		b.GOD_NO
		FROM (
		SELECT
		a.GOD_NO, ROWNUM AS NO
		FROM (
		SELECT
		T1.GOD_NO
		FROM DSP_CTGRY_BST_GOD T1
		<if test="brandIds != null">
			AND T1.BRND_ID IN (
			SELECT
			BB.BRND_ID
			FROM (
			SELECT
			SB.*, ROWNUM SEQ
			FROM SYS_BRND SB
			CONNECT BY PRIOR SB.BRND_ID = SB.UPPER_BRND_ID
			AND SB.USE_YN = 'Y'
			START WITH SB.BRND_ID IN
			<foreach item="brndId" collection="brandIds" open="("
				separator="," close=")">
				#{brndId,jdbcType=VARCHAR}
			</foreach>
			ORDER SIBLINGS BY SB.SORT_SEQ
			) BB
			)
		</if>
		JOIN DSP_CTGRY T2 ON T1.DSP_CTGRY_NO = T2.DSP_CTGRY_NO AND
		DSP_CTGRY_NM = #{dspCtgryNm,jdbcType=VARCHAR}
		WHERE 1 = 1
		AND STT_SECT_CD = 'RECENT_14_DAY'
		ORDER BY SALE_AMT DESC
		) a
		) b
		WHERE b.NO &lt;= #{lastIndex,jdbcType=NUMERIC}
	</select>

	<select id="selectBrandTopSellerGodNoList8s" parameterType="java.util.HashMap"
		resultType="string">
		SELECT /* [display.corner.xml][selectBrandNewArrivalGodNoList8s][BRAND
		OTHERS BEST 자동상품추가][주문욱] */
		b.GOD_NO
		FROM(
		SELECT
		a.*, ROWNUM AS NO
		FROM(
		SELECT
		T1.GOD_NO, SUBSTR(T1.GOD_NO,5,4) AS SESON
		FROM dsp_brnd_bst_god T1
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		JOIN GOD G ON G.GOD_NO = T1.GOD_NO AND G.OVSEA_DLV_PSB_YN = 'Y'
		JOIN GOD_LANGBY_GOD_NM GLGN ON G.GOD_NO = GLGN.GOD_NO AND GLGN.LANG_CD = #{lang,jdbcType=VARCHAR} AND GLGN.OVSEA_DSP_STAT_CD = 'DSP_APRV'
		</if>
		WHERE 1 = 1
		<if test="brandIds != null">
			AND T1.BRND_ID IN (
			SELECT
			BB.BRND_ID
			FROM (
			SELECT
			SB.*, ROWNUM SEQ
			FROM SYS_BRND SB
			CONNECT BY PRIOR SB.BRND_ID = SB.UPPER_BRND_ID
			AND SB.USE_YN = 'Y'
			START WITH SB.BRND_ID IN
			<foreach item="brndId" collection="brandIds" open="("
				separator="," close=")">
				#{brndId,jdbcType=VARCHAR}
			</foreach>
			ORDER SIBLINGS BY SB.SORT_SEQ
			) BB
			)
		</if>
		AND T1.STT_SECT_CD = 'RECENT_7_DAY'
		AND EXISTS (
		select 1
		from dsp_ctgry_cnnc_god T2
		where 1 = 1
		AND T2.GOD_NO = T1.GOD_NO
		AND T2.DSP_YN = 'Y'
		AND T2.DSP_CTGRY_NO like (select b.DSP_CTGRY_NO from DSP_CTGRY b where
		b.DSP_CTGRY_NM = #{dspCtgryNm,jdbcType=VARCHAR} AND ROWNUM = 1) || '%'
		)
		ORDER BY STT_RANK ASC
		) a
		WHERE 1 = 1
		<if test="sesonList != null">
			AND a.SESON IN
			<foreach item="seson" collection="sesonList" open="("
				separator="," close=")">
				#{seson,jdbcType=VARCHAR}
			</foreach>
		</if>
		) b
		WHERE b.NO &lt;= #{lastIndex,jdbcType=NUMERIC}
	</select>
	<select id="selectBrandTopSellerGodNoListOthers" parameterType="java.util.HashMap"
		resultType="string">
		SELECT /*
		[display.corner.xml][selectBrandTopSellerGodNoListOthers][BRAND OTHERS
		BEST 자동상품추가][주문욱] */
		b.GOD_NO
		FROM(
		SELECT
		a.*, ROWNUM AS NO
		FROM(
		SELECT
		T1.GOD_NO
		FROM god T1
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		JOIN GOD_LANGBY_GOD_NM GLGN ON T1.GOD_NO = GLGN.GOD_NO AND GLGN.LANG_CD = #{lang,jdbcType=VARCHAR} AND GLGN.OVSEA_DSP_STAT_CD = 'DSP_APRV'
		</if>
		JOIN dsp_brnd_bst_god T2 ON T1.GOD_NO = T2.GOD_NO AND T2.STT_SECT_CD =
		'RECENT_14_DAY'
		WHERE 1 = 1
		<if test="brandIds != null">
			AND T1.BRND_ID IN (
			SELECT
			BB.BRND_ID
			FROM (
			SELECT
			SB.*, ROWNUM SEQ
			FROM SYS_BRND SB
			CONNECT BY PRIOR SB.BRND_ID = SB.UPPER_BRND_ID
			AND SB.USE_YN = 'Y'
			START WITH SB.BRND_ID IN
			<foreach item="brndId" collection="brandIds" open="("
				separator="," close=")">
				#{brndId,jdbcType=VARCHAR}
			</foreach>
			ORDER SIBLINGS BY SB.SORT_SEQ
			) BB
			)
		</if>
		AND T1.REG_DT >= sysdate - 180
		AND EXISTS (
		select 1
		from dsp_ctgry_cnnc_god T3
		where 1 = 1
		AND T1.GOD_NO = T3.GOD_NO
		AND T3.DSP_YN = 'Y'
		AND T3.DSP_CTGRY_NO like (select b.DSP_CTGRY_NO from DSP_CTGRY b where
		b.DSP_CTGRY_NM = #{dspCtgryNm,jdbcType=VARCHAR} AND ROWNUM = 1) || '%'
		)
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		AND T1.OVSEA_DLV_PSB_YN = 'Y'
		</if>
		ORDER BY T2.STT_RANK ASC, T1.REG_DT DESC
		) a
		) b
		WHERE b.NO &lt;=
		#{lastIndex,jdbcType=NUMERIC}
	</select>

	<select id="selectNewArrivalGodNoList1_cashe" parameterType="java.util.HashMap"
		resultType="string">
		SELECT /* [display.corner.xml][selectNewArrivalGodNoList1][NEW
		자동상품추가][주문욱] */
		b.GOD_NO
		FROM (
		SELECT
		a.GOD_NO, ROWNUM AS NO
		FROM (
		SELECT
		T1.GOD_NO
		FROM DSP_CTGRY_BST_GOD T1
		JOIN DSP_CTGRY T2 ON T1.DSP_CTGRY_NO = T2.DSP_CTGRY_NO AND T2.DSP_CTGRY_NO
		like (select DC.DSP_CTGRY_NO from DSP_CTGRY DC where DC.DSP_CTGRY_NM =
		#{dspCtgryNm,jdbcType=VARCHAR} AND ROWNUM = 1) || '%'
		JOIN GOD T3 ON T1.GOD_NO = T3.GOD_NO AND T3.REG_DT >= sysdate - 14
		WHERE 1 = 1
		<if test="brandIds != null">
			AND T3.BRND_ID IN (
			SELECT
			BB.BRND_ID
			FROM (
			SELECT
			SB.*, ROWNUM SEQ
			FROM SYS_BRND SB
			CONNECT BY PRIOR SB.BRND_ID = SB.UPPER_BRND_ID
			AND SB.USE_YN = 'Y'
			START WITH SB.BRND_ID IN
			<foreach item="brndId" collection="brandIds" open="("
				separator="," close=")">
				#{brndId,jdbcType=VARCHAR}
			</foreach>
			ORDER SIBLINGS BY SB.SORT_SEQ
			) BB
			)
		</if>
		AND T1.STT_SECT_CD = 'RECENT_14_DAY'
		<if test="notIncludeGodNos != null">
			AND T1.GOD_NO NOT IN
			<foreach item="godNo" collection="notIncludeGodNos" open="("
				separator="," close=")">
				#{godNo,jdbcType=VARCHAR}
			</foreach>
		</if>
		ORDER BY T1.SALE_AMT DESC, T3.REG_DT DESC
		) a
		) b
		WHERE b.NO &lt;= #{lastIndex,jdbcType=NUMERIC}
	</select>

	<select id="selectBrandNewArrivalGodNoList8s" parameterType="java.util.HashMap" resultType="string">
		SELECT /* [display.corner.xml][selectBrandNewArrivalGodNoList8s][BRAND 8S NEW 자동상품추가][주문욱] */
		d.GOD_NO
		FROM (
		select
		c.*, ROWNUM AS NO
		FROM(
		select
		b.*
		FROM (
		select
		/* 20160330_김병철_sr#17763 [정렬조건 : 등록일 DESC --> 정렬조건 : 최초승인일 DESC] */
		distinct a.god_no, GH.FIRST_APRV_COMPT_DT
		from god a
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		JOIN GOD_LANGBY_GOD_NM GLGN ON a.GOD_NO = GLGN.GOD_NO AND GLGN.LANG_CD = #{lang,jdbcType=VARCHAR} AND GLGN.OVSEA_DSP_STAT_CD = 'DSP_APRV'
		</if>
		JOIN dsp_ctgry_cnnc_god DCCG ON (
		a.GOD_NO = DCCG.GOD_NO
		AND DCCG.DSP_YN = 'Y'
		AND DCCG.DSP_CTGRY_NO like (select DC.DSP_CTGRY_NO from DSP_CTGRY DC
		where DC.DSP_CTGRY_NM = #{dspCtgryNm,jdbcType=VARCHAR} AND ROWNUM = 1) || '%'
		)		
		
		/* 20160330_김병철_sr#17763 [정렬조건 : 등록일 DESC --> 정렬조건 : 최초승인일 DESC] */
		JOIN	(	SELECT   A. GOD_NO, A.GOD_HIST_TURN, A.UDT_DT AS FIRST_APRV_COMPT_DT
					FROM    GOD_HIST A
					INNER JOIN (    SELECT    GOD_NO, MIN(GOD_HIST_TURN) AS GOD_HIST_TURN
										FROM    GOD_HIST
										WHERE    GOD_APRV_SECT_CD    = 'APRV_COMPT'
										GROUP BY GOD_NO
									) B
					ON        A.GOD_NO    = B.GOD_NO    AND A.GOD_HIST_TURN = B.GOD_HIST_TURN
					WHERE A. UDT_DT >= sysdate - 14
				) GH
		ON		a.GOD_NO = GH.GOD_NO
								
		where 1 = 1
		<if test="brandIds != null">
			AND a.BRND_ID IN (
			SELECT
			BB.BRND_ID
			FROM (
			SELECT
			SB.*, ROWNUM SEQ
			FROM SYS_BRND SB
			CONNECT BY PRIOR SB.BRND_ID = SB.UPPER_BRND_ID
			AND SB.USE_YN = 'Y'
			START WITH SB.BRND_ID IN
			<foreach item="brndId" collection="brandIds" open="("
				separator="," close=")">
				#{brndId,jdbcType=VARCHAR}
			</foreach>
			ORDER SIBLINGS BY SB.SORT_SEQ
			) BB
			)
		</if>
		AND a.GOD_APRV_SECT_CD = 'APRV_COMPT'
		AND a.GOD_SALE_SECT_CD IN ('SALE_PROGRS','SLDOUT')
		AND a.DSP_YN = 'Y'
		AND a.SPCIFY_URL_DSP_YN = 'N'
		/* 20160330_김병철_sr#17763 [해당조건 제외] 
		AND a.FIRST_DSP_DT >= sysdate - 14 */
		<if test="notIncludeGodNos != null">
			AND T1.GOD_NO NOT IN
			<foreach item="godNo" collection="notIncludeGodNos" open="("
				separator="," close=")">
				#{godNo,jdbcType=VARCHAR}
			</foreach>
		</if>
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		AND a.OVSEA_DLV_PSB_YN = 'Y'
		</if>
		) b
		/* 20160330_김병철_sr#17763 [정렬조건 : 등록일 DESC --> 정렬조건 : 최초승인일 DESC] */
		ORDER BY b.FIRST_APRV_COMPT_DT DESC
		) c
		) d
		WHERE d.NO &lt;= #{lastIndex,jdbcType=NUMERIC}
	</select>
	<select id="selectBrandNewArrivalGodNoListOthers" parameterType="java.util.HashMap" resultType="string">
		SELECT /*
		[display.corner.xml][selectBrandNewArrivalGodNoListOthers][BRAND Others NEW 자동상품추가][주문욱] */
		b.GOD_NO
		FROM(
		SELECT
		a.*, ROWNUM AS NO
		FROM(
		SELECT
		T1.GOD_NO
		FROM GOD T1
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		JOIN GOD_LANGBY_GOD_NM GLGN ON T1.GOD_NO = GLGN.GOD_NO AND GLGN.LANG_CD = #{lang,jdbcType=VARCHAR} AND GLGN.OVSEA_DSP_STAT_CD = 'DSP_APRV'
		</if>
		JOIN dsp_brnd_bst_god T2 ON T1.GOD_NO = T2.GOD_NO AND T2.STT_SECT_CD = 'RECENT_14_DAY'
		
		/* 20160330_김병철_sr#17763 [정렬조건 : 등록일 DESC --> 정렬조건 : 최초승인일 DESC] */
		JOIN	(	SELECT   A. GOD_NO, A.GOD_HIST_TURN, A.UDT_DT AS FIRST_APRV_COMPT_DT
					FROM    GOD_HIST A
					INNER JOIN (    SELECT    GOD_NO, MIN(GOD_HIST_TURN) AS GOD_HIST_TURN
										FROM    GOD_HIST
										WHERE    GOD_APRV_SECT_CD    = 'APRV_COMPT'
										GROUP BY GOD_NO
									) B
					ON        A.GOD_NO    = B.GOD_NO    AND A.GOD_HIST_TURN = B.GOD_HIST_TURN
					WHERE A. UDT_DT >=sysdate - 14
				) GH
		ON		T1.GOD_NO = GH.GOD_NO
		
		
		WHERE 1 = 1
		<if test="brandIds != null">
			AND T1.BRND_ID IN (
			SELECT
			BB.BRND_ID
			FROM (
			SELECT
			SB.*, ROWNUM SEQ
			FROM SYS_BRND SB
			CONNECT BY PRIOR SB.BRND_ID = SB.UPPER_BRND_ID
			AND SB.USE_YN = 'Y'
			START WITH SB.BRND_ID IN
			<foreach item="brndId" collection="brandIds" open="("
				separator="," close=")">
				#{brndId,jdbcType=VARCHAR}
			</foreach>
			ORDER SIBLINGS BY SB.SORT_SEQ
			) BB
			)
		</if>
		/* 20160330_김병철_sr#17763 조회조건 제외]
		AND T1.FIRST_DSP_DT >= sysdate - 14 */
		AND EXISTS (
		select 1
		from dsp_ctgry_cnnc_god T3
		where 1 = 1
		AND T3.GOD_NO = T1.GOD_NO
		AND T3.DSP_YN = 'Y'
		AND T3.DSP_CTGRY_NO like (select DC.DSP_CTGRY_NO from DSP_CTGRY DC where
		DC.DSP_CTGRY_NM = #{dspCtgryNm,jdbcType=VARCHAR} AND ROWNUM = 1) || '%'
		)
		<if test="notIncludeGodNos != null">
			AND T1.GOD_NO NOT IN
			<foreach item="godNo" collection="notIncludeGodNos" open="("
				separator="," close=")">
				#{godNo,jdbcType=VARCHAR}
			</foreach>
		</if>
		<if test="lang != 'KOR' ">
		/* 해외판매여부 체크 */
		AND T1.OVSEA_DLV_PSB_YN = 'Y'
		</if>
		/* 20160330_김병철_sr#17763 [정렬조건 : 등록일 DESC --> 정렬조건 : 최초승인일 DESC] */
		ORDER BY T2.SALE_AMT DESC, GH.FIRST_APRV_COMPT_DT DESC
		) a
		) b
		WHERE b.NO &lt;=
		#{lastIndex,jdbcType=NUMERIC}
	</select>
		
	<!-- 상품의 색상 목록 조회 ( 동일 디자인그룹 목록) -->
	<resultMap id="goodsColorResult" type="com.plgrim.ncp.biz.display.result.GodColorFoResult">
		<result property="god.colorCd" 						column="COLOR_CD" />
		<result property="god.colorNm" 						column="COLOR_NM" />
		<result property="god.clorChipImgUrl" 				column="CLOR_CHIP_IMG_URL" />
		<result property="god.godNo" 						column="GOD_NO" />
		<result property="god.dsgnGrpNo" 					column="DSGN_GRP_NO" />
		<result property="infColorGrp.colorStyleCd" 		column="COLOR_STYLE_CD" />
	</resultMap>
	<select id="getGoodsColorList" parameterType="java.util.HashMap" resultMap="goodsColorResult">
	/* [display.corner.xml][getGoodsColorList][상품의 색상 목록 조회][Dian] */	
		SELECT A.COLOR_CD
		      ,A.COLOR_NM
		      ,A.CLOR_CHIP_IMG_URL
		      ,A.GOD_NO
		      ,A.DSGN_GRP_NO
		      ,B.COLOR_STYLE_CD
		  FROM GOD A
		       LEFT OUTER JOIN INF_COLOR_GRP B ON (A.COLOR_CD = B.COLOR_GRP_CD)
		 WHERE A.DSGN_GRP_NO = #{dsgnGrpNo, jdbcType=VARCHAR}
		   AND A.DSP_YN = 'Y'
		   AND A.GOD_APRV_SECT_CD = 'APRV_COMPT'
		   AND A.GOD_SALE_SECT_CD IN ('SLDOUT', 'SALE_PROGRS')
		   AND EXISTS
		          (SELECT 1
		             FROM DSP_CTGRY_CNNC_GOD T1
		                  INNER JOIN DSP_CTGRY T2
		                     ON (T1.DSP_CTGRY_NO = T2.DSP_CTGRY_NO AND T2.DSP_YN = 'Y' AND T2.DELETE_YN = 'N')
		            WHERE T1.GOD_NO = A.GOD_NO AND T1.DSP_YN = 'Y')
		   AND B.LANGUAGE = #{language, jdbcType=VARCHAR}              
	</select>
	
	<select id="getGoodsOrdCnt" parameterType="java.util.HashMap" resultType="Integer">
	/* [display.corner.xml][getGoodsOrdCnt][상품의 주문 수량 조회][Dian] */	
	<![CDATA[
        SELECT nvl(SUM(og.ORD_QTY),0) AS ordQty 
          FROM ord o
          JOIN ord_god og
            ON o.ord_no = og.ord_no
         WHERE NOT EXISTS (
                               SELECT 1
                                 FROM ORD_CLM_GOD_CNNC cc
                                 WHERE cc.ord_no = og.ord_no
                                  AND  cc.ord_god_turn = og.ord_god_turn
                                  AND  cc.GOD_CNNC_TP_CD = 'DLIVY_GOD_CNNC' 
                           )
        AND o.ORD_TP_CD <> 'AFF_ORD' -- 제휴사 제외
        AND o.ORD_DT BETWEEN #{begDt,jdbcType=TIMESTAMP} AND #{endDt,jdbcType=TIMESTAMP}
        AND og.GOD_NO in (
            select god_no from god where DSGN_GRP_NO in (
            SELECT g.DSGN_GRP_NO
              FROM god g
            WHERE g.GOD_NO = #{godNo, jdbcType=VARCHAR}    
            )
        )   
     ]]>
	</select>
</mapper>