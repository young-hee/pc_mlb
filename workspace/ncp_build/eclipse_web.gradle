eclipse {
	classpath {

		
		file.withXml { provider ->
			provider.asNode().classpathentry.findAll {
				it.@kind == 'lib' && (it.@exported == null ||it.@exported==false)
			}.each { cpe ->
				def attributes = cpe.children()[0]
				if (attributes==null) {
					return
				}
				
				def componentDependency = attributes.attribute.find {it.@name == 'org.eclipse.jst.component.dependency'}
				if (componentDependency == null) {
					return
				}
				attributes.remove(componentDependency);
				
			}
		
		}
		
	}
	
	
	
	//  이클립스에서  j2ee 컨테이너의 의존성 순서에 따라 이클립스내에서 소스보기가 되지 않는 문제가 있음.이를 해결하기 위해 의존성 순서를 정렬함
	eclipse.classpath.file {
		// Classpath entry for Eclipse which changes the order of classpathentries; otherwise no sources for 3rd party jars are shown
		withXml { xml ->
			def node = xml.asNode()
			node.remove( node.find { it.@path == 'org.eclipse.jst.j2ee.internal.web.container' } )
			node.appendNode( 'classpathentry', [ kind: 'con', path: 'org.eclipse.jst.j2ee.internal.web.container', exported: 'true'])
		}
	}
}