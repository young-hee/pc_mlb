/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.8
 * Generated at: 2019-01-03 01:02:56 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.delivery;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class listOfflineReturn_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(15);
    _jspx_dependants.put("/WEB-INF/views/include/jsp-header.jspf", Long.valueOf(1546402883963L));
    _jspx_dependants.put("/WEB-INF/tld/functions.tld", Long.valueOf(1527236562766L));
    _jspx_dependants.put("jar:file:/C:/work/libs/jstl-1.2.jar!/META-INF/fmt.tld", Long.valueOf(1153352682000L));
    _jspx_dependants.put("jar:file:/C:/work/libs/jstl-1.2.jar!/META-INF/c-1_0-rt.tld", Long.valueOf(1153352682000L));
    _jspx_dependants.put("/WEB-INF/views/delivery/include/commonDelivery.jsp", Long.valueOf(1539320822405L));
    _jspx_dependants.put("jar:file:/C:/work/libs/spring-security-taglibs-4.0.0.RELEASE.jar!/META-INF/security.tld", Long.valueOf(1427282480000L));
    _jspx_dependants.put("jar:file:/C:/work/libs/tiles-jsp-3.0.5.jar!/META-INF/tld/tiles-jsp.tld", Long.valueOf(1411309932000L));
    _jspx_dependants.put("jar:file:/C:/work/libs/spring-webmvc-4.1.6.RELEASE.jar!/META-INF/spring-form.tld", Long.valueOf(1427241226000L));
    _jspx_dependants.put("jar:file:/C:/work/libs/spring-webmvc-4.1.6.RELEASE.jar!/META-INF/spring.tld", Long.valueOf(1427241226000L));
    _jspx_dependants.put("/WEB-INF/lib/spring-security-taglibs-4.0.0.RELEASE.jar", Long.valueOf(1526264865197L));
    _jspx_dependants.put("/WEB-INF/lib/spring-webmvc-4.1.6.RELEASE.jar", Long.valueOf(1526264955085L));
    _jspx_dependants.put("/WEB-INF/lib/tiles-jsp-3.0.5.jar", Long.valueOf(1526264975933L));
    _jspx_dependants.put("jar:file:/C:/work/libs/jstl-1.2.jar!/META-INF/fn.tld", Long.valueOf(1153352682000L));
    _jspx_dependants.put("/WEB-INF/lib/jstl-1.2.jar", Long.valueOf(1526264945904L));
    _jspx_dependants.put("/WEB-INF/tld/taglib.tld", Long.valueOf(1539320824995L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fif_0026_005ftest;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fncp_005fcodes_0026_005ftype_005fgroup_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fncp_005fcodes_0026_005ftype_005fgroup_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.release();
    _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.release();
    _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.release();
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.release();
    _005fjspx_005ftagPool_005fncp_005fcodes_0026_005ftype_005fgroup_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, false, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

    response.setHeader("Cache-Control", "no-store");
    response.setHeader("Pragma", "no-cache");
    response.setDateHeader("Expires", 0);
    if (request.getProtocol().equals("HTTP/1.1"))
        response.setHeader("Cache-Control", "no-cache");

    com.plgrim.ncp.framework.utils.JSPEnvHelper.setDomainVariables(request, pageContext);

      out.write("\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n");
      if (_jspx_meth_sec_005fauthorize_005f0(_jspx_page_context))
        return;
      out.write("\r\n\r\n");
      out.write("\r\n\r\n");
      out.write("\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");

    response.setHeader("Cache-Control", "no-store");
    response.setHeader("Pragma", "no-cache");
    response.setDateHeader("Expires", 0);
    if (request.getProtocol().equals("HTTP/1.1"))
        response.setHeader("Cache-Control", "no-cache");

    com.plgrim.ncp.framework.utils.JSPEnvHelper.setDomainVariables(request, pageContext);

      out.write("\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n");
      if (_jspx_meth_sec_005fauthorize_005f1(_jspx_page_context))
        return;
      out.write("\r\n\r\n");
      out.write("\r\n\r\n<script type=\"text/javascript\"> \r\n\r\n// 검색 영역 초기화\r\nvar dfnResetForm = function(frmId) {\r\n\t// 전체 모두 해제\r\n\t$('.select-all').removeClass('toggled');\r\n\t$('.set-range > a').removeClass('toggled');\r\n\t$('.set-range > a').eq(0).addClass('toggled');\r\n\r\n\t$('#'+frmId).each(function() {\r\n\t\tthis.reset();\r\n\t});\r\n\t\r\n\tInputUtils.Calendar.init();\t\t// 달력 초기화\r\n}\r\n\r\n\r\n// 숫자 , \r\nvar dfnComma = function(value){\r\n\treturn value.replace(/\\B(?=(\\d{3})+(?!\\d))/g,',');\r\n}\r\n\r\n\r\n//그리드 주문번호클릭 함수\r\nvar showOrderDetail = function(cell, rowIndex) {\r\n\tvar ordNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\t\t\r\n\t\tordNo = gridMaster.getCellValue(cell.grid, rowId, \"ord.ordNo\");\r\n\t} else {\r\n\t\tordNo = gridHandler.getCellValue(cell.grid, rowId, \"ord.ordNo\");\r\n\t}\r\n\tvar openUrl = \"/od/popupOrder?ordNo=\"+ordNo;\r\n\tOpenWindow(openUrl, \"ordDetailPop\", 1750, 900, 0, 0);\r\n}\r\n\r\n//그리드 주문번호클릭 함수\r\nvar showPoOrderDetail = function(cell, rowIndex) {\r\n\tvar ordNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n");
      out.write("\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\tordNo = gridMaster.getCellValue(cell.grid, rowId, \"ord.ordNo\");\r\n\t} else {\r\n\t\tordNo = gridHandler.getCellValue(cell.grid, rowId, \"ord.ordNo\");\r\n\t}\r\n\tvar openUrl = \"/po/od/popupOrder?ordNo=\"+ordNo;\r\n\tOpenWindow(openUrl, \"ordDetailPop\", 1750, 900, 0, 0);\r\n}\r\n\r\n//그리드 주문확인서번호클릭 함수\r\nvar showOrderConfirmDetail = function(cell, rowIndex) {\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tvar dlivyDrctGodNo = gridMaster.getCellValue(cell.grid, rowId, \"lgsDdg.dlivyDrctGodNo\");\r\n\talert(\"dlivyDrctGodNo=\"+dlivyDrctGodNo);\r\n}\r\n\r\n//그리드 erp품번클릭 함수\r\nvar showErpDetail = function(cell, rowIndex) {\r\n\tvar erpNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\terpNo = gridMaster.getCellValue(cell.grid, rowId, \"ordGod.erpGodNo\");\r\n\t} else {\r\n\t\terpNo = gridHandler.getCellValue(cell.grid, rowId, \"ordGod.erpGodNo\");\r\n\t}\r\n\talert(\"erpNo=\"+erpNo);\r\n}\r\n\r\n//그리드 erp품번클릭 함수\r\nvar showGodDetail = function(cell, rowIndex) {\r\n");
      out.write("\tvar godNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\tgodNo = gridMaster.getCellValue(cell.grid, rowId, \"ordGod.godNo\");\r\n\t} else {\r\n\t\tgodNo = gridHandler.getCellValue(cell.grid, rowId, \"ordGod.godNo\");\r\n\t}\r\n\tvar openUrl = \"/gd/goods/editGoods?godNo=\"+godNo+\"&mode=edit\";\r\n\tOpenWindow(openUrl, \"godDetailPop\", 1750, 900, 0, 0);\r\n}\r\n\r\n//그리드 송장번호클릭 함수\r\nvar showDmstcWaybilNoDetail = function(cell, rowIndex) {\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tvar ordNo = gridMaster.getCellValue(cell.grid, rowId, \"ord.ordNo\");\r\n\tvar dlvTurn = gridMaster.getCellValue(cell.grid, rowId, \"lgsDlv.dlvTurn\");\r\n\tvar dlvPcupspTurn = gridMaster.getCellValue(cell.grid, rowId, \"lgsDsp.dlvPcupspTurn\");\r\n\tvar dlivyDrctGodNo = gridMaster.getCellValue(cell.grid, rowId, \"lgsDdg.dlivyDrctGodNo\");\r\n\r\n\tvar openUrl = \"/dl/invoice/view?ordNo=\"+ordNo+\"&dlvTurn=\"+dlvTurn+\"&dlvPcupspTurn=\"+dlvPcupspTurn+\"&dlivyDrctGodNo=\"+dlivyDrctGodNo;\r\n\tOpenWindow(openUrl, \"invoicePop\", 1000, 730, 0, 0);\r\n");
      out.write("}\r\n\r\n//그리드 단품의 매장별재고 조회 \r\nvar showShopInv = function(cell, rowIndex) {\r\n\tvar itmNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\titmNo = gridMaster.getCellValue(cell.grid, rowId, \"ordGod.itmNo\");\r\n\t} else {\r\n\t\titmNo = gridHandler.getCellValue(cell.grid, rowId, \"ordGod.itmNo\");\r\n\t}\r\n\t\r\n\tOpenWindow(\"");
      if (_jspx_meth_c_005furl_005f0(_jspx_page_context))
        return;
      out.write("?itmNo=\" + itmNo, \"매장별재고\");\r\n}\r\n\r\n\r\n//그리드 예약차수 column edit설정(예약배송 && 배송상태가 DLV_WAIT(배송대기),DLIVY_DRCT(출고),DLIVY_DRCT_CNCL(출고지시취소) 인경우)\r\nvar dfnChasuDateEditSetting = function(gridMaster) {\r\n\tvar rYn = \"N\";//예약배송여부\r\n\tvar dStat = \"\";//배송상태\r\n\tfor(var i=0; i<gridMaster.grid.getRowsNum(); i++) {\r\n\t\trYn = gridMaster.grid.cells(i+1, gridMaster.grid.getColIndexById(\"reservationYn\")).getValue();\r\n\t\tdStat = gridMaster.grid.cells(i+1, gridMaster.grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue();\r\n\t\tif( rYn == \"Y\" && (dStat == \"DLV_WAIT\" || dStat == \"DLIVY_DRCT\" || dStat == \"DLIVY_DRCT_CNCL\")) {//수정가능\r\n\t\t\tgridMaster.grid.setCellExcellType(i+1,gridMaster.grid.getColIndexById(\"lgsDdg.dlivyDrctDt\"),\"ro\");\r\n\t\t} else {\r\n\t\t\tgridMaster.grid.setCellExcellType(i+1,gridMaster.grid.getColIndexById(\"lgsDdg.dlivyDrctDt\"),\"co\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//송장번호일괄등록 \r\nvar dfnSaveInvoiceAll = function(gridMaster) {\r\n\tif(gridMaster.grid.getRowsNum() == 0) {\r\n\t\talert(\"조회된 데이터가 존재하지 않습니다.\");\r\n\t\treturn;\r\n\t} else {\r\n\t\tif(confirm(\"출고지시 상태의 모든 주문건에 대해 송장번호가 일괄 생성됩니다. 송장번호를 생성하시겠습니까?\")) {\r\n");
      out.write("\t\t\t$.ajax({\r\n\t\t\t\ttype : \"POST\",\r\n\t\t\t\tdataType : \"json\",\r\n\t\t\t\tdata : $(\"#dlvForm\").serialize(),\r\n\t\t\t\tasync : false,\r\n\t\t\t\turl : '/dl/updateUpdateWaybillNo/update.json',\r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\talert(data.RESULT_MSG);\r\n\t\t\t\t\t$('#btnSearch').click();//재조회\r\n\t\t\t\t}, \r\n\t\t\t\terror:function(request,status,error){\r\n\t\t\t\t\talert(\"저장에 실패하였습니다.\");\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//송장번호등록 \r\nvar dfnSaveInvoiceChoice = function(gridMaster) {\r\n\tif(gridMaster.grid.getRowsNum() == 0) {\r\n\t\talert(\"조회된 데이터가 존재하지 않습니다.\");\r\n\t\treturn;\r\n\t} else {\r\n\t\tvar chkCnt = 0;\r\n\t\t\r\n\t\tvar ridArray = gridMaster.grid.getCheckedRows(0 || 0).split(',');\r\n\t\t\r\n\t    if(ridArray.length == 1 && ridArray[0] == '') {\r\n\t    \talert(\"선택된 항목이 없습니다.\");\r\n\t    \treturn;\r\n\t    } \r\n\t    \r\n\t    for(var i=0; i<ridArray.length; i++) {\r\n\t    \tvar invNo = gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDlv.dmstcWaybilNo\")).getValue();\r\n\t    \tif(invNo != \"\") {\r\n\t    \t\talert(\"이미 송장번호가 존재 합니다.\");\r\n\t    \t\treturn;\r\n\t    \t}\r\n\t    \t\r\n\t\t    if(gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue() != \"DLIVY_DRCT\"\r\n");
      out.write("\t\t\t\t&& !(gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue() == \"DLV_WAIT\"\r\n\t\t\t\t\t\t&& gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDdg.dlvShopId\")).getValue() != \"B031\")) {\r\n\t\t\t\talert(\"출고지시 상태만 생성 가능합니다.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t    }\r\n\t    \r\n\t\t\r\n\t\tif(confirm(\"선택한 항목의 송장번호가 일괄 생성됩니다.\\n 송장번호를 생성하시겠습니까?\")) {\r\n\t\t\tvar params = gridMaster.serialize();\r\n\t\t\tvar formData = gridMaster.serializeArray(\"dlvForm\");\r\n\t\t\r\n\t\t\tvar dataValue = {\r\n\t\t\t\turl : '/dl/updateSelectedWaybillNo/update.json',\r\n\t\t\t\tparam : { \"deliveryInvoiceDTO\":formData ,\"gridParams\":params},\r\n\t\t\t\tshowServerMessage : true,\r\n\t\t\t\tcallbackSuccess : function(data) {\r\n\t\t\t\t\talert(data.RESULT_MSG);\r\n\t\t\t\t\t$('#btnSearch').click();//재조회\r\n\t\t\t\t},\r\n\t\t\t\tcallbackError : function(request,status,error){\r\n\t\t\t\t\talert(\"저장에 실패하였습니다.\");\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tgridMaster.sendGridData(dataValue);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\n//복품일경우 그리드 로그 색깔변경\r\nfunction dfnRowColorSetting(gridMaster,colId) {\r\n\tfor(var i=0; i<gridMaster.grid.getRowsNum(); i++) {\r\n");
      out.write("\t\tvar val = gridMaster.grid.cells(i+1, gridMaster.grid.getColIndexById(colId)).getValue();\r\n\t\tif( val == \"복품\") {//수정가능\r\n\t\t\tgridMaster.grid.setRowColor(i+1,\"yellow\");\r\n\t\t} \r\n\t}\t\r\n}\r\n\r\n//배송상태변경\r\nfunction dfnDlvStatCdChange(gridMaster,stauts) {\r\n\tvar ridArray = gridMaster.grid.getCheckedRows(0).split(',');\r\n\t\r\n    if(ridArray.length == 1 && ridArray[0] == '') {\r\n    \talert(\"선택된 항목이 없습니다.\");\r\n    \treturn;\r\n    }\r\n    \r\n    if(stauts == \"DLV_WAIT\") {//배송대기\r\n\t\tvar chkCnt = 0;\r\n\t\tfor(var i=0; i<ridArray.length; i++) {\r\n\t\t\tif(gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue() != \"DLIVY_DRCT\") {\r\n\t\t\t\tchkCnt++;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\r\n\t\tif(chkCnt > 0) {\r\n\t\t\talert(\"출고지시 상태에서만 배송대기로 변경가능합니다.\");\r\n\t\t\treturn;\r\n\t\t}\r\n    } else if(stauts == \"DLIVY_COMPT\") {//출고완료\r\n\t\tvar chkCnt = 0;\r\n\t\tvar chkCnt2 = 0;\r\n\t\tvar chkCnt3 = 0;\r\n\t\tfor(var i=0; i<ridArray.length; i++) {\r\n\t\t\tif(gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDlv.ordCnfirmYn\")).getValue() != \"Y\") {\r\n\t\t\t\tchkCnt3++;\r\n");
      out.write("\t\t\t}\r\n\t\t\t//'출고지시' 또는 임시매장이 아닌 '배송대기' 상태만.\r\n\t\t\tif(gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue() != \"DLIVY_DRCT\") {\r\n\t\t\t\tchkCnt++;\r\n\t\t\t}\r\n\t\t\tif(null == gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDlv.dmstcWaybilNoRegDt\")).getValue()) {\r\n\t\t\t\tchkCnt2++;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\r\n\t\tif(chkCnt3 > 0) {\r\n\t\t\talert(\"주문확인 미확인건이 존재합니다.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(chkCnt > 0) {\r\n\t\t\talert(\"출고지시 상태인 경우에만 출고완료 상태로 변경 가능합니다.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(chkCnt2 > 0) {\r\n\t\t\talert(\"송장번호를 먼저 등록해주세요.\");\r\n\t\t\treturn;\r\n\t\t}\r\n    } else if(stauts == \"DLV_COMPT\") {//배송완료\r\n\t\tvar chkCnt = 0;\r\n\t\tfor(var i=0; i<ridArray.length; i++) {\r\n\t\t\tif(gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue() != \"DLIVY_COMPT\") {\r\n\t\t\t\tchkCnt++;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\r\n\t\tif(chkCnt > 0) {\r\n\t\t\talert(\"출고완료 상태인 경우만 배송완료 상태로 변경 가능합니다.\");\r\n\t\t\treturn;\r\n\t\t}\r\n    } else if(stauts == \"SHOP_PRPARE_COMPT\") {//매장준비완료\r\n    \t\r\n    \tvar chkCnt = 0;\r\n\t\tfor(var i=0; i<ridArray.length; i++) {\r\n");
      out.write("\t    \t\r\n\t\t\tif (gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue() != \"DLIVY_DRCT\")\r\n\t\t\t{\r\n\t\t\t\tchkCnt++;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\r\n\t\tif(chkCnt > 0) {\r\n\t\t\talert(\"출고지시 상태인 경우에만 매장준비완료 상태로 변경 가능합니다.\");\r\n\t\t\treturn;\r\n\t\t}\r\n    }\r\n    \r\n\tvar statNm = \"\";\r\n\tif(stauts == \"DLV_WAIT\") {\r\n\t\tstatNm = \"배송대기\";\r\n\t} else if(stauts == \"DLIVY_COMPT\") {\r\n\t\tstatNm = \"출고완료\";\r\n\t} else if(stauts == \"DLV_COMPT\") {\r\n\t\tstatNm = \"배송완료\";\r\n\t} else if(stauts == \"SHOP_PRPARE_COMPT\") {\r\n\t\tstatNm = \"매장준비완료\";\r\n\t}\r\n\t\r\n\tvar cfmsg = \"\";\r\n\tcfmsg = \"선택한 항목을 '\"+ statNm+\"' 상태로 변경하시겠습니까?\";\r\n\t\r\n    if(confirm(cfmsg)){\r\n\t\t$('#newDlvStatCd').val(stauts);\r\n\t    var params = gridMaster.serialize();\r\n\t\tvar formData = gridMaster.serializeArray(\"dlvForm\");\r\n\t\t\r\n\t\tvar dataValue = {\r\n\t\t\turl : '/dl/deliveryStatus/update.json',\r\n\t\t\tparam : {\r\n\t\t\t\t\"gridParams\" : params,\r\n\t\t\t\t\"formParams\" : formData  \r\n\t\t\t},\r\n\t\t\tcallbackSuccess : function(data){\r\n\t\t\t\talert(data.RESULT_MSG);\r\n\t\t\t\t$(\"#btnSearch\").click();\r\n\t\t\t},\r\n\t\t\tcallbackError : onCallbackError,\r\n");
      out.write("\t\t\tshowServerMessage : true\r\n\t\t};\r\n\t\tgridMaster.sendGridData(dataValue);\r\n    }\r\n}\r\n\r\n//택배사,송장,메모 저장\r\nvar dfnUpdateDeliveryCompany = function(gridMaster) {\r\n\tvar ridArray = gridMaster.grid.getCheckedRows(0).split(',');\r\n\t\r\n    if(ridArray.length == 1 && ridArray[0] == '') {\r\n    \talert(\"선택된 항목이 없습니다.\");\r\n    \treturn;\r\n    }\r\n    \r\n\tfor(var i=0; i<ridArray.length; i++) {\r\n\t\tvar val = gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDlv.dlvComCd\")).getValue();\r\n\t\tvar val2 = gridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsDlv.dmstcWaybilNo\")).getValue();\r\n\t\t\r\n\t\tif(val == \"\" && val2 != \"\") {\r\n\t\t\talert(\"택배사를 선택해주세요\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(val != \"\" && val2 == \"\") {\r\n\t\t\talert(\"송장번호를 입력해주세요\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tif(confirm(\"저장하시겠습니까?\")) {\r\n\t    var params = gridMaster.serialize();\r\n\t\tvar formData = gridMaster.serializeArray(\"dlvForm\");\r\n\t\t\r\n\t\tvar dataValue = {\r\n\t\t\turl : '/dl/updateDeliveryInfo/update.json',\r\n\t\t\tparam : { \"deliveryInvoiceDTO\":formData ,\"gridParams\":params},\r\n");
      out.write("\t\t\tcallbackSuccess : function(data){\r\n\t\t\t\t alert(\"저장되었습니다.\");\r\n\t\t\t\t $(\"#btnSearch\").click();\r\n\t\t\t},\r\n\t\t\tcallbackError : onCallbackError,\r\n\t\t\tshowServerMessage : true\r\n\t\t};\r\n\t\r\n\t\tgridMaster.sendGridData(dataValue);\r\n\t}\r\n}\r\n\r\n\r\n\r\n//클레임상태변경\r\nvar dfnRtrvlStat = function(gridMaster,stauts) {\r\n\tvar ridArray = gridMaster.grid.getCheckedRows(0).split(',');\r\n\t\r\n    if(ridArray.length == 1 && ridArray[0] == '') {\r\n    \talert(\"선택된 항목이 없습니다.\");\r\n    \treturn;\r\n    }\r\n\r\n\tvar statNm = \"\";\r\n\tvar statNm2 = \"\";\r\n\tif(stauts == \"RTRVL_COMPT\") {\r\n\t\tstatNm = \"회수완료\";\r\n\t} else if(stauts == \"WRHS_COMPT\") {\r\n\t\tstatNm = \"입고완료\";\r\n\t} else if(stauts == \"RFD_DELAY\") {\r\n\t\tstatNm = \"교환/환불처리지연요청 및 입고완료\";\r\n\t} else if(stauts == \"RTRVL_WTHDRAW\") {\r\n\t\tstatNm = \"회수철회\";\r\n\t}\r\n    \r\n\r\n    if(confirm(\"선택한 항목을 \"+statNm+\" 처리하시겠습니까? \")) {\r\n\t\t/*\r\n\t\tfor(var i=0; i<ridArray.length; i++) {\r\n\t\t\tgridMaster.grid.cells(ridArray[i], gridMaster.grid.getColIndexById(\"lgsRdg.rtrvlStatCd\")).setValue(stauts);\r\n\t\t}\r\n\t\t*/\r\n\t\t$('#newRtrvlStatCd').val(stauts);\r\n\t\t\r\n\t    var params = gridMaster.serialize();\r\n");
      out.write("\t\tvar formData = gridMaster.serializeArray(\"dlvForm\");\r\n\t\t\r\n\t\tvar dataValue = {\r\n\t\t\turl : '/dl/partMall/retrievalGoods/update.json',\r\n\t\t\tparam : { \"deliveryInvoiceDTO\":formData ,\"gridClaimParams\":params},\r\n\t\t\tcallbackSuccess : function(data){\r\n\t\t\t\t alert(data.RESULT_CNT+\"건이 \"+statNm+\" 상태로 변경되었습니다.\" );\r\n\t\t\t\t $(\"#btnSearch\").click();\r\n\t\t\t},\r\n\t\t\tcallbackError : onCallbackError,\r\n\t\t\tshowServerMessage : true\r\n\t\t};\r\n\t\r\n\t\tgridMaster.sendGridData(dataValue);\r\n    }\r\n}\r\n\r\n\r\nvar dfnInVoiceNumberCheck = function(val) {\r\n\talert(\"송장번호는 숫자만 입력 가능합니다.\");\r\n\treturn false;\r\n}\r\n\r\n\r\n//숫자키만입력\r\nvar dfnOnlyNumber = function(obj) {\r\n\tvar keyCode = ('which' in event) ? event.which : event.keyCode;\r\n    if ((keyCode >= 48 && keyCode <= 57) ||  (keyCode >= 96 && keyCode <= 105) || keyCode == 8) { //숫자키만 입력\r\n        return true;\r\n    } else {\r\n    \t return false;\r\n    }\r\n}\r\n\r\n//매장팝업\r\nvar dfnShopBrandOpen = function(callbackFunc) {\r\n\tvar openUrl = \"/vd/sysShop/popup/list\";\r\n\tif(callbackFunc != null && callbackFunc != \"\") {\r\n\t\topenUrl = openUrl + \"?callbackFunc=\"+callbackFunc;\r\n");
      out.write("\t}\r\n\tOpenWindow(openUrl, \"selectSysShopPopup\", 570, 600, 0, 0);\r\n}\r\n\r\n\r\n//배정가능 배송매장 팝업\r\nvar assignDlvShopPop = function(callbackFunc) {\r\n \tvar openUrl = \"/dl/assignDlvShop/list\";\r\n \tif(callbackFunc != null && callbackFunc != \"\") {\r\n \t\topenUrl = openUrl + \"?callbackFunc=\"+callbackFunc;\r\n \t}\r\n \tOpenWindow(openUrl, \"selectSysShopPopup\", 570, 600, 0, 0);\r\n}\r\n\r\n\r\n//브랜드팝업\r\nvar dfnBrandOpen = function() {\r\n\topen_brnd_cd({isLayer:false});\r\n} \r\n\r\n//매장 리턴값\r\n//var setSysShopBrandData = function(result) {\r\nvar setSysShopData = function(result) {\r\n\tif(result != null) {\r\n\t\ttry{\r\n\t\t\t$(\"#dlvShopId\").val(result.shopId);\r\n\t\t\t$(\"#dlvShopNm\").val(result.shopNm);\r\n\t\t\t\r\n\t\t\t$(\"#rtrvlShopId\").val(result.shopId);\r\n\t\t\t$(\"#rtrvlShopNm\").val(result.shopNm);\r\n\t\t\t\r\n\t\t}catch(e){}\r\n\t}\r\n}\r\n\r\n//브래드리턴값\r\nvar callbackBrndCd = function(result) {\r\n\tif(result != null) {\r\n\t\tarr = new Array(0);\r\n\t\tfor(var i=0; i<result.length; i++) {\r\n\t\t\tarr.push(result[i].brndId);\r\n\t\t\t//alert(\"result[i].brndId=\"+result[i].brndId);\r\n\t\t}\r\n\t\t\r\n\t\t$(\"#brndIds\").val(arr.join(\",\"));\r\n");
      out.write("\t}\r\n}\r\n\r\n//배열 '1','2','3' 형태로변환\r\nvar dfnInqueryStr = function(val,gubun) {\r\n\tvar arr = val.split(gubun);\r\n\tvar str = \"\";\r\n\t\r\n\tfor(var i=0; i<arr.length; i++) {\r\n\t\tif(arr[i].length > 0) {\r\n\t\t\tstr +=  \"'\" +arr[i] + \"',\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(str.length > 0) {\r\n\t\tstr = str.substring(0,str.length-1);\r\n\t}\r\n\treturn str;\r\n}\r\n\r\n\r\n//특수문자제한\r\nvar dfnLimitSpecialKey = function(obj) {\r\n\tvar value = obj.val();\r\n\tvar arr_char = new Array();\r\n\r\n\tarr_char.push(\"'\");\r\n\tarr_char.push(\"\\\"\");\r\n\tarr_char.push(\"#\");\t\r\n\t\r\n\tfor(var i=0 ; i<arr_char.length ; i++) {\r\n\t\tif(value.indexOf(arr_char[i]) != -1) {\r\n\t\t\talert(\"', \\\" , # 특수문자는 사용하실 수 없습니다.\");\r\n\t\t\tvalue = value.substr(0, value.indexOf(arr_char[i]));\r\n\t\t\tobj.val(value);\t\t\t\t\r\n\t\t}\r\n\t}\t\r\n}\r\n\r\n\r\n//운송장 숫자 enter key만 허용\r\nvar dfnArrowInvoice = function(obj) {\r\n\tvar keyCode = ('which' in event) ? event.which : event.keyCode;\r\n\tvar value = obj.val();\r\n\t\r\n\tvar strArr = value.split(/\\r\\n|\\r|\\n/g);\r\n\tfor(var i=0; i<strArr.length; i++) {\r\n\t    if(!$.isNumeric(strArr[i]) && strArr[i] != \"\") {\r\n\t    \talert(\"송장번호는 숫자만 입력 가능합니다.\");\r\n");
      out.write("\t    \tvar str = value.replace(/[^0-9|\\r\\n]/g,'');//숫자 엔터키만허용\r\n\t    \tobj.val(str);\r\n\t    }\r\n\t}\r\n\r\n\r\n\t\r\n\t/*\r\n    if (!((keyCode >= 48 && keyCode <= 57) || (keyCode >= 96 && keyCode <= 105) || (keyCode == 13 || keyCode == 8))) { //숫자,endter 키만 입력\r\n\t\t\talert(\"송장번호는 숫자만 입력 가능합니다.\");\r\n\t\t\tvalue = value.substr(0, value.length-1);\r\n\t\t\tobj.val(value);\r\n\t\t\r\n    }*/ \r\n\t\r\n}\r\n\r\n\r\n//송장,배송매장메모 저장\r\nvar dfnSaveDeliveryGift = function(gridMaster) {\r\n\tvar ridArray = gridMaster.grid.getCheckedRows(0).split(',');\r\n\t\r\n    if(ridArray.length == 1 && ridArray[0] == '') {\r\n    \talert(\"선택된 항목이 없습니다.\");\r\n    \treturn;\r\n    }\r\n\r\n    if(confirm(\"저장하시겠습니까?\")) {\r\n\t    var params = gridMaster.serialize();\r\n\t\tvar formData = gridMaster.serializeArray(\"dlvForm\");\r\n\t\t\r\n\t\tvar dataValue = {\r\n\t\t\turl : '/dl/updateDeliveryGift/update.json',\r\n\t\t\tparam : { \"deliveryInvoiceDTO\":formData ,\"gridParams\":params},\r\n\t\t\tcallbackSuccess : function(data){\r\n\t\t\t\t alert(\"저장되었습니다.\");\r\n\t\t\t\t $(\"#btnSearch\").click();\r\n\t\t\t},\r\n\t\t\tcallbackError : onCallbackError,\r\n\t\t\tshowServerMessage : true\r\n");
      out.write("\t\t};\r\n\t\r\n\t\tgridMaster.sendGridData(dataValue);\r\n    }\r\n}\r\n\r\n\r\n/*\r\n//사은품 피킹리스트\r\nvar dfnShowGiftPickingList = function() {\r\n\t//var param = $(\"#dlvForm\").serialize();\r\n\tvar param = \"srchDtTp=\"+$(\"#srchDtTp\").val()+\"&srchStDt=\"+$(\"#srchStDt\").val();\r\n\tparam += \"&srchEnDt=\"+$(\"#srchEnDt\").val()+\"&gftViewYn=\"+$(\"#gftViewYn\").val();\r\n\t\r\n\tvar openUrl = \"/dl/deliveryGiftDrctGoods/picking/list?\"+param;\r\n\tOpenWindow(openUrl, \"giftPickingPop\", 1000, 720, 0, 0);\r\n}\r\n*/\r\n\r\n\r\n//인쇄\r\nvar dfnPrint = function(id) {\r\n\twindow.print();\r\n}\r\n\r\n\r\n//사은품 결품처리\r\nvar dfnShortage = function(gridMaster) {\r\n\tvar _grid = gridMaster.grid;\r\n\t\r\n\t//매출전송건 유무 확인\r\n\tvar checkArr;\r\n\tvar checkeds = _grid.getCheckedRows(0);\r\n\t\r\n\tif(checkeds.length < 1) {\r\n\t\talert(\"선택된 항목이 없습니다.\");\r\n\t\treturn;\r\n\t} else {\r\n\t\tcheckArr = checkeds.split(\",\");\r\n\t}\r\n\t\r\n\t//매출전송건 검수완료 확인\r\n\tfor(var i=0; i<checkArr.length; i++) {\r\n\t\t//배송상태 체크\r\n\t\tif(\"DLIVY_DRCT\" != _grid.cells(checkArr[i], _grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue()\r\n\t\t\t\t&& \"DLV_WAIT\" !=_grid.cells(checkArr[i], _grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue()\r\n");
      out.write("\t\t\t\t&& \"SHOP_PRPARE_COMPT\" !=_grid.cells(checkArr[i], _grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue()\r\n\t\t\t\t) {\r\n\t\t\talert(\"'출고지시', '배송대기', '매장준비완료' 상태만 처리 가능합니다.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(confirm(\"선택한 항목을 '결품접수' 상태로 변경하시겠습니까?\")) {\r\n\t\tvar params = gridMaster.serialize();\r\n\t\tvar dataValue = {\r\n\t\t\turl : '/dl/setShortage/update.json',\r\n\t\t\tparam : {\r\n\t\t\t\t\"gridParams\" : params\r\n\t\t\t},\r\n\t\t\tcallbackSuccess : function(result){\r\n\t\t\t\talert(result.RESULT_MSG);\r\n\t\t\t\t$('#btnSearch').click();//재조회\r\n\t\t\t},\r\n\t\t\tcallbackError : onCallbackError,\r\n\t\t\tshowServerMessage : true\r\n\t\t};\r\n\t\tgridMaster.sendGridData(dataValue);\r\n\t}\r\n}\r\n\r\n//사은품 결품 철회\r\nvar dfnShortageCancel = function(gridMaster) {\r\n\tvar _grid = gridMaster.grid;\r\n\t\r\n\t//매출전송건 유무 확인\r\n\tvar checkArr;\r\n\tvar checkeds = _grid.getCheckedRows(0);\r\n\t\r\n\tif(checkeds.length < 1) {\r\n\t\talert(\"선택된 항목이 없습니다.\");\r\n\t\treturn;\r\n\t} else {\r\n\t\tcheckArr = checkeds.split(\",\");\r\n\t}\r\n\t\r\n\t//매출전송건 검수완료 확인\r\n\tfor(var i=0; i<checkArr.length; i++) {\r\n\t\tif(checkArr.length == 1)\r\n\t\t{\r\n\t\t\t//한건 배송상태 체크\r\n");
      out.write("\t\t\tif(\"SHTG_RCEPT\" != _grid.cells(checkArr[i], _grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue()) \r\n\t\t\t{\r\n\t\t\t\talert(\"결품접수 상태에서만 결품철회 가능합니다.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}else\r\n\t\t{\r\n\t\t\t//다건 배송상태 체크\r\n\t\t\tif(\"SHTG_RCEPT\" != _grid.cells(checkArr[i], _grid.getColIndexById(\"lgsDdg.dlvStatCd\")).getValue()) \r\n\t\t\t{\r\n\t\t\t\talert(\"결품접수 상태에서만 결품철회 가능합니다. 선택 항목을 확인하셔서 변경하세요.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(confirm(\"선택한 항목을 결품철회하시겠습니까?\")) {\r\n\t\tvar params = gridMaster.serialize();\r\n\t\tvar dataValue = {\r\n\t\t\turl : '/dl/setShortageCancel/update.json',\r\n\t\t\tparam : {\r\n\t\t\t\t\"gridParams\" : params\r\n\t\t\t},\r\n\t\t\tcallbackSuccess : function(result){\r\n\t\t\t\talert(result.RESULT_MSG);\r\n\t\t\t\t$('#btnSearch').click();//재조회\r\n\t\t\t},\r\n\t\t\tcallbackError : onCallbackError,\r\n\t\t\tshowServerMessage : true\r\n\t\t};\r\n\t\tgridMaster.sendGridData(dataValue);\r\n\t}\r\n}\r\n\r\n//sms팝업\r\nvar dfnSmsOpen = function() {\r\n\topen_lsms({isLayer:false});\r\n} \r\n\r\nvar callbackLsms = function(result) {\r\n\talert(result);\r\n}\r\n\r\n\r\n//그리드 클레임번호 클릭 함수\r\nvar showClmDetail = function(cell, rowIndex) {\r\n");
      out.write("\tvar clmNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\tclmNo = gridMaster.getCellValue(cell.grid, rowId, \"clm.clmNo\");\r\n\t} else {\r\n\t\tclmNo = gridHandler.getCellValue(cell.grid, rowId, \"clm.clmNo\");\r\n\t}\r\n\talert(\"clmNo=\"+clmNo);\r\n}\r\n\r\n//그리드 erp품번클릭 함수\r\nvar showGodDetail2 = function(cell, rowIndex) {\r\n\tvar godNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\tgodNo = gridMaster.getCellValue(cell.grid, rowId, \"clmwg.godNo\");\r\n\t} else {\r\n\t\tgodNo = gridHandler.getCellValue(cell.grid, rowId, \"clmwg.godNo\");\r\n\t}\r\n\tvar openUrl = \"/gd/goods/editGoods?godNo=\"+godNo+\"&mode=edit\";\r\n\tOpenWindow(openUrl, \"godDetailPop\", 1750, 900, 0, 0);\r\n}\r\n\r\n\r\n//그리드 erp품번클릭 함수\r\nvar showErpDetail2 = function(cell, rowIndex) {\r\n\tvar erpNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\terpNo = gridMaster.getCellValue(cell.grid, rowId, \"clmwg.erpGodNo\");\r\n");
      out.write("\t} else {\r\n\t\terpNo = gridHandler.getCellValue(cell.grid, rowId, \"clmwg.erpGodNo\");\r\n\t}\r\n\talert(\"erpNo=\"+erpNo);\r\n}\r\n\r\n\r\n//업체\r\nvar dfnCompanyOpen = function() {\r\n\topen_cpny_srch({isLayer:false});\r\n} \r\n\r\nvar callbackComId = function(result) {\r\n\ttry{\r\n\t\t$(\"#comId\").val(result.comId);\r\n\t\t$(\"#comNm\").val(result.comNm);\r\n\t}catch(e){}\r\n}\r\n\r\n\r\n//매장 리턴값\r\nvar setSysShopBrandData2 = function(result) {\r\n\tif(result != null) {\r\n\t\t$(\"#dlvShopId2\").val(result.shopId);\r\n\t\t$(\"#dlvShopNm2\").val(result.shopNm);\r\n\t}\r\n}\r\n\r\n//한진택배 배송추적\r\nfunction showInvoiceTreace(wayBillNo, dlvMnCd, dlvComUrl) {\r\n\t//등기우편\r\n\tif(\"RGIST_POST\" == dlvMnCd) {\r\n\t\tvar openUrl = \"http://service.epost.go.kr/trace.RetrieveDomRigiTraceList.comm?ems_gubun=E&sid1=\"+wayBillNo;\r\n\t\twindow.open(openUrl, \"_blank\", \"scrollbars=yes,resizable=yes\");\r\n\t\t\r\n\t} else {\r\n\t\tif(wayBillNo && wayBillNo.length == 12 && wayBillNo.substring(0,2) != \"60\" && wayBillNo.substring(0,2) != \"90\") {\r\n\t\t\tvar openUrl = dlvComUrl+wayBillNo;\r\n\t\t\twindow.open(openUrl, \"_blank\", \"scrollbars=yes,resizable=yes\");\r\n");
      out.write("\t\t}\r\n\t}\r\n}\r\n\r\n\r\n//운송장 붙여넣기시 숫자만 허용\r\nvar dfnArrowInvoicePaste = function(obj) {\r\n\tsetTimeout(function(){\r\n\t\tvar text = $(obj).val();\r\n        \r\n\t\tvar strArr = text.split(/\\r\\n|\\r|\\n/g);\r\n\t\tfor(var i=0; i<strArr.length; i++) {\r\n\t\t    if(!$.isNumeric(strArr[i]) && strArr[i] != \"\") {\r\n\t\t    \talert(\"송장번호는 숫자만 입력 가능합니다.\");\r\n\t\t    \tvar str = text.replace(/[^0-9|\\r\\n]/g,'');//숫자 엔터키만 허용\r\n\t\t    \tobj.val(str);\r\n\t\t    }\r\n\t\t}\r\n    },100);\r\n}\r\n\r\n//사은품 피킹리스트 인쇄페이지 호출\r\nvar dfnGiftPickingPrint = function() {\r\n\tvar openUrl = \"/dl/deliveryGiftDrctGoods/picking/print\";\r\n\tOpenWindow(openUrl, \"giftPickingPrintPop\", 1000, 720, 0, 0);\r\n}\r\n\r\n\r\n//IE체크\r\nvar dfnIEBrowser = function () {\r\n\tvar agent = navigator.userAgent.toLowerCase();\r\n\t \r\n\tif ( (navigator.appName == 'Netscape' && navigator.userAgent.search('Trident') != -1) || (agent.indexOf(\"msie\") != -1) ) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n//날짜조건 시작일 종료일 체크\r\nvar dfnDateCheck = function() {\r\n\ttry{\r\n\t\tif($(\"#srchStDt\").val() > $(\"#srchEnDt\").val()) {\r\n\t\t\talert(\"종료일을 시작일 이후로 입력해 주세요.\");\r\n");
      out.write("\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}catch(e) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nfunction isDefined(str) {\r\n    var isResult = false;\r\n    str_temp = str + \"\";\r\n    str_temp = str_temp.replace(\" \", \"\");\r\n    if(str_temp != \"undefined\" && str_temp != \"\" && str_temp.toLowerCase() != \"null\") {\r\n        isResult = true;\r\n    }\r\n    return isResult;\r\n}\r\n\r\nvar showImageView = function(cell, rowIndex) {\r\n\tvar godNo = \"\";\r\n    var imgUrl, imgArray, x, y;\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\tgodNo = gridMaster.getCellValue(cell.grid, rowId, \"ordGod.godNo\");\r\n        imgUrl = gridMaster.getCellValue(cell.grid, rowId, \"imageView\");\r\n\t} else {\r\n\t\tgodNo = gridHandler.getCellValue(cell.grid, rowId, \"ordGod.godNo\");\r\n        imgUrl = gridHandler.getCellValue(cell.grid, rowId, \"imageView\");\r\n\t}\r\n\r\n    if ( imgUrl.indexOf(\"^\")>-1 ) imgArray = imgUrl.split(\"^\");\r\n\r\n    if ( imgArray.length > 0 ) {\r\n        if (imgArray[0].indexOf(\"520x686\")) {\r\n");
      out.write("            x=520 , y=686;\r\n        } else if (imgArray[0].indexOf(\"255x337\") > -1) {\r\n            x=255 , y=337;\r\n        } else if (imgArray[0].indexOf(\"60x80\") > -1) {\r\n            x=60 , y=80;\r\n        }\r\n        OpenWindow(\"http://img.plgrimshop.com\" + imgArray[0], \"상품이미지미리보기\", x, y);\r\n     } else {\r\n            alert('등록된 이미지 정보가 없습니다.');\r\n            return false;\r\n     }\r\n}\r\n\r\n//배송매장이력 조회 팝업\r\nvar showShopHistory = function(cell, rowIndex) {\r\n\tvar dlivyDrctGodNo = \"\";\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\tdlivyDrctGodNo = gridMaster.getCellValue(cell.grid, rowId, \"lgsDdg.dlivyDrctGodNo\");\r\n\t} else {\r\n\t\tdlivyDrctGodNo = gridHandler.getCellValue(cell.grid, rowId, \"lgsDdg.dlivyDrctGodNo\");\r\n\t}\r\n\tvar openUrl = \"/dl/deliveryShopHistory/\"+ dlivyDrctGodNo +\"/list\";\r\n\tOpenWindow(openUrl, \"dlvShopHistPop\", 1000, 400, 0, 0);\r\n}\r\n\r\n//숫자여부체크\r\nfunction isNumberCheck(val)\r\n{\r\n    var chars = \"0123456789\";\r\n    for (var inx = 0; inx < val.length; inx++) {\r\n");
      out.write("        if (chars.indexOf(val.charAt(inx)) == -1)\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\n/**\r\n * 매장 브랜드조회 팝업\r\n */\r\nvar openShopBrnd = function(dlvShopId){\r\n\tvar openUrl = '/dl/shopBrndCd/list';\r\n\tvar openTarget = '_brndCdTarget'; \r\n\tvar openFormName = '_brndCdForm';\r\n\tvar openMethod = 'post';\r\n\t//opener.callbackBrndCd 콜백함수 호출\r\n\tvar win = window.open(\"\", openTarget, \"width=550, height=450, resizable=no,titlebar=no,toolbar=no,status=no,location=no,scrollbars=yes\");\r\n\t\r\n\tvar isShopInput = document.createElement('input');\r\n\tisShopInput.setAttribute('type', 'hidden');\r\n\tisShopInput.setAttribute('name', 'dlvShopId');      \r\n\tisShopInput.setAttribute('value', dlvShopId);\r\n\t\r\n\t$(\"#\"+openFormName).remove();\r\n\tvar frm = document.createElement('form');\r\n\tfrm.setAttribute('name', openFormName);\r\n\tfrm.setAttribute('id', openFormName);\r\n\tfrm.setAttribute('action', openUrl);\r\n\tfrm.setAttribute('target', openTarget);\r\n\tfrm.setAttribute('method', openMethod);\r\n\t\r\n\tfrm.appendChild(isShopInput);\r\n\t\r\n\t/* IE 버그로 인한 수정 */\r\n");
      out.write("\tdocument.body.appendChild(frm);\r\n\t\r\n\t/* IE 버그로 인한 수정 */\r\n\t//frm.submit();\r\n\tdocument.getElementById(openFormName).submit(); \r\n};\r\n\r\n/* 배송 추적 */\r\nvar showFrgnDeliveryTrace = function (cell, rowIndex) {\r\n  \t\tvar waybilNo = \"\";\r\n  \t\tvar rowId = cell.grid.getRowId(rowIndex);\r\n  \t\t\r\n  \t\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\t\t\r\n  \t\t\twaybilNo = gridMaster.getCellValue(cell.grid, rowId, \"deliveryTrace\");\r\n  \t\t} else {\r\n  \t\t\twaybilNo = gridHandler.getCellValue(cell.grid, rowId, \"deliveryTrace\");\r\n  \t\t}\r\n  \t\tvar\tcdPantosDscr = gridMaster.getCellValue(cell.grid, rowId, \"cdPantosDscr\").replace('&amp;','&');\r\n  \t\tvar openUrl = cdPantosDscr+waybilNo;\r\n  \t\tOpenWindow(openUrl, \"ordDetailPop\", 1345, 900, 0, 0);\r\n}\r\n\r\n/* 택배사 PANTOS 일 경우 배송 상태 링크 생성 */ \r\nvar dfnRowLinkSetting = function (gridMaster,colId) {\r\n\tfor(var i=0; i<gridMaster.grid.getRowsNum(); i++) {\r\n\t\tvar val = gridMaster.grid.cells(i+1, gridMaster.grid.getColIndexById(colId)).getValue();\r\n\t\tif( val != \"N\") {\r\n\t\t\tgridMaster.grid.setCellExcellType(i+1,gridMaster.grid.getColIndexById(\"dlvStatNm\"),\"cLink\");\r\n");
      out.write("\t\t}else{\r\n\t\t\tgridMaster.grid.setCellExcellType(i+1,gridMaster.grid.getColIndexById(\"dlvStatNm\"),\"ro\");\r\n\t\t}\r\n\t}\t\r\n}\r\n\r\n//상품검수정보\r\nvar showItemCheckInfo = function (cell, rowIndex) {\r\n\tvar rowId = cell.grid.getRowId(rowIndex);\r\n\tvar openUrl = \"\";\r\n\tvar ordNo = \"\";\r\n\tvar ordGodTurn = \"\";\r\n\tvar lgsDlivyDrctGod = \"\";\r\n\t\r\n\tif(typeof(gridMaster) != \"undefined\" && typeof(gridMaster) != null) {\r\n\t\tordNo = gridMaster.getCellValue(cell.grid, rowId, \"ord.ordNo\");\r\n\t\tordGodTurn = gridMaster.getCellValue(cell.grid, rowId, \"ordGod.ordGodTurn\");\r\n\t\tlgsDlivyDrctGod = gridMaster.getCellValue(cell.grid, rowId, \"lgsDdg.dlivyDrctGodNo\");\r\n\t} else {\r\n\t\tordNo = gridHandler.getCellValue(cell.grid, rowId, \"ord.ordNo\");\r\n\t\tordGodTurn = gridHandler.getCellValue(cell.grid, rowId, \"lgsDdg.ordGodTurn\");\r\n\t\tlgsDlivyDrctGod = gridHandler.getCellValue(cell.grid, rowId, \"lgsDdg.dlivyDrctGodNo\");\r\n\t}\r\n\topenUrl = \"/dl/itemCheck/list?ordNo=\"+ordNo+\"&ordGodTurn=\"+ordGodTurn+\"&lgsDlivyDrctGod=\"+lgsDlivyDrctGod;\r\n\t\r\n\tOpenWindow(openUrl, \"itemCheckPop\", 700, 300, 0, 0);\r\n");
      out.write("}\r\n\r\nfunction selectBrndGrp(){\r\n\r\n\tvar url = '/gd/goods/listBrndFromUpperBrndId.json';\r\n\tvar params = {\r\n\t\tsearchBrndGrpYn:\"Y\"\r\n\t};\r\n\r\n\t$.ajax({\r\n\t\ttype:\"POST\",\r\n\t\turl:url,\r\n\t\tdata:params,\r\n\t\tdataType:\"JSON\",\r\n\t\tcache: false,\r\n\t\tsuccess:function(args){\r\n\t\t\tvar data = args.rowData;\r\n\t\t\tfor(var i = 0 ; i < data.length ; i++){\r\n\t\t\t\tvar item = data[i].sysBrnd;\r\n\t\t\t\tvar option = '<option value=\"'+item.brndId+'\">['+item.brndId+']'+item.brndNm+'</option>';\r\n\t\t\t\t$('#upperBrndId').append(option);\r\n\t\t\t}\r\n\t\t},\r\n\t\terror:function(e){\r\n\t\t\tconsole.log(e.responseText);\r\n\t\t}\r\n\t});\r\n}\r\n</script>");
      out.write("\r\n  <div id=\"wrap\">\r\n    <div id=\"container\">\r\n      <div id=\"contents\">\r\n      \t<h1 class=\"page-header\">픽업 주문 반품<a href=\"javascript:undefined;\"><span class=\"favorite ");
      if (_jspx_meth_c_005fif_005f0(_jspx_page_context))
        return;
      out.write(" \">즐겨찾기 등록</span></a></h1>\r\n        <div class=\"page-navigator\">\r\n        \t<ul>\r\n            \t<li>배송관리</li>\r\n            \t<li>픽업 주문 반품</li>\r\n          \t</ul>\r\n        </div>\r\n        <div class=\"section\">\r\n        \t<div class=\"buttons-wrap right-top\">\r\n            \t<a href=\" javascript:undefined;\" class=\"btn btn-bgray form-folding-btn\">검색영역 닫기</a>\r\n          \t</div>\r\n          \t<div class=\"form-wrap\">\r\n            \t<form name=\"dlvForm\" id=\"dlvForm\" method=\"post\" action=\"/\">\r\n            \t<input style=\"VISIBILITY: hidden; WIDTH: 0px\" />\r\n                <input type=\"hidden\" id=\"sysShopId\" name=\"sysShopId\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${secSysAdmin.shopId }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\">\r\n                <input type=\"hidden\" id=\"adminTpCd\" name=\"adminTpCd\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${dto.adminTpCd }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\">\r\n                <input type=\"hidden\" id=\"regtrShopId\" name=\"regtrShopId\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${dto.regtrShopId }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\">\r\n                <input type=\"hidden\" id=\"ordNoVal\" name=\"ordNoVal\" value=\"\">\r\n\r\n              \t<div class=\"inputs-wrap\">\r\n                \t<table class=\"basic\">\r\n                  \t<colgroup>\r\n                    \t<col class=\"col_01 head\">\r\n                    \t<col class=\"col_02\">\r\n                    \t<col class=\"col_03 head\">\r\n                    \t<col class=\"col_04\">\r\n                  \t</colgroup>\r\n                  \t<tbody>\r\n                    \t<tr>\r\n                      \t\t<th><label for=\"\">주문번호</label></th>\r\n                      \t\t<td>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"ordNo\" name=\"ordNo\" maxlength=\"17\" onkeydown=\"insOrdNo();\" class=\"w150\" value=\"\">\r\n                      \t\t</td>\r\n                      \t\t<th></th>\r\n                      \t\t<td></td>\r\n                    \t</tr>\r\n                  \t</tbody>\r\n                \t</table>\r\n              \t</div>\r\n              \t<div class=\"buttons-wrap center-bottom\">\r\n              \t\t<a href=\"javascript:undefined;\" class=\"btn btn-navy submit\" id=\"btnSearch\"><span class=\"icon icon-lens\"><img src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${_resourceURL}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("images/common_icons.png\" alt=\"\"></span> 조회</a>\r\n              \t\t<a href=\"javascript:undefined;\" class=\"btn reset\" id=\"btnReset\"><span class=\"icon icon-reset\"><img src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${_resourceURL}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("images/common_icons.png\" alt=\"\"></span> 초기화</a>\r\n              \t</div>\r\n            \t</form>\r\n            \t<div class=\"buttons-wrap right-top\">\r\n            \t\t<a class=\"btn btn-navy\" id=\"btnCompt\">검수완료</a>\r\n            \t</div>\r\n\r\n            \t<!-- 클레임 철회 -->\r\n            \t<form name=\"clmForm\" id=\"clmForm\" method=\"post\">\r\n\t                <input type=\"hidden\" id=\"clmNo\"   name=\"clmNo\"   value=\"\">\r\n\t                <input type=\"hidden\" id=\"ordNo\"   name=\"ordNo\"   value=\"\">\r\n\t                <input type=\"hidden\" id=\"ordTpCd\" name=\"ordTpCd\" value=\"\">\r\n\t                <input type=\"hidden\" id=\"clmTpCd\" name=\"clmTpCd\" value=\"\">\r\n\t                <input type=\"hidden\" id=\"mbrNo\"   name=\"mbrNo\"   value=\"\">\r\n\r\n\t                <input type=\"hidden\" id=\"clmWrhsGodTurn_0\"     name=\"clmWrhsGodList[0].clmWrhsGodTurn\"     value=\"\">\r\n\t                <input type=\"hidden\" id=\"dlivyQty_0\"           name=\"clmWrhsGodList[0].dlivyQty\"           value=\"\">\r\n\t                <input type=\"hidden\" id=\"dlvPcupspTurn_0\"      name=\"clmWrhsGodList[0].dlvPcupspTurn\"      value=\"\">\r\n");
      out.write("\t                <input type=\"hidden\" id=\"dlvPcupspTurnDlivy_0\" name=\"clmWrhsGodList[0].dlvPcupspTurnDlivy\" value=\"\">\r\n\t                <input type=\"hidden\" id=\"ordGodTurn_0\"         name=\"clmWrhsGodList[0].ordGodTurn\"         value=\"\">\r\n\t                <input type=\"hidden\" id=\"dlivyDrctGodNo_0\"     name=\"clmWrhsGodList[0].dlivyDrctGodNo\"     value=\"\">\r\n\t                <input type=\"hidden\" id=\"ordNo_0\"              name=\"clmWrhsGodList[0].ordNo\"              value=\"\">\r\n\t                <input type=\"hidden\" id=\"clmNo_0\"              name=\"clmWrhsGodList[0].clmNo\"              value=\"\">\r\n\t                <input type=\"hidden\" id=\"dlvTurn_0\"            name=\"clmWrhsGodList[0].dlvTurn\"            value=\"\">\r\n\r\n\t                <input type=\"hidden\" id=\"rfdBnkCd\"      name=\"rfdBnkCd\"      value=\"\">\r\n\t                <input type=\"hidden\" id=\"rfdBnkAcctNo\"  name=\"rfdBnkAcctNo\"  value=\"\">\r\n\t                <input type=\"hidden\" id=\"rfdAcnthldrNm\" name=\"rfdAcnthldrNm\" value=\"\">\r\n                </form>\r\n\r\n                <!-- 환불정보 -->\r\n");
      out.write("                <form name=\"refundForm\" id=\"refundForm\" method=\"post\">\r\n                </form>\r\n          \t</div>\r\n        </div>\r\n\r\n        <div class=\"section\">\r\n        \t<div class=\"grid-header\">\r\n            \t<p class=\"title\" id=\"customInfo\">\r\n            </div>\r\n          \t<div class=\"grid-wrap\">\r\n            \t<div id=\"grid_01\" style=\"height: 218px; width:100%\"></div>\r\n          \t</div>\r\n        </div>\r\n\r\n        <!-- 환불정보 View -->\r\n        <div id=\"refundInfoDiv\" style=\"display:none;\">\r\n<!--         <div id=\"refundInfoDiv\" style=\"display:none;\"> -->\r\n        \t<div class=\"section\">\r\n        \t\t<h2 class=\"section-header\">환불정보</h2>\r\n\r\n        \t\t<input type=\"hidden\" id=\"refundDlvFee\"    name=\"refundDlvFee\"    value=\"0\">\r\n        \t\t<input type=\"hidden\" id=\"refundPrdFee\"    name=\"refundPrdFee\"    value=\"0\">\r\n        \t\t<input type=\"hidden\" id=\"refundPrdDlvFee\" name=\"refundPrdDlvFee\" value=\"0\">\r\n\r\n        \t\t<table class=\"basic\">\r\n          \t\t\t<colgroup>\r\n\t          \t\t\t<col class=\"w50p\">\r\n<!-- \t          \t\t\t<col class=\"w25p\"> -->\r\n");
      out.write("<!-- \t          \t\t\t<col class=\"w25p\"> -->\r\n\t          \t\t\t<col class=\"w50p\">\r\n          \t\t\t</colgroup>\r\n          \t\t\t<thead>\r\n            \t\t<tr>\r\n\t\t            \t<th>결제수단</th>\r\n\t\t              \t<th style=\"display:none\">최초결제금액</th>\r\n\t\t              \t<th style=\"display:none\">잔여결제금액</th>\r\n\t\t              \t<th>환불금액</th>\r\n            \t\t</tr>\r\n          \t\t\t</thead>\r\n          \t\t\t<tbody id=\"refundTbody\">\r\n\r\n          \t\t\t</tbody>\r\n          \t\t\t<tfoot>\r\n            \t\t\t<tr>\r\n              \t\t\t\t<td>총 금액</td>\r\n\t\t\t\t\t\t\t<td class=\"right\" id=\"paycrncypayamtTotal\" style=\"display:none\"></td>\r\n\t\t\t\t\t\t\t<td class=\"right\" id=\"remainpayamtTotal\" style=\"display:none\"></td>\r\n\t\t\t\t\t\t\t<td class=\"right\" id=\"prcTotal\"></td>\r\n            \t\t\t</tr>\r\n         \t\t\t</tfoot>\r\n        \t\t</table>\r\n      \t\t</div>\r\n      \t</div>\r\n\r\n      \t<form id=\"refundSum\"></form>\r\n\r\n      \t<form id=\"refundBnkForm\">\r\n      \t<input type=\"hidden\" id=\"refundCheckYn\" value=\"N\">\r\n      \t<input type=\"hidden\" id=\"rfdCheckYn\" value=\"N\">\r\n\r\n\t      \t<div id=\"refundBnkDiv\" style=\"display:none;\">\r\n");
      out.write("\t      \t\t<div class=\"section\">\r\n        \t\t\t<h2 class=\"section-header\">환불 계좌 정보</h2>\r\n\t\t      \t\t<!-- 환불계좌정보 -->\r\n\t\t            <table class=\"basic\">\r\n\t\t                <colgroup>\r\n\t\t                    <col class=\"head\">\r\n\t\t                    <col>\r\n\t\t                    <col class=\"head\">\r\n\t\t                    <col>\r\n\t\t                    <col class=\"head\">\r\n\t\t                    <col>\r\n\t\t                    <col class=\"head\">\r\n\t\t                    <col>\r\n\t\t                </colgroup>\r\n\t\t                <tbody>\r\n\t\t                <tr>\r\n\t\t                    <th><label id=\"bnkNm\" for=\"\" pgName=\"\">은행</label></th>\r\n\t\t                    <td>\r\n\t\t\t\t\t            <select name=\"clmExtend.rfdBnkCd\" id=\"rfdBnkCd\" onchange=\"rfdChange();\">\r\n\t\t\t\t\t            \t<option value=\"\">은행을 선택하세요.</option>\r\n\t\t\t\t\t            </select>\r\n\t\t                    </td>\r\n\t\t                    <th><label for=\"\">계좌번호</label></th>\r\n\t\t                    <td><input type=\"text\" name=\"clmExtend.rfdBnkAcctNo\" id=\"rfdBnkAcctNo\" onchange=\"rfdChange();\"></td>\r\n");
      out.write("\t\t                    <th><label for=\"\">예금주</label></th>\r\n\t\t                    <td><input type=\"text\" name=\"clmExtend.rfdAcnthldrNm\" id=\"rfdAcnthldrNm\" onchange=\"rfdChange();\"></td>\r\n\t\t                </tr>\r\n\t\t                </tbody>\r\n\t\t            </table>\r\n\t\t    \t</div>\r\n\t      \t</div>\r\n      \t</form>\r\n\r\n      \t<div class=\"buttons-wrap center-bottom\" >\r\n        \t<a id=\"btnRtgodRcept\" href=\"javascript:undefined;\" class=\"btn btn-navy\" style=\"display:none;\">매장 반품 처리</a>\r\n        </div>\r\n\r\n        <!-- 매장 반품 처리 정보 -->\r\n        <form name=\"refundPrcsForm\" id=\"refundPrcsForm\" method=\"post\">\r\n        </form>\r\n\r\n        <!-- 검은배경 -->\r\n        <div id=\"dim\" style=\"position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; z-index: 90; background: rgba(0, 0, 0, 0.498039); display:none;\"></div>\r\n\r\n        <!-- 스핀 -->\r\n        <div class=\"spin\" data-spin style=\"position: fixed; top: 40%; right: 0px; bottom: 0px; left: 40%; z-index: 89; display:none;\"/>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${_resourceURL}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("js/jquery.spin.js\" type=\"text/javascript\"></script>\r\n<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${_resourceURL}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("css/jquery.spin.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n<script type=\"text/javascript\">\r\n\r\nvar gridHandler = null;\r\nvar showAlarm = false;\r\nvar _grid;\r\n\r\n$(document).ready(function(){\r\n\t $('.spin').hide(); // 스핀감추기\r\n\t grid01Init(); // 그리드 생성\r\n\t $('#skuNo').attr(\"disabled\", true);\r\n\t $('#ordNo').focus();\r\n});\r\n\r\n//조회\r\n$('#btnSearch').click(function(){\r\n\tsearchList(1);\r\n});\r\n\r\n//초기화\r\n$('#btnReset').click(function(){\r\n\tdfnResetForm(\"dlvForm\");\r\n\tdfnResetForm(\"refundBnkForm\");\r\n\tgridHandler.grid.clearAll();\r\n\t$(\"#refundInfoDiv\").hide();\r\n \t$(\"#refundBnkDiv\").hide();\r\n \t// 환불정보 초기화\r\n \t$(\"#refundInfoDiv\").hide();\r\n \t$(\"#refundBnkDiv\").hide();\r\n \t$(\"#btnRtgodRcept\").hide();\r\n \t$(\"#refundTbody\").html(\"\");\r\n \t$(\"#refundSum\").html(\"\");\r\n \t$(\"#refundPrcsForm\").html(\"\");\r\n \t$(\"#refundForm\").html(\"\");\r\n \t$(\"#customInfo\").html(\"\");\r\n\t$('#skuNo').attr(\"disabled\", true);\r\n\t$('#ordNo').focus();\r\n});\r\n\r\n// 그리드 셋팅\r\nfunction grid01Init() {\r\n\t gridHandler = new GridUtil(\"grid_01\")\r\n\t\t.columnRule({mode : 'ro', align : 'center'})\r\n");
      out.write("\t\t.column({columnId : '$dummyCheckboxCol$', type : 'ch', align : 'center', width : '40', headerLabel:'{#master_checkbox}'})\r\n\t\t.column({columnId : 'rowNumber', type : 'ro', align : 'center', width : '40', sorting : 'int', headerLabel:'순번'}) // 0\r\n\t\t.column({columnId : 'ord.ordNo', type : 'ro', align : 'center', width : '140', sorting : 'int', headerLabel:'주문번호'}) // 1\r\n\t\t.column({columnId : 'ord.ordDt', type : 'rodateminute', align : 'center', width : '120', sorting : 'int', headerLabel:'주문일시'}) // 5\r\n\t\t.column({columnId : 'brndNm', type : 'ro', align : 'center', width : '150', sorting : 'int', headerLabel:'브랜드'}) // 7\r\n\t\t.column({columnId : 'ordGod.erpGodNo', type : 'ro', align : 'center', width : '100', sorting : 'str', headerLabel:'ERP품번'}) // 8\r\n\t\t.column({columnId : 'ordGod.godNm', type : 'ro', align : 'left', width : '0', sorting : 'int', headerLabel:'상품명', forcedHidden:true}) // 9\r\n\t\t.column({columnId : 'ordGod.itmNm', type : 'ro', align : 'center', width : '60', sorting : 'int', headerLabel:'옵션'}) // 12\r\n");
      out.write("\t\t.column({columnId : 'lgsDdg.dlivyDrctQty', type : 'ro', align : 'center', width : '60', sorting : 'int', headerLabel:'수량'}) // 13\r\n\t\t.column({columnId : 'inspctReqQty', type : 'ro', align : 'center', width : '60', headerLabel:'검수수량'}) // 14\r\n\t\t.column({columnId : 'inspctReqYn', type : 'ch', align : 'center', width : '60', headerLabel:'검수확인'}) // 15\r\n\t\t.column({columnId : 'ordGod.godNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true})// 16\r\n\t\t.column({columnId : 'lgsDdg.dlivyDrctGodNo', type : 'ro', align : 'center', width : '0', sorting : 'int', headerLabel:'', forcedHidden:true}) // 17\r\n\t\t.column({columnId : 'ordGod.ordGodTurn', type : 'ro', align : 'center', width : '0', sorting : 'int', headerLabel:'', forcedHidden:true}) // 18\r\n\t\t.column({columnId : 'lgsDsp.dlvPcupspTurn', type : 'ro', align : 'center', width : '0', sorting : 'int', headerLabel:'', forcedHidden:true}) // 19\r\n\t\t.column({columnId : 'lgsDlv.dlvTurn', type : 'ro', align : 'center', width : '0', sorting : 'int', headerLabel:'', forcedHidden:true}) // 20\r\n");
      out.write("\t\t.column({columnId : 'qtyTurn', type : 'ro', align : 'center', width : '0', sorting : 'int', headerLabel:'', forcedHidden:true}) // 21\r\n\t\t.column({columnId : 'lgsDdg.dlvShopId', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 22\r\n\t\t.column({columnId : 'lgsDdg.dlvStatCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 23\r\n\t\t.column({columnId : 'lgsDdg.dlivyDrctTpCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 24\r\n\t\t.column({columnId : 'lgsDsp.addrseNm', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 25\r\n\t\t.column({columnId : 'addrseAddr', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 26\r\n\t\t.column({columnId : 'addrsePostNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 27\r\n\t\t.column({columnId : 'addrseMobilNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 28\r\n");
      out.write("\t\t.column({columnId : 'ord.ordTpCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 29\r\n\t\t.column({columnId : 'clmTpCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 30\r\n\t\t.column({columnId : 'ord.mbrNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 31\r\n\t\t.column({columnId : 'clmWrhsGodTurn', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 32\r\n\t\t.column({columnId : 'rtrvlDrctWthdrawQty', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 33\r\n\t\t.column({columnId : 'dlvPcupspTurnWthdraw', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 34\r\n\t\t.column({columnId : 'dlvPcupspTurnDlivyWthdraw', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 35\r\n\t\t.column({columnId : 'rfdBnkCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 36\r\n\t\t.column({columnId : 'rfdBnkAcctNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 37\r\n");
      out.write("\t\t.column({columnId : 'rfdAcnthldrNm', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 38\r\n\t\t.column({columnId : 'ordGod.skuNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 39\r\n\t\t.column({columnId : 'rtrvlStatCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 41\r\n\t\t//.column({columnId : 'clmTpCdNm', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 42\r\n\t\t.column({columnId : 'rtrvlStatCdNm', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 42\r\n\t\t.column({columnId : 'saleUntPrc', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 43\r\n\t\t.column({columnId : 'dmstcDlvCstPlcSn', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 44\r\n\t\t.column({columnId : 'godTpCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 45\r\n\t\t.column({columnId : 'ordGod.itmNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 46\r\n");
      out.write("\t\t.column({columnId : 'ordGodTurnAnce', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 47\r\n\t\t.column({columnId : 'ordCpstGodTurn', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 48\r\n\t\t.column({columnId : 'pgSectCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 49\r\n\t\t.column({columnId : 'ord.mbrTpCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 50\r\n\t\t.column({columnId : 'lgsDsp.addrseNationCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 51\r\n\t\t.column({columnId : 'lgsDsp.addrSectCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 52\r\n\t\t.column({columnId : 'lgsDlv.dlvMnCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 53\r\n\t\t.column({columnId : 'ordGod.crncyCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 54\r\n\t\t.column({columnId : 'ordGod.stdrCrncyAmt', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 55\r\n");
      out.write("\t\t.column({columnId : 'ordGod.payExchgRtCrncyAmt', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 56\r\n\t\t.column({columnId : 'lgsDlv.rtgodDlvCst', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 57\r\n\t\t.column({columnId : 'lgsDlv.dlvCstBndMbdCd', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 58\r\n\t\t.column({columnId : 'lgsDlv.realityDlvCst', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 59\r\n\t\t.column({columnId : 'dlvCnt', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 60\r\n\t\t.column({columnId : 'lgsDsp.addrseMobilNationNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 61\r\n\t\t.column({columnId : 'lgsDsp.addrseMobilAreaNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 62\r\n\t\t.column({columnId : 'lgsDsp.addrseMobilTlofNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 63\r\n");
      out.write("\t\t.column({columnId : 'lgsDsp.addrseMobilTlofWthnNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 64\r\n\t\t.column({columnId : 'ordGod.brndId', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 65\r\n\t\t.column({columnId : 'godTpNm', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 66\r\n\t\t.column({columnId : 'ord.cstmrNm', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 67\r\n\t\t.column({columnId : 'cstmrMobil', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 68\r\n\t\t.column({columnId : 'lgsDdg.pckageGodTurn', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 69\r\n\t\t.column({columnId : 'lgsDdg.dlvComptDt', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 70\r\n\t\t.column({columnId : 'clmNo', type : 'ro', align : 'center', width : '0', headerLabel:'', forcedHidden:true}) // 70\r\n\t\t.setPagination(false)\r\n");
      out.write("\t \tgridHandler.init();\r\n\r\n\t _grid = gridHandler.grid;\r\n\r\n\t /* _grid.attachEvent(\"onCellChanged\", function(rowID, celInd, nValue){\r\n\t\t console.log(nValue);\r\n\t \tif(celInd == 8){\r\n\t\t\tif(_grid.cells(rowID, 2).getValue() == \"\"){\r\n\t\t\t\t_grid.setCellTextStyle(rowID, 3, \"visibility:hidden;\"); // 클레임 번호가 없으면 철회 버튼 숨김\r\n\t\t\t}\r\n\t \t}\r\n\t }); */\r\n}\r\n\r\n\r\n//조회\r\nfunction searchList(seq) {\r\n\tif($('#ordNo').val().length != 17 || $('#ordNo').val().substr(0,2) != \"OD\") {\r\n\t\talert(\"주문번호를 정확하게 입력해주세요\");\r\n\t\t$('#ordNo').focus();\r\n\t\treturn;\r\n\t}\r\n\r\n \tvar dataValue = {};\r\n\r\n \t// callback 함수 분리 (1:onCallbackSuccess, 2:setCustomInfo)\r\n \tif(seq == 1){\r\n\t \tdataValue = {\r\n\t \t\turl : '/dl/offlineReturn/list.json',\r\n\t \t \tparam : $(\"#dlvForm\").serialize(),\r\n\t \t \tcallbackSuccess : onCallbackSuccess,\r\n\t \t \tcallbackError : onCallbackError\r\n\t \t};\r\n \t}else{\r\n\t \tdataValue = {\r\n\t \t\turl : '/dl/offlineReturn/list.json',\r\n\t \t \tparam : $(\"#dlvForm\").serialize(),\r\n\t \t \tcallbackSuccess : setCustomInfo\r\n\t \t};\r\n \t}\r\n\r\n \tgridHandler.sendGridData(dataValue);\r\n\r\n \t$('#ordNoVal').val($('#ordNo').val());\r\n");
      out.write("\t$('#ordNo').val(\"\");\r\n\r\n\t// 환불정보 초기화\r\n \t$(\"#refundInfoDiv\").hide();\r\n \t$(\"#refundBnkDiv\").hide();\r\n \t$(\"#btnRtgodRcept\").hide();\r\n \t$(\"#refundTbody\").html(\"\");\r\n \t$(\"#refundSum\").html(\"\");\r\n \t$(\"#refundPrcsForm\").html(\"\");\r\n \t$(\"#refundForm\").html(\"\");\r\n \t$(\"form\").each(function() {\r\n        if(this.id == \"refundSum\" || this.id == \"refundBnkForm\" || this.id == \"refundPrcsForm\") this.reset();\r\n    });\r\n \t$('#dim').hide();\r\n}\r\n\r\nfunction onCallbackSuccess(result) {\r\n\tvar tot_cnt = 0;\r\n\tvar clm_cnt = 0;\r\n\r\n\t_grid.forEachRow(function(rId){\r\n\t\t tot_cnt++;\r\n\t\t if(_grid.cells(rId ,gridHandler.grid.getColIndexById(\"clmNo\")).getValue() != \"\"){\r\n\t\t\t clm_cnt++;\r\n\t\t }\r\n\r\n\t\t // 주문자 정보 Setting\r\n\t\t if(rId == 1) {\r\n\t\t\t var info = \"\";\r\n\t\t\t var cstmrNm = _grid.cells(rId ,gridHandler.grid.getColIndexById(\"ord.cstmrNm\")).getValue();\r\n\t\t\t var cstmrMobil = _grid.cells(rId ,gridHandler.grid.getColIndexById(\"cstmrMobil\")).getValue();\r\n\r\n\t\t\t if(cstmrNm != \"\") {\r\n\t\t\t\t info += \"주문자명 : \"+cstmrNm;\r\n\t\t\t }\r\n\t\t\t if(cstmrMobil != \"\") {\r\n\t\t\t\t info += \" | 휴대폰번호 : \"+cstmrMobil;\r\n");
      out.write("\t\t\t }\r\n\r\n\t\t\t $('#customInfo').html(\"<font style='font-weight:bold'>\"+info+\"</font>\");\r\n\t\t }\r\n\t});\r\n\r\n\tif(tot_cnt == 0){\r\n\t\talert(\"잘못된 주문번호이거나, 반품가능한 상품이 없습니다.\");\r\n\t\t$('#customInfo').html(\"\");\r\n\t\t$('#skuNo').attr(\"disabled\", true);\r\n\t\treturn;\r\n\t}\r\n\r\n\t// 검수확인 checkbox readonly\r\n\t_grid.attachEvent(\"onEditCell\", function(stage,rId,cInd,nValue,oValue){\r\n        if(cInd == 10){\r\n            return false;\r\n        }else{\r\n        \treturn true;\r\n        }\r\n    });\r\n\r\n\tif(clm_cnt > 0){\r\n\t\talert(\"주문번호에 완료 처리 전인 클레임건이 있습니다.\\n클레임 접수된 건은 반품처리가 불가하오니, 클레임 철회 후 반품 처리 바랍니다.\");\r\n\t}\r\n\r\n\t$('#skuNo').attr(\"disabled\", false);\r\n\t$('#skuNo').focus();\r\n}\r\n\r\nfunction onCallbackError() {\r\n\talert('처리중 에러가 발생했습니다.');\r\n\t$('#ordNo').val(\"\");\r\n \t$('#ordNo').focus();\r\n \treturn;\r\n}\r\n\r\nfunction setCustomInfo(result){\r\n\t$('#btnReset').click(); // 초기화\r\n}\r\n\r\n//주문번호 스캔\r\nfunction insOrdNo() {\r\n\tif(event.keyCode == 13) {\r\n\t\tvar ordNo = $('#ordNo').val().toUpperCase();\r\n\r\n\t\t//주문번호\r\n\t\tif(ordNo.length == 17 && ordNo.substr(0,2) == \"OD\") {\r\n\t\t\tsearchList(1);\r\n");
      out.write("\t\t}\r\n\t}\r\n}\r\n\r\n//검수완료\r\n$('#btnCompt').click(function(){\r\n\tvar _gird = gridHandler.grid;\r\n\tvar checkeds = _gird.getCheckedRows(0).split(',');\r\n    if(checkeds.length == 1 && checkeds[0] == '') {\r\n    \talert(\"선택된 항목이 없습니다.\");\r\n    \treturn;\r\n    }\r\n\r\n\t\r\n\t$('#refundForm').html(\"\"); // 입고상품 반품정보 초기화\r\n\t\r\n    var selCnt = 0;\r\n    var preOrdGodTurn = 0;\r\n    var qty = 1;\r\n    var chkCnt = 0;\r\n    var realityDlvCst = 0;\r\n    var pgSectCd;\r\n    \r\n    $('#refundForm').append(\"<input type='hidden' id='clmNo'   name='clmNo'   value=''>\");\r\n    $('#refundForm').append(\"<input type='hidden' id='ordNo'   name='ordNo'   value='\"+_grid.cells(1, gridHandler.grid.getColIndexById(\"ord.ordNo\")).getValue()+\"'>\");\r\n    $('#refundForm').append(\"<input type='hidden' id='clmTpCd' name='clmTpCd' value='RTGOD'>\");\r\n    $('#refundForm').append(\"<input type='hidden' id='returnDlvAmt' name='returnDlvAmt' value='0'>\");\r\n    \r\n\tfor(var i=0; i<checkeds.length; i++)\r\n\t{\r\n\t\tvar skuNoParam = gridHandler.grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGod.skuNo\")).getValue().toUpperCase();\r\n");
      out.write("\t\tvar inspctReqYn = gridHandler.grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"inspctReqYn\")).getValue();\r\n\t\tvar clmNo = gridHandler.grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"clmNo\")).getValue();\r\n\r\n\t\tif(gridHandler.grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"clmNo\")).getValue() != \"\"){\r\n\t\t\talert(\"클레임이 접수된 상품입니다.\\n클레임 철회 후 반품 처리 바랍니다.\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tgridHandler.grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"inspctReqQty\")).setValue(1);\r\n\t\tgridHandler.grid.setRowColor(checkeds[i],\"#BDBDBD\");\r\n\t\tgridHandler.grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"inspctReqYn\")).setValue(1);\r\n\r\n\t    pgSectCd = _grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"pgSectCd\")).getValue();\r\n\r\n   \t\tif(chkCnt > 0){\r\n   \t\t\t// ordGodTurn이 다를 경우 lgsDlvspList를 증가\r\n   \t\t\t// ordGodTurn이 같을 경우 기존 리스트는 유지하고 clmQty 증가\r\n   \t\t\tif(preOrdGodTurn != _grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue()){\r\n   \t\t\t\tselCnt++;\r\n");
      out.write("   \t\t\t\tqty = 1;\r\n   \t\t\t}else{\r\n   \t\t\t\tqty++;\r\n   \t\t\t\t$('#refundForm input[name=\"lgsDlvspList['+selCnt+'].clmWrhsGodList[0].clmQty\"').val(qty);\r\n   \t\t\t\tcontinue;\r\n   \t\t\t}\r\n   \t\t}\r\n   \t\t$('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordNo' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ord.ordNo\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].partmalSectCd' value='MCOM'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dmstcDlvCstPlcSn' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"dmstcDlvCstPlcSn\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].godTpCd' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"godTpCd\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordGodTurn' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue()+\"'>\");\r\n");
      out.write("   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlivyDrctGodNo' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"lgsDdg.dlivyDrctGodNo\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlvPcupspTurn' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"lgsDsp.dlvPcupspTurn\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].godNo' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGod.godNo\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].godNm' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGod.godNm\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].itmNo' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGod.itmNo\")).getValue()+\"'>\");\r\n");
      out.write("   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlvTurn' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"lgsDlv.dlvTurn\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlvShopId' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"lgsDdg.dlvShopId\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordGodTurnAnce' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGodTurnAnce\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordCpstGodTurn' value='\"+_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordCpstGodTurn\")).getValue()+\"'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].clmResnCd' value='CSTMR_CHGMIND_CNCL'>\");\r\n");
      out.write("   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].clmResnCont' value='매장반품'>\");\r\n   \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].clmQty' value='\"+qty+\"'>\");\r\n\r\n   \t    preOrdGodTurn = _grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue();\r\n   \t\tchkCnt++;\r\n\r\n   \t\trealityDlvCst += parseInt(_grid.cells(checkeds[i], gridHandler.grid.getColIndexById(\"lgsDlv.realityDlvCst\")).getValue());\r\n\t}\r\n\t\r\n    $.ajax({\r\n        type:\"POST\",\r\n        url:\"/od/claim/processRefundInfoAjax\",\r\n        data:$(\"#refundForm\").serialize(),\r\n        dataType:\"json\",\r\n        cache: false,\r\n        success:function(ajaxResult){\r\n//            console.log(ajaxResult);\r\n\r\n           $(\"#refundInfoDiv\").show();\r\n\r\n           var innerHtml = \"\";\r\n           var prePaymncdNm = \"\";\r\n           var rfdCheckYn = \"N\"; // 환불계좌 등록가능 여부\r\n\r\n           $(\"#refundTbody\").html(\"\");\r\n\r\n           var rtnCnt = 0; // 총건수\r\n");
      out.write("           var chkCnt = 0; // 선택한 건수\r\n           var allRtn = false; // 전체 선택여부\r\n\r\n           // 원천 배송비 계산\r\n           for(var i=0 ; i < gridHandler.serialize().length ; i++){\r\n           \t\tif(gridHandler.serialize()[i].clmNo != \"\"){\r\n            \t\trtnCnt++;\r\n            \t}else if(gridHandler.serialize()[i].clmNo == \"\" && gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n            \t\trtnCnt++;\r\n            \t}\r\n           \t\tif(gridHandler.serialize()[i].clmNo == \"\" && gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n           \t\t\tchkCnt++;\r\n            \t}\r\n           \t\t// 전체 반품일 경우\r\n           \t\tif(gridHandler.serialize().length == rtnCnt){\r\n           \t\t\tallRtn = true;\r\n       \t    \t}\r\n           }\r\n\r\n           for(var i=0 ; i < ajaxResult.clmRefundDTO.refundResultDTO.length ; i++){\r\n        \t   var paymncd = \"\";       // 결제수단코드\r\n        \t   var paymncdNm = \"\";     // 결제수단명\r\n        \t   var paycrncypayamt = 0; // 최초결제금액\r\n        \t   var remainpayamt = 0;   // 잔여결제금액\r\n        \t   var prc = 0;            // 환불금액\r\n");
      out.write("        \t   var innerDiv = \"\";\r\n\r\n        \t   paymncd = ajaxResult.clmRefundDTO.refundResultDTO[i].paymncd;\r\n        \t   paymncdNm = ajaxResult.clmRefundDTO.refundResultDTO[i].paymncdNm;\r\n\r\n        \t   paycrncypayamt = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].paycrncypayamt);\r\n\r\n        \t   // 배송비 부분 포함시켜 환불했으나, 반품사유를 기타 (ETC)에서 단순변심으로 변경하면서 배송비 부분 제거함 (2016.08.24 - 김지훈 대리 요청)\r\n        \t   prc = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].prc);\r\n\r\n        \t   if($(\"#refundSum #\"+paymncd+\"_remainpayamtH\").eq(chkCnt-2).val() != undefined && $(\"#refundSum #\"+paymncd+\"_remainpayamtH\").eq(chkCnt-2).val() != \"\"){\r\n        \t\t   remainpayamt = parseInt(paycrncypayamt) - parseInt(prc);\r\n        \t   }else{\r\n        \t\t  /*  if(allRtn == true){\r\n        \t\t\t   remainpayamt = 0;\r\n        \t\t   }else{\r\n        \t\t\t   remainpayamt = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].remainpayamt);\r\n        \t\t   }  */\r\n        \t\t   remainpayamt = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].remainpayamt);\r\n");
      out.write("        \t   }\r\n        \t   innerDiv += \"<input type='hidden' id='\"+paymncd+\"_remainpayamtH' value='\"+remainpayamt+\"'>\";\r\n\r\n        \t   innerHtml+= \"<tr id='\"+paymncd+\"' style='width:100%'>\";\r\n        \t   innerHtml+= \"<td>\"+paymncdNm+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].paymncd' value='\"+paymncdNm+\"'></td>\";\r\n        \t   innerHtml+= \"<td class='right' style='display:none;'>\"+paycrncypayamt+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].paycrncypayamt' value='\"+paycrncypayamt+\"'></td>\";\r\n        \t   innerHtml+= \"<td class='right' style='display:none;'>\"+remainpayamt+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].remainpayamt' value='\"+remainpayamt+\"'></td>\";\r\n        \t   innerHtml+= \"<td class='right'>\"+numberFormat(prc)+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].prc' value='\"+prc+\"'></td>\";\r\n        \t   innerHtml+= \"</tr>\";\r\n\r\n        \t   $(\"#refundSum\").append(innerDiv);\r\n\r\n        \t   // 무통장 입금, 실시간계좌이체, 모바일결제\r\n        \t   if(paymncd == 'VIRTL_BNK_ACCT_PAY' || paymncd == 'NON_BNKBOK_PAY' || paymncd == 'MOBIL_PON_PAY') {\r\n");
      out.write("        \t\t   rfdCheckYn = \"Y\";\r\n        \t   }\r\n           }\r\n\r\n           $(\"#refundBnkForm #rfdCheckYn\").val(rfdCheckYn);\r\n           $(\"#refundTbody\").append(innerHtml);\r\n\r\n           showRefuncTotal();\r\n\r\n           if(rfdCheckYn == \"Y\" && $(\"#refundBnkDiv\").css(\"display\") == \"none\"){\r\n        \t   var bnkList = ");
      if (_jspx_meth_ncp_005fcodes_005f0(_jspx_page_context))
        return;
      out.write("; // 은행 리스트\r\n\r\n        \t   $(\"#refundBnkDiv #bnkNm\").attr(\"pgName\", pgSectCd);\r\n\r\n        \t  \r\n       \t\t   for(var i = 0 ; i < bnkList.length; i++){\r\n      \t\t   \t\tif(bnkList[i].asstnCd1 != null && bnkList[i].asstnCd1 != ''){\r\n      \t\t\t\t\t$(\"#refundBnkForm #rfdBnkCd\").append(\"<option value='\"+bnkList[i].cd+\"'>\"+bnkList[i].cdNm+\"</option>\");\r\n      \t\t  \t\t}\r\n      \t\t   }\r\n        \t  \r\n\r\n        \t   $(\"#refundBnkDiv\").show();\r\n           }\r\n\r\n    \t   $(\"#btnRtgodRcept\").show(); // 매장 반품 처리 버튼 노출\r\n\r\n        }, error: function(xhr,status,error){\r\n            alert(error);\r\n        }\r\n    });\r\n\t\r\n});\r\n\r\n//환불정보 조회\r\nfunction refundInfo(rId){\r\n\t$('#refundForm').html(\"\"); // 입고상품 반품정보 초기화\r\n\r\n    var selCnt = 0;\r\n    var preOrdGodTurn = 0;\r\n    var qty = 1;\r\n    var chkCnt = 0;\r\n    var realityDlvCst = 0;\r\n    var pgSectCd = _grid.cells(rId, gridHandler.grid.getColIndexById(\"pgSectCd\")).getValue();\r\n    var dlvCnt = _grid.cells(rId, gridHandler.grid.getColIndexById(\"dlvCnt\")).getValue();\r\n\r\n    $('#refundForm').append(\"<input type='hidden' id='clmNo'   name='clmNo'   value='\"+_grid.cells(rId, gridHandler.grid.getColIndexById(\"clmNo\")).getValue()+\"'>\");\r\n");
      out.write("    $('#refundForm').append(\"<input type='hidden' id='ordNo'   name='ordNo'   value='\"+_grid.cells(rId, gridHandler.grid.getColIndexById(\"ord.ordNo\")).getValue()+\"'>\");\r\n    $('#refundForm').append(\"<input type='hidden' id='clmTpCd' name='clmTpCd' value='RTGOD'>\");\r\n    $('#refundForm').append(\"<input type='hidden' id='returnDlvAmt' name='returnDlvAmt' value='0'>\");\r\n\r\n    for(var i = 1 ; i <= _grid.getRowsNum() ; i++) {\r\n    \tif(gridHandler.serialize()[i-1].inspctReqYn == \"1\"){ // 선택된 데이터\r\n    \t\tif(chkCnt > 0){\r\n    \t\t\t// ordGodTurn이 다를 경우 lgsDlvspList를 증가\r\n    \t\t\t// ordGodTurn이 같을 경우 기존 리스트는 유지하고 clmQty 증가\r\n    \t\t\tif(preOrdGodTurn != _grid.cells(i, gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue()){\r\n    \t\t\t\tselCnt++;\r\n    \t\t\t\tqty = 1;\r\n    \t\t\t}else{\r\n    \t\t\t\tqty++;\r\n    \t\t\t\t$('#refundForm input[name=\"lgsDlvspList['+selCnt+'].clmWrhsGodList[0].clmQty\"').val(qty);\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t$('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordNo' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"ord.ordNo\")).getValue()+\"'>\");\r\n");
      out.write("    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].partmalSectCd' value='MCOM'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dmstcDlvCstPlcSn' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"dmstcDlvCstPlcSn\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].godTpCd' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"godTpCd\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordGodTurn' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlivyDrctGodNo' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"lgsDdg.dlivyDrctGodNo\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlvPcupspTurn' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"lgsDsp.dlvPcupspTurn\")).getValue()+\"'>\");\r\n");
      out.write("    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].godNo' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"ordGod.godNo\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].godNm' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"ordGod.godNm\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].itmNo' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"ordGod.itmNo\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlvTurn' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"lgsDlv.dlvTurn\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].dlvShopId' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"lgsDdg.dlvShopId\")).getValue()+\"'>\");\r\n");
      out.write("    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordGodTurnAnce' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"ordGodTurnAnce\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].ordCpstGodTurn' value='\"+_grid.cells(i, gridHandler.grid.getColIndexById(\"ordCpstGodTurn\")).getValue()+\"'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].clmResnCd' value='CSTMR_CHGMIND_CNCL'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].clmResnCont' value='매장반품'>\");\r\n    \t    $('#refundForm').append(\"<input type='hidden' name='lgsDlvspList[\"+selCnt+\"].clmWrhsGodList[0].clmQty' value='\"+qty+\"'>\");\r\n\r\n    \t    preOrdGodTurn = _grid.cells(i, gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue();\r\n    \t\tchkCnt++;\r\n\r\n    \t\trealityDlvCst += parseInt(_grid.cells(i, gridHandler.grid.getColIndexById(\"lgsDlv.realityDlvCst\")).getValue());\r\n");
      out.write("    \t}\r\n    }\r\n\r\n    $.ajax({\r\n        type:\"POST\",\r\n        url:\"/od/claim/processRefundInfoAjax\",\r\n        data:$(\"#refundForm\").serialize(),\r\n        dataType:\"json\",\r\n        cache: false,\r\n        success:function(ajaxResult){\r\n//            console.log(ajaxResult);\r\n\r\n           $(\"#refundInfoDiv\").show();\r\n\r\n           var innerHtml = \"\";\r\n           var prePaymncdNm = \"\";\r\n           var rfdCheckYn = \"N\"; // 환불계좌 등록가능 여부\r\n\r\n           $(\"#refundTbody\").html(\"\");\r\n\r\n           var rtnCnt = 0; // 총건수\r\n           var chkCnt = 0; // 선택한 건수\r\n           var allRtn = false; // 전체 선택여부\r\n\r\n           // 원천 배송비 계산\r\n           for(var i=0 ; i < gridHandler.serialize().length ; i++){\r\n           \t\tif(gridHandler.serialize()[i].clmNo != \"\"){\r\n            \t\trtnCnt++;\r\n            \t}else if(gridHandler.serialize()[i].clmNo == \"\" && gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n            \t\trtnCnt++;\r\n            \t}\r\n           \t\tif(gridHandler.serialize()[i].clmNo == \"\" && gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n");
      out.write("           \t\t\tchkCnt++;\r\n            \t}\r\n           \t\t// 전체 반품일 경우\r\n           \t\tif(gridHandler.serialize().length == rtnCnt){\r\n           \t\t\tallRtn = true;\r\n       \t    \t}\r\n           }\r\n\r\n           for(var i=0 ; i < ajaxResult.clmRefundDTO.refundResultDTO.length ; i++){\r\n        \t   var paymncd = \"\";       // 결제수단코드\r\n        \t   var paymncdNm = \"\";     // 결제수단명\r\n        \t   var paycrncypayamt = 0; // 최초결제금액\r\n        \t   var remainpayamt = 0;   // 잔여결제금액\r\n        \t   var prc = 0;            // 환불금액\r\n        \t   var innerDiv = \"\";\r\n\r\n        \t   paymncd = ajaxResult.clmRefundDTO.refundResultDTO[i].paymncd;\r\n        \t   paymncdNm = ajaxResult.clmRefundDTO.refundResultDTO[i].paymncdNm;\r\n\r\n        \t   paycrncypayamt = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].paycrncypayamt);\r\n\r\n        \t   // 배송비 부분 포함시켜 환불했으나, 반품사유를 기타 (ETC)에서 단순변심으로 변경하면서 배송비 부분 제거함 (2016.08.24 - 김지훈 대리 요청)\r\n        \t   prc = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].prc);\r\n\r\n        \t   if($(\"#refundSum #\"+paymncd+\"_remainpayamtH\").eq(chkCnt-2).val() != undefined && $(\"#refundSum #\"+paymncd+\"_remainpayamtH\").eq(chkCnt-2).val() != \"\"){\r\n");
      out.write("        \t\t   remainpayamt = parseInt(paycrncypayamt) - parseInt(prc);\r\n        \t   }else{\r\n        \t\t  /*  if(allRtn == true){\r\n        \t\t\t   remainpayamt = 0;\r\n        \t\t   }else{\r\n        \t\t\t   remainpayamt = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].remainpayamt);\r\n        \t\t   }  */\r\n        \t\t   remainpayamt = parseInt(ajaxResult.clmRefundDTO.refundResultDTO[i].remainpayamt);\r\n        \t   }\r\n        \t   innerDiv += \"<input type='hidden' id='\"+paymncd+\"_remainpayamtH' value='\"+remainpayamt+\"'>\";\r\n\r\n        \t   innerHtml+= \"<tr id='\"+paymncd+\"' style='width:100%'>\";\r\n        \t   innerHtml+= \"<td>\"+paymncdNm+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].paymncd' value='\"+paymncdNm+\"'></td>\";\r\n        \t   innerHtml+= \"<td class='right' style='display:none;'>\"+paycrncypayamt+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].paycrncypayamt' value='\"+paycrncypayamt+\"'></td>\";\r\n        \t   innerHtml+= \"<td class='right' style='display:none;'>\"+remainpayamt+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].remainpayamt' value='\"+remainpayamt+\"'></td>\";\r\n");
      out.write("        \t   innerHtml+= \"<td class='right'>\"+numberFormat(prc)+\"<input type='hidden' id='' name='refundResultDTO[\"+i+\"].prc' value='\"+prc+\"'></td>\";\r\n        \t   innerHtml+= \"</tr>\";\r\n\r\n        \t   $(\"#refundSum\").append(innerDiv);\r\n\r\n        \t   // 무통장 입금, 실시간계좌이체, 모바일결제\r\n        \t   if(paymncd == 'VIRTL_BNK_ACCT_PAY' || paymncd == 'NON_BNKBOK_PAY' || paymncd == 'MOBIL_PON_PAY') {\r\n        \t\t   rfdCheckYn = \"Y\";\r\n        \t   }\r\n           }\r\n\r\n           $(\"#refundBnkForm #rfdCheckYn\").val(rfdCheckYn);\r\n           $(\"#refundTbody\").append(innerHtml);\r\n\r\n           showRefuncTotal();\r\n\r\n           if(rfdCheckYn == \"Y\" && $(\"#refundBnkDiv\").css(\"display\") == \"none\"){\r\n        \t   var bnkList = ");
      if (_jspx_meth_ncp_005fcodes_005f1(_jspx_page_context))
        return;
      out.write("; // 은행 리스트\r\n\r\n        \t   $(\"#refundBnkDiv #bnkNm\").attr(\"pgName\", pgSectCd);\r\n\r\n        \t  \r\n       \t\t   for(var i = 0 ; i < bnkList.length; i++){\r\n       \t\t\t   \t\r\n      \t\t   \t\tif(bnkList[i].asstnCd1 != null && bnkList[i].asstnCd1 != ''){\r\n      \t\t\t\t\t$(\"#refundBnkForm #rfdBnkCd\").append(\"<option value='\"+bnkList[i].cd+\"'>\"+bnkList[i].cdNm+\"</option>\");\r\n      \t\t  \t\t}\r\n      \t\t   }\r\n        \t  \r\n\r\n        \t   $(\"#refundBnkDiv\").show();\r\n           }\r\n\r\n    \t   $(\"#btnRtgodRcept\").show(); // 매장 반품 처리 버튼 노출\r\n\r\n        }, error: function(xhr,status,error){\r\n            alert(error);\r\n        }\r\n    });\r\n}\r\n\r\n// 환불정보 합계\r\nfunction showRefuncTotal(){\r\n    var paycrncypayamtTotal=0; // 최초결제금액\r\n    var remainpayamtTotal=0;   // 잔여결제금액\r\n    var prcTotal=0;            // 환불금액\r\n\r\n    $.each($(\"#refundTbody\").find(\"tr\"),function(){\r\n        $.each($(this),function(){\r\n            paycrncypayamtTotal = paycrncypayamtTotal + parseInt($(this).find(\"td\").eq(1).html().replace(/,/g, '').replace(/ /g, ''));\r\n            remainpayamtTotal = remainpayamtTotal + parseInt($(this).find(\"td\").eq(2).html().replace(/,/g, '').replace(/ /g, ''));\r\n");
      out.write("            prcTotal = prcTotal + parseInt($(this).find(\"td\").eq(3).html().replace(/,/g, '').replace(/ /g, ''));\r\n        });\r\n    });\r\n\r\n    $(\"#paycrncypayamtTotal\").html(paycrncypayamtTotal);\r\n    $(\"#remainpayamtTotal\").html(remainpayamtTotal);\r\n    $(\"#prcTotal\").html(numberFormat(prcTotal));\r\n}\r\n\r\n//환불계좌정보를 수정하면 인증 안된상태로 돌린다.\r\nfunction rfdChange(){\r\n    $(\"#refundBnkForm #refundCheckYn\").val(\"N\");\r\n}\r\n\r\n//매장 반품 접수\r\n$(document).on('click', '#btnRtgodRcept', function() {\r\n\r\n    $('#dim').show(); // 조작금지\r\n\r\n    // 타임아웃 셋팅\r\n    setTimeout(function(){\r\n\r\n\t    var setCnt = 0; // 세트상품\r\n\t    var chkCnt = 0; // 선택한 상품\r\n\t    var listArry = []; // 세트상품 체크용\r\n\t    var pckageArry = []; // 세트상품 체크용\r\n\t    var uniquelistArry = []; // 세트상품 체크용\r\n\t    var pckageGodTurnArry = [];\r\n\r\n\t    // 세트상품의 경우 패키지번호와 상품번호 추출\r\n\t    for(var i=0 ; i < gridHandler.serialize().length ; i++){\r\n\t    \tif(gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n\t    \t\tchkCnt++;\r\n\t    \t}\r\n\t    \tif(gridHandler.serialize()[i].inspctReqYn == \"1\" && gridHandler.serialize()[i].godTpNm == \"세트상품\"){\r\n");
      out.write("\t    \t\tlistArry.push(gridHandler.serialize()[i].lgsDdg.pckageGodTurn + \"|\" + gridHandler.serialize()[i].ordGod.ordGodTurn);\r\n\t    \t}\r\n\t    }\r\n\r\n\t    // 추출한 번호의 중복 제거\r\n\t    $.each(listArry, function(i, el){\r\n\t    \tif($.inArray(el, uniquelistArry) === -1) uniquelistArry.push(el);\r\n\t    });\r\n\r\n\t    var cnt = 1;\r\n\r\n\t    $.each(uniquelistArry, function(i, el){\r\n\t    \tvar pckageGodTurn = uniquelistArry[i].split(\"|\");\r\n\r\n\t    \tif(i > 0){\r\n\t    \t\tif(pckageGodTurnArry[i-1] == pckageGodTurn[0]){\r\n\t    \t\t\tpckageGodTurnArry.push(pckageGodTurn[0]);\r\n\t    \t\t\tcnt++;\r\n\t    \t\t}else{\r\n\t    \t\t\tpckageGodTurnArry.push(pckageGodTurn[0]);\r\n\t    \t\t\tcnt = 1;\r\n\t    \t\t}\r\n\t    \t}else{\r\n\t    \t\tpckageGodTurnArry.push(pckageGodTurn[0]);\r\n\t    \t}\r\n\t    });\r\n\r\n\t    if(uniquelistArry != 0 && (uniquelistArry.length < 2 || cnt < 2)){\r\n\t    \talert(\"세트 상품은 세트구성품 전체 반품만 가능합니다. (추가구성품 제외)\");\r\n\t    \t$('#dim').hide();\r\n\t\t\t$('#skuNo').focus();\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    // 세트상품 적합성 체크\r\n\t    for(var k=0 ; k < uniquelistArry.length ; k++){\r\n\t    \tfor(var j=0 ; j < gridHandler.serialize().length ; j++){\r\n");
      out.write("\t       \t\tif(gridHandler.serialize()[j].inspctReqYn == \"1\" && gridHandler.serialize()[j].godTpNm == \"세트상품\"){\r\n\t\t\t\t\tvar pckageGodTurnTmp = uniquelistArry[k].split(\"|\");\r\n\r\n\t    \t    \tif(gridHandler.serialize()[j].lgsDdg.pckageGodTurn + \"|\" + gridHandler.serialize()[j].ordGod.ordGodTurn == uniquelistArry[k]){\r\n\t    \t    \t\tsetCnt ++;\r\n\t    \t    \t}\r\n\t       \t\t}\r\n\t       \t}\r\n\t    \tif(pckageArry.length > 0 && pckageArry[k-1] != setCnt){\r\n\t    \t\talert(\"세트 상품은 세트구성품 전체 반품만 가능합니다. (추가구성품 제외)\");\r\n\t    \t\t$('#dim').hide();\r\n\t    \t\t$('#skuNo').focus();\r\n\t    \t\treturn false;\r\n\t    \t}\r\n\t    \tpckageArry.push(setCnt);\r\n\t    \tsetCnt = 0;\r\n\t    }\r\n\r\n\t    if(pckageArry != 0 && pckageArry.length < 2){\r\n\t\t\talert(\"세트 상품은 세트구성품 전체 반품만 가능합니다. (추가구성품 제외)\");\r\n\t\t\t$('#dim').hide();\r\n\t\t\t$('#skuNo').focus();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t    var msg = \"\";\r\n\r\n\t    // 환불 계좌를 등록해야 하는 주문은 환불 계좌 노출\r\n\t    if($(\"#refundBnkForm #rfdCheckYn\").val() == \"Y\"){\r\n\t    \tmsg = \"검수 처리된 상품의 반품 처리를 진행 하시겠습니까?\\n검수상품 : 총 \"+chkCnt+\"개\\n환불 예정 금액 : \"+$(\"#prcTotal\").html()+\"원\\n환불 계좌 : (\"+$(\"#refundBnkForm #rfdBnkCd option:selected\").text()+\") \"+$(\"#refundBnkForm #rfdBnkAcctNo\").val();\r\n");
      out.write("\t    // 일반 주문\r\n\t    }else{\r\n\t    \tmsg = \"검수 처리된 상품의 반품 처리를 진행 하시겠습니까?\\n검수상품 : 총 \"+chkCnt+\"개\\n환불 예정 금액 : \"+$(\"#prcTotal\").html()+\"원\";\r\n\t    }\r\n\r\n\t    if(!confirm(msg)){\r\n\t    \t$('#dim').hide();\r\n\t        return false;\r\n\t    }\r\n\r\n\t    // 스핀 돌리기\r\n\t    $('.spin').show();\r\n\t    $('.spin').spin();\r\n\t\t$('.spin').spin('show');\r\n\r\n\t    var ordGodTurnArry = new Array();\r\n\t    var ordGodTurnStr = \"\";\r\n\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='ordNo' name='ordNo' value='\"+$('#ordNoVal').val()+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='clmNo' name='clmExtend.clmNo' value=''>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='ordTp' name='ordTp' value='\"+gridHandler.serialize()[0].ord.ordTpCd+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='clmTpCd' name='clmTpCd' value='RTGOD'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='virtlRtgodYn' name='clmExtend.virtlRtgodYn' value='N'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='role' name='role' value='B'>\");\r\n");
      out.write("\t    $('#refundPrcsForm').append(\"<input type='hidden' id='callTp' name='callTp' value='OFF_SHOP'>\"); // callTp = OFF_SHOP\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='clmStatCd' name='clmStatCd' value='RCEPT'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='dlivyDrctTpCd' name='dlivyDrctTpCd' value='RTGOD'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='pkupClmYn' name='clmExtend.pkupClmYn' value='Y'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='dlvComTrnsmisTgtYn' name='dlvComTrnsmisTgtYn' value='N'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='chkPgIfYn' name='clmExtend.pgTrnsmisTgtYn' value='Y'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='repairRtgodYn' name='repairRtgodYn' value='N'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='adminTpCd' name='adminTpCd' value='\"+$(\"#dlvForm #adminTpCd\").val()+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='regtrShopId' name='regtrShopId' value='\"+$(\"#dlvForm #regtrShopId\").val()+\"'>\");\r\n");
      out.write("\t    $('#refundPrcsForm').append(\"<input type='hidden' id='mbrNo' name='mbrNo' value='\"+gridHandler.serialize()[0].ord.mbrNo+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='mbrTp' name='mbrTp' value='\"+gridHandler.serialize()[0].ord.mbrTpCd+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='refundDlvFee' name='refundDlvFee' value='0'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='refundPrdFee' name='refundPrdFee' value='\"+$(\"#prcTotal\").html().replace(/,/gi,\"\")+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='refundPrdDlvFee' name='refundPrdDlvFee' value='\"+$(\"#prcTotal\").html().replace(/,/gi,\"\")+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='rfdBnkAcctNo' name='clmExtend.rfdBnkAcctNo' value='\"+$(\"#refundBnkForm #rfdBnkAcctNo\").val()+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='rfdAcnthldrNm' name='clmExtend.rfdAcnthldrNm' value='\"+$(\"#refundBnkForm #rfdAcnthldrNm\").val()+\"'>\");\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='rfdBnkCd' name='clmExtend.rfdBnkCd' value='\"+$(\"#refundBnkForm #rfdBnkCd option:selected\").val()+\"'>\");\r\n");
      out.write("\r\n\t    var rtnCnt = 0;      // 총 ROW 수\r\n\t    var tarCnt = 0;      // 선택된 ROW 수\r\n\t    var allRtn = false; // 전체 선택 여부\r\n\r\n\t    var lgsDlvCnt = 0;\r\n\t    var clmWrhsCnt = 0;\r\n\t    var preOrdGodTurn = 0;\r\n\t    var preDlvPcupspTurn = 0;\r\n\t    var qty = 1;\r\n\t    var chkCnt = 0;\r\n\t    var sapGodSnArry = [];\r\n\r\n\t    for(var i=0 ; i < gridHandler.serialize().length ; i++){\r\n\t    \tif(gridHandler.serialize()[i].clmNo != \"\"){\r\n\t    \t\trtnCnt++;\r\n\t    \t}else if(gridHandler.serialize()[i].clmNo == \"\" && gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n\t    \t\trtnCnt++;\r\n\t    \t}\r\n\t    \t// 전체 반품일 경우\r\n\t   \t\tif(gridHandler.serialize().length == rtnCnt){\r\n\t  \t\t\tallRtn = true;\r\n\t    \t}\r\n\t    \t// 검수확인된 데이터\r\n\t    \tif(gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n\t    \t\tif(ordGodTurnArry.length == 0){\r\n\t    \t\t\tordGodTurnArry.push(gridHandler.serialize()[i].ordGod.ordGodTurn);\r\n\t    \t\t}else{\r\n\t    \t\t\tvar eqCnt = 0;\r\n\t    \t\t\tfor(var l = 0 ; l < ordGodTurnArry.length ; l++){\r\n\t    \t\t\t\tif(ordGodTurnArry[l] == gridHandler.serialize()[i].ordGod.ordGodTurn){\r\n");
      out.write("\t    \t\t\t\t\teqCnt++;\r\n\t    \t\t\t\t}\r\n\t    \t\t\t}\r\n\t    \t\t\tif(eqCnt == 0) ordGodTurnArry.push(gridHandler.serialize()[i].ordGod.ordGodTurn);\r\n\t    \t\t}\r\n\r\n\t    \t\tif(chkCnt > 0){\r\n\t    \t\t\tif(preDlvPcupspTurn != _grid.cells(i+1, gridHandler.grid.getColIndexById(\"lgsDsp.dlvPcupspTurn\")).getValue()){\r\n\t    \t\t\t\tclmWrhsCnt = 0;\r\n\t    \t\t\t\tpreOrdGodTurn = 0;\r\n\t    \t\t\t\tlgsDlvCnt++;\r\n\r\n\t\t    \t\t\t// ordGodTurn이 다를 경우 lgsDlvspList를 증가\r\n\t\t    \t\t\t// ordGodTurn이 같을 경우 기존 리스트는 유지하고 clmQty 증가\r\n\t\t    \t\t\t// 시리얼 배열 셋팅\r\n\t\t    \t\t\tif(preOrdGodTurn != _grid.cells(i+1, gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue()){\r\n\t\t    \t\t\t\tif(preOrdGodTurn != 0){\r\n\t\t    \t\t\t\t\tclmWrhsCnt++;\r\n\t\t    \t\t\t\t}\r\n\t\t    \t\t\t\tqty = 1;\r\n\r\n\t\t    \t\t\t\t$('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].sapGodSnArry' value=''>\");\r\n\r\n\t\t    \t\t\t\tsapGodSnArry = [];\r\n\t\t    \t\t\t\tif(gridHandler.serialize()[i].sapGodSn != \"\"){\r\n\t\t    \t\t\t\t\tsapGodSnArry.push(gridHandler.serialize()[i].sapGodSn);\r\n\t\t    \t\t\t\t\t$('#refundPrcsForm input[name=\"lgsDlvspList['+lgsDlvCnt+'].clmWrhsGodList['+clmWrhsCnt+'].sapGodSnArry\"').val(sapGodSnArry.join(','));\r\n");
      out.write("\t\t    \t\t\t\t}\r\n\r\n\t\t    \t\t\t}else{\r\n\t\t    \t\t\t\tqty++;\r\n\t\t    \t\t\t\t$('#refundPrcsForm input[name=\"lgsDlvspList['+lgsDlvCnt+'].clmWrhsGodList['+clmWrhsCnt+'].clmQty\"').val(qty);\r\n\r\n\t\t    \t\t\t\tif(gridHandler.serialize()[i].sapGodSn != \"\"){\r\n\t\t    \t\t\t\t\tsapGodSnArry.push(gridHandler.serialize()[i].sapGodSn);\r\n\t\t    \t\t\t\t\t$('#refundPrcsForm input[name=\"lgsDlvspList['+lgsDlvCnt+'].clmWrhsGodList['+clmWrhsCnt+'].sapGodSnArry\"').val(sapGodSnArry.join(','));\r\n\t\t    \t\t\t\t}\r\n\r\n\t\t    \t\t\t\tcontinue;\r\n\t\t    \t\t\t}\r\n\t    \t\t\t}else{\r\n\t    \t\t\t\t// ordGodTurn이 다를 경우 lgsDlvspList를 증가\r\n\t\t    \t\t\t// ordGodTurn이 같을 경우 기존 리스트는 유지하고 clmQty 증가\r\n\t\t    \t\t\t// 시리얼 배열 셋팅\r\n\t\t    \t\t\tif(preOrdGodTurn != _grid.cells(i+1, gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue()){\r\n\t\t    \t\t\t\tclmWrhsCnt++;\r\n\t\t    \t\t\t\tqty = 1;\r\n\r\n\t\t    \t\t\t\t$('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].sapGodSnArry' value=''>\");\r\n\r\n\t\t    \t\t\t\tsapGodSnArry = [];\r\n\t\t    \t\t\t\tif(gridHandler.serialize()[i].sapGodSn != \"\"){\r\n");
      out.write("\t\t    \t\t\t\t\tsapGodSnArry.push(gridHandler.serialize()[i].sapGodSn);\r\n\t\t    \t\t\t\t\t$('#refundPrcsForm input[name=\"lgsDlvspList['+lgsDlvCnt+'].clmWrhsGodList['+clmWrhsCnt+'].sapGodSnArry\"').val(sapGodSnArry.join(','));\r\n\t\t    \t\t\t\t}\r\n\r\n\t\t    \t\t\t}else{\r\n\t\t    \t\t\t\tqty++;\r\n\t\t    \t\t\t\t$('#refundPrcsForm input[name=\"lgsDlvspList['+lgsDlvCnt+'].clmWrhsGodList['+clmWrhsCnt+'].clmQty\"').val(qty);\r\n\r\n\t\t    \t\t\t\tif(gridHandler.serialize()[i].sapGodSn != \"\"){\r\n\t\t    \t\t\t\t\tsapGodSnArry.push(gridHandler.serialize()[i].sapGodSn);\r\n\t\t    \t\t\t\t\t$('#refundPrcsForm input[name=\"lgsDlvspList['+lgsDlvCnt+'].clmWrhsGodList['+clmWrhsCnt+'].sapGodSnArry\"').val(sapGodSnArry.join(','));\r\n\t\t    \t\t\t\t}\r\n\r\n\t\t    \t\t\t\tcontinue;\r\n\t\t    \t\t\t}\r\n\t    \t\t\t}\r\n\t    \t\t}else{\r\n\t    \t\t\t$('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].sapGodSnArry' value=''>\");\r\n\r\n\t    \t\t\t// 시리얼 배열 셋팅\r\n\t    \t\t\tif(gridHandler.serialize()[i].sapGodSn != \"\"){\r\n\t    \t\t\t\tsapGodSnArry.push(gridHandler.serialize()[i].sapGodSn);\r\n");
      out.write("\t    \t\t\t\t$('#refundPrcsForm input[name=\"lgsDlvspList['+lgsDlvCnt+'].clmWrhsGodList['+clmWrhsCnt+'].sapGodSnArry\"').val(sapGodSnArry);\r\n\t    \t\t\t}\r\n\t    \t\t}\r\n\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].ordNo' value='\"+gridHandler.serialize()[i].ord.ordNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].godCnncTpCd' value='WRHS_GOD_CNNC'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].partmalSectCd' value='MCOM'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].dmstcDlvCstPlcSn' value='\"+gridHandler.serialize()[i].dmstcDlvCstPlcSn+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].godTpCd' value='\"+gridHandler.serialize()[i].godTpCd+\"'>\");\r\n");
      out.write("\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].ordGodTurn' value='\"+gridHandler.serialize()[i].ordGod.ordGodTurn+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].dlivyDrctGodNo' value='\"+gridHandler.serialize()[i].lgsDdg.dlivyDrctGodNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].dlvPcupspTurn' value='\"+gridHandler.serialize()[i].lgsDsp.dlvPcupspTurn+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].godNo' value='\"+gridHandler.serialize()[i].ordGod.godNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].godNm' value='\"+gridHandler.serialize()[i].ordGod.godNm+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].itmNo' value='\"+gridHandler.serialize()[i].ordGod.itmNo+\"'>\");\r\n");
      out.write("\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].dlvTurn' value='\"+gridHandler.serialize()[i].lgsDlv.dlvTurn+\"'>\");\r\n\t\t\t\t$('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].dlvShopId' value='\"+$(\"#dlvForm #regtrShopId\").val()+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].ordGodTurnAnce' value='\"+gridHandler.serialize()[i].ordGodTurnAnce+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].ordCpstGodTurn' value='\"+gridHandler.serialize()[i].ordCpstGodTurn+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].clmResnCd' value='CSTMR_CHGMIND_CNCL'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].clmResnCont' value='매장반품'>\");\r\n");
      out.write("\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].clmQty' value='\"+qty+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].dlivyDrctTpCd' value='\"+gridHandler.serialize()[i].lgsDdg.dlivyDrctTpCd+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[\"+lgsDlvCnt+\"].clmWrhsGodList[\"+clmWrhsCnt+\"].ordTpCd' value='\"+gridHandler.serialize()[i].ord.ordTpCd+\"'>\");\r\n\r\n\t    \t    if(preDlvPcupspTurn != _grid.cells(i+1, gridHandler.grid.getColIndexById(\"lgsDsp.dlvPcupspTurn\")).getValue()){\r\n\t    \t\t\tchkCnt++;\r\n\t    \t    }\r\n\r\n\t    \t    preDlvPcupspTurn = _grid.cells(i+1, gridHandler.grid.getColIndexById(\"lgsDsp.dlvPcupspTurn\")).getValue();\r\n\t    \t    preOrdGodTurn = _grid.cells(i+1, gridHandler.grid.getColIndexById(\"ordGod.ordGodTurn\")).getValue();\r\n\t    \t}\r\n\t    }\r\n\r\n\t    preDlvPcupspTurn = 0;\r\n\t    lgsDlvCnt = 0;\r\n\r\n\t    // 배송지가 하나일때\r\n    \tfor(var i=0 ; i < gridHandler.serialize().length ; i++){\r\n");
      out.write("\t    \tif(gridHandler.serialize()[i].inspctReqYn == \"1\"){\r\n\t    \t\t$('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].dlvMnCd' value='APPN_HDRY'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].dlvPcupspSectCd' value='CLM_PCUPSP'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].dlvAdbukTurn' value='\"+(parseInt(gridHandler.serialize()[i].lgsDsp.dlvPcupspTurn) + parseInt(\"10000\"))+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].mbrNo' value='\"+gridHandler.serialize()[i].ord.mbrNo+\"'>\");\r\n// \t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].dlvspChgYn' value='Y'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].dlvspChgYn' value=''>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseNm' value='\"+gridHandler.serialize()[i].lgsDsp.addrseNm+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseNationCd' value='\"+gridHandler.serialize()[i].lgsDsp.addrseNationCd+\"'>\");\r\n");
      out.write("\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrSectCd' value='\"+gridHandler.serialize()[i].lgsDsp.addrSectCd+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrsePostNo' value='\"+gridHandler.serialize()[i].addrsePostNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseBaseAddr' value='\"+gridHandler.serialize()[i].addrseAddr+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseDetailAddr' value=''>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseMobilNationNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilNationNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseMobilAreaNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilAreaNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseMobilTlofNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilTlofNo+\"'>\");\r\n");
      out.write("\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseMobilTlofWthnNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilTlofWthnNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseTelNationNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilNationNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseTelAreaNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilAreaNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseTelTlofNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilTlofNo+\"'>\");\r\n\t    \t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspList[0].addrseTelTlofWthnNo' value='\"+gridHandler.serialize()[i].lgsDsp.addrseMobilTlofWthnNo+\"'>\");\r\n\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].dlvAdbukTurn' value='\"+(parseInt(gridHandler.serialize()[i].lgsDsp.dlvPcupspTurn) + parseInt(\"10000\"))+\"'>\");\r\n");
      out.write("\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].dlvPcupspSectCd' value='CLM_PCUPSP'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].dlvMnCd' value='APPN_HDRY'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].dlvPcupspTurn' value='\"+parseInt(gridHandler.serialize()[i].lgsDsp.dlvPcupspTurn)+\"'>\");\r\n\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].dmstcDlvCstPlcSn' value='1'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].ordNo' value='\"+gridHandler.serialize()[i].ord.ordNo+\"'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].crncyCd' value='\"+gridHandler.serialize()[i].ordGod.crncyCd+\"'>\");\r\n\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].stdrCrncyAmt' value='\"+gridHandler.serialize()[i].ordGod.stdrCrncyAmt+\"'>\");\r\n");
      out.write("\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].payExchgRtCrncyAmt' value='\"+gridHandler.serialize()[i].ordGod.payExchgRtCrncyAmt+\"'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].rtgodDlvCst' value='\"+gridHandler.serialize()[i].lgsDlv.rtgodDlvCst+\"'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].dlvCstBndMbdCd' value='\"+gridHandler.serialize()[i].lgsDlv.dlvCstBndMbdCd+\"'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].dlvComCd' value='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${dlvComCd}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("'>\");\r\n\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].plcDlvCst' value='0'>\");\r\n\t \t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].cnclDlvCst' value='0'>\");\r\n\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].exchgDlvCst' value='0'>\");\r\n\t\t\t    $('#refundPrcsForm').append(\"<input type='hidden' name='lgsDlvspTmpList[0].lgsDlvList[0].realityDlvCst' value='0'>\");\r\n\r\n\t\t\t    break;\r\n\t    \t}\r\n    \t}\r\n\r\n\t    // ordGodTurnStr 셋팅\r\n\t    for(var i=0 ; i<ordGodTurnArry.length ; i++){\r\n\t    \tif(i == 0){\r\n\t    \t\tordGodTurnStr = ordGodTurnArry[i];\r\n\t    \t}else{\r\n\t    \t\tordGodTurnStr += \"-\" + ordGodTurnArry[i];\r\n\t    \t}\r\n\t    }\r\n\r\n\t    $('#refundPrcsForm').append(\"<input type='hidden' id='ordGodTurnStr' name='ordGodTurnStr' value='\"+ordGodTurnStr+\"'>\");\r\n\r\n\t    var url = '/od/claim/return/add.json';\r\n\t    var params = $('#refundPrcsForm').serialize();\r\n\r\n\t    var msg = \"\";\r\n\r\n\t    $.ajax({\r\n");
      out.write("\t        async : true,\r\n\t        type:\"POST\",\r\n\t        url:url,\r\n\t        data:params,\r\n\t        dataType:\"JSON\",\r\n\t        traditional : true,\r\n\t        cache: false,\r\n\t        success:function(args){\r\n\t            msg = '반품처리가 완료 되었습니다.' + '\\n';\r\n\t            alert(msg);\r\n\r\n\t            $('.spin').spin('hide'); // 스핀멈춤\r\n\t            $('.spin').hide(); // 스핀감추기\r\n\t            $('#dim').hide(); // 검은화면 감추기\r\n\t            $('#ordNo').val($('#ordNoVal').val());\r\n\t        \tsearchList(2);\r\n\t        },\r\n\t        error:function(xhr, sataus, e){\r\n\t            var data = $.parseJSON(xhr.responseText)\r\n\t            alert(data.message);\r\n\r\n\t            $('.spin').spin('hide'); // 스핀멈춤\r\n\t            $('.spin').hide(); // 스핀감추기\r\n\t            $('#dim').hide(); // 검은화면 감추기\r\n\t            $('#ordNo').val($('#ordNoVal').val());\r\n\t        \tsearchList(1);\r\n\t            return;\r\n\r\n\t        }\r\n\t    });\r\n    }, 400);\r\n});\r\n\r\n//숫자포맷(#,###,###)\r\nfunction numberFormat(num) {\r\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n");
      out.write("}\r\n\r\n\r\n</script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_sec_005fauthorize_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authorize
    org.springframework.security.taglibs.authz.JspAuthorizeTag _jspx_th_sec_005fauthorize_005f0 = (org.springframework.security.taglibs.authz.JspAuthorizeTag) _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.get(org.springframework.security.taglibs.authz.JspAuthorizeTag.class);
    boolean _jspx_th_sec_005fauthorize_005f0_reused = false;
    try {
      _jspx_th_sec_005fauthorize_005f0.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthorize_005f0.setParent(null);
      // /WEB-INF/views/include/jsp-header.jspf(21,0) name = access type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthorize_005f0.setAccess("isAuthenticated()");
      int _jspx_eval_sec_005fauthorize_005f0 = _jspx_th_sec_005fauthorize_005f0.doStartTag();
      if (_jspx_eval_sec_005fauthorize_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        out.write("\r\n    ");
        if (_jspx_meth_sec_005fauthentication_005f0(_jspx_th_sec_005fauthorize_005f0, _jspx_page_context))
          return true;
        out.write("\r\n    ");
        if (_jspx_meth_sec_005fauthentication_005f1(_jspx_th_sec_005fauthorize_005f0, _jspx_page_context))
          return true;
        out.write("\r\n    ");
        if (_jspx_meth_sec_005fauthentication_005f2(_jspx_th_sec_005fauthorize_005f0, _jspx_page_context))
          return true;
        out.write("\r\n      ");
        if (_jspx_meth_sec_005fauthentication_005f3(_jspx_th_sec_005fauthorize_005f0, _jspx_page_context))
          return true;
        out.write("\r\n      ");
        if (_jspx_meth_sec_005fauthentication_005f4(_jspx_th_sec_005fauthorize_005f0, _jspx_page_context))
          return true;
        out.write('\r');
        out.write('\n');
        out.write('\r');
        out.write('\n');
        out.write("\r\n  ");
      }
      if (_jspx_th_sec_005fauthorize_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.reuse(_jspx_th_sec_005fauthorize_005f0);
      _jspx_th_sec_005fauthorize_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthorize_005f0, _jsp_getInstanceManager(), _jspx_th_sec_005fauthorize_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f0 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f0_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f0.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f0);
      // /WEB-INF/views/include/jsp-header.jspf(22,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f0.setVar("accessSiteId");
      // /WEB-INF/views/include/jsp-header.jspf(22,4) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f0.setProperty("principal.accessSiteId");
      int _jspx_eval_sec_005fauthentication_005f0 = _jspx_th_sec_005fauthentication_005f0.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f0);
      _jspx_th_sec_005fauthentication_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f0, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f1 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f1_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f1.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f0);
      // /WEB-INF/views/include/jsp-header.jspf(23,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f1.setVar("poAccessSiteId");
      // /WEB-INF/views/include/jsp-header.jspf(23,4) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f1.setProperty("principal.poAccessSiteId");
      int _jspx_eval_sec_005fauthentication_005f1 = _jspx_th_sec_005fauthentication_005f1.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f1);
      _jspx_th_sec_005fauthentication_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f1, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f2(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f2 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f2_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f2.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f2.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f0);
      // /WEB-INF/views/include/jsp-header.jspf(24,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f2.setVar("secSysAdmin");
      // /WEB-INF/views/include/jsp-header.jspf(24,4) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f2.setProperty("principal.sysAdmin");
      int _jspx_eval_sec_005fauthentication_005f2 = _jspx_th_sec_005fauthentication_005f2.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f2);
      _jspx_th_sec_005fauthentication_005f2_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f2, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f2_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f3(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f3 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f3_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f3.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f0);
      // /WEB-INF/views/include/jsp-header.jspf(25,6) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f3.setVar("secSysShop");
      // /WEB-INF/views/include/jsp-header.jspf(25,6) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f3.setProperty("principal.sysShop");
      int _jspx_eval_sec_005fauthentication_005f3 = _jspx_th_sec_005fauthentication_005f3.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f3);
      _jspx_th_sec_005fauthentication_005f3_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f3, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f3_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f4(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f4 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f4_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f4.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f4.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f0);
      // /WEB-INF/views/include/jsp-header.jspf(26,6) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f4.setVar("secCom");
      // /WEB-INF/views/include/jsp-header.jspf(26,6) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f4.setProperty("principal.com");
      int _jspx_eval_sec_005fauthentication_005f4 = _jspx_th_sec_005fauthentication_005f4.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f4.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f4);
      _jspx_th_sec_005fauthentication_005f4_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f4, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f4_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthorize_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authorize
    org.springframework.security.taglibs.authz.JspAuthorizeTag _jspx_th_sec_005fauthorize_005f1 = (org.springframework.security.taglibs.authz.JspAuthorizeTag) _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.get(org.springframework.security.taglibs.authz.JspAuthorizeTag.class);
    boolean _jspx_th_sec_005fauthorize_005f1_reused = false;
    try {
      _jspx_th_sec_005fauthorize_005f1.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthorize_005f1.setParent(null);
      // /WEB-INF/views/include/jsp-header.jspf(21,0) name = access type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthorize_005f1.setAccess("isAuthenticated()");
      int _jspx_eval_sec_005fauthorize_005f1 = _jspx_th_sec_005fauthorize_005f1.doStartTag();
      if (_jspx_eval_sec_005fauthorize_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        out.write("\r\n    ");
        if (_jspx_meth_sec_005fauthentication_005f5(_jspx_th_sec_005fauthorize_005f1, _jspx_page_context))
          return true;
        out.write("\r\n    ");
        if (_jspx_meth_sec_005fauthentication_005f6(_jspx_th_sec_005fauthorize_005f1, _jspx_page_context))
          return true;
        out.write("\r\n    ");
        if (_jspx_meth_sec_005fauthentication_005f7(_jspx_th_sec_005fauthorize_005f1, _jspx_page_context))
          return true;
        out.write("\r\n      ");
        if (_jspx_meth_sec_005fauthentication_005f8(_jspx_th_sec_005fauthorize_005f1, _jspx_page_context))
          return true;
        out.write("\r\n      ");
        if (_jspx_meth_sec_005fauthentication_005f9(_jspx_th_sec_005fauthorize_005f1, _jspx_page_context))
          return true;
        out.write('\r');
        out.write('\n');
        out.write('\r');
        out.write('\n');
        out.write("\r\n  ");
      }
      if (_jspx_th_sec_005fauthorize_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.reuse(_jspx_th_sec_005fauthorize_005f1);
      _jspx_th_sec_005fauthorize_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthorize_005f1, _jsp_getInstanceManager(), _jspx_th_sec_005fauthorize_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f5(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f1, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f5 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f5_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f5.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f5.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f1);
      // /WEB-INF/views/include/jsp-header.jspf(22,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f5.setVar("accessSiteId");
      // /WEB-INF/views/include/jsp-header.jspf(22,4) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f5.setProperty("principal.accessSiteId");
      int _jspx_eval_sec_005fauthentication_005f5 = _jspx_th_sec_005fauthentication_005f5.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f5.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f5);
      _jspx_th_sec_005fauthentication_005f5_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f5, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f5_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f6(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f1, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f6 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f6_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f6.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f6.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f1);
      // /WEB-INF/views/include/jsp-header.jspf(23,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f6.setVar("poAccessSiteId");
      // /WEB-INF/views/include/jsp-header.jspf(23,4) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f6.setProperty("principal.poAccessSiteId");
      int _jspx_eval_sec_005fauthentication_005f6 = _jspx_th_sec_005fauthentication_005f6.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f6.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f6);
      _jspx_th_sec_005fauthentication_005f6_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f6, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f6_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f7(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f1, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f7 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f7_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f7.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f7.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f1);
      // /WEB-INF/views/include/jsp-header.jspf(24,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f7.setVar("secSysAdmin");
      // /WEB-INF/views/include/jsp-header.jspf(24,4) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f7.setProperty("principal.sysAdmin");
      int _jspx_eval_sec_005fauthentication_005f7 = _jspx_th_sec_005fauthentication_005f7.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f7.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f7);
      _jspx_th_sec_005fauthentication_005f7_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f7, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f7_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f8(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f1, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f8 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f8_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f8.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f8.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f1);
      // /WEB-INF/views/include/jsp-header.jspf(25,6) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f8.setVar("secSysShop");
      // /WEB-INF/views/include/jsp-header.jspf(25,6) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f8.setProperty("principal.sysShop");
      int _jspx_eval_sec_005fauthentication_005f8 = _jspx_th_sec_005fauthentication_005f8.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f8.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f8);
      _jspx_th_sec_005fauthentication_005f8_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f8, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f8_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthentication_005f9(javax.servlet.jsp.tagext.JspTag _jspx_th_sec_005fauthorize_005f1, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authentication
    org.springframework.security.taglibs.authz.AuthenticationTag _jspx_th_sec_005fauthentication_005f9 = (org.springframework.security.taglibs.authz.AuthenticationTag) _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.get(org.springframework.security.taglibs.authz.AuthenticationTag.class);
    boolean _jspx_th_sec_005fauthentication_005f9_reused = false;
    try {
      _jspx_th_sec_005fauthentication_005f9.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthentication_005f9.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_sec_005fauthorize_005f1);
      // /WEB-INF/views/include/jsp-header.jspf(26,6) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f9.setVar("secCom");
      // /WEB-INF/views/include/jsp-header.jspf(26,6) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthentication_005f9.setProperty("principal.com");
      int _jspx_eval_sec_005fauthentication_005f9 = _jspx_th_sec_005fauthentication_005f9.doStartTag();
      if (_jspx_th_sec_005fauthentication_005f9.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthentication_0026_005fvar_005fproperty_005fnobody.reuse(_jspx_th_sec_005fauthentication_005f9);
      _jspx_th_sec_005fauthentication_005f9_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthentication_005f9, _jsp_getInstanceManager(), _jspx_th_sec_005fauthentication_005f9_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005furl_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:url
    org.apache.taglibs.standard.tag.rt.core.UrlTag _jspx_th_c_005furl_005f0 = (org.apache.taglibs.standard.tag.rt.core.UrlTag) _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.UrlTag.class);
    boolean _jspx_th_c_005furl_005f0_reused = false;
    try {
      _jspx_th_c_005furl_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005furl_005f0.setParent(null);
      // /WEB-INF/views/delivery/include/commonDelivery.jsp(115,13) name = value type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005furl_005f0.setValue("/gd/goods/listGodItmShopStock");
      int _jspx_eval_c_005furl_005f0 = _jspx_th_c_005furl_005f0.doStartTag();
      if (_jspx_th_c_005furl_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.reuse(_jspx_th_c_005furl_005f0);
      _jspx_th_c_005furl_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005furl_005f0, _jsp_getInstanceManager(), _jspx_th_c_005furl_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f0 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    boolean _jspx_th_c_005fif_005f0_reused = false;
    try {
      _jspx_th_c_005fif_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fif_005f0.setParent(null);
      // /WEB-INF/views/delivery/listOfflineReturn.jsp(8,93) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fif_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${!('bo' eq accessSiteId || 'BO' eq accessSiteId)}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fif_005f0 = _jspx_th_c_005fif_005f0.doStartTag();
      if (_jspx_eval_c_005fif_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("hide");
          int evalDoAfterBody = _jspx_th_c_005fif_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fif_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f0);
      _jspx_th_c_005fif_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_ncp_005fcodes_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  ncp:codes
    com.plgrim.ncp.commons.taglib.CodesTag _jspx_th_ncp_005fcodes_005f0 = (com.plgrim.ncp.commons.taglib.CodesTag) _005fjspx_005ftagPool_005fncp_005fcodes_0026_005ftype_005fgroup_005fnobody.get(com.plgrim.ncp.commons.taglib.CodesTag.class);
    boolean _jspx_th_ncp_005fcodes_005f0_reused = false;
    try {
      _jspx_th_ncp_005fcodes_005f0.setPageContext(_jspx_page_context);
      _jspx_th_ncp_005fcodes_005f0.setParent(null);
      // /WEB-INF/views/delivery/listOfflineReturn.jsp(601,26) name = group type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_ncp_005fcodes_005f0.setGroup("BNK");
      // /WEB-INF/views/delivery/listOfflineReturn.jsp(601,26) name = type type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_ncp_005fcodes_005f0.setType("json");
      int[] _jspx_push_body_count_ncp_005fcodes_005f0 = new int[] { 0 };
      try {
        int _jspx_eval_ncp_005fcodes_005f0 = _jspx_th_ncp_005fcodes_005f0.doStartTag();
        if (_jspx_th_ncp_005fcodes_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_ncp_005fcodes_005f0[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_ncp_005fcodes_005f0.doCatch(_jspx_exception);
      } finally {
        _jspx_th_ncp_005fcodes_005f0.doFinally();
      }
      _005fjspx_005ftagPool_005fncp_005fcodes_0026_005ftype_005fgroup_005fnobody.reuse(_jspx_th_ncp_005fcodes_005f0);
      _jspx_th_ncp_005fcodes_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_ncp_005fcodes_005f0, _jsp_getInstanceManager(), _jspx_th_ncp_005fcodes_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_ncp_005fcodes_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  ncp:codes
    com.plgrim.ncp.commons.taglib.CodesTag _jspx_th_ncp_005fcodes_005f1 = (com.plgrim.ncp.commons.taglib.CodesTag) _005fjspx_005ftagPool_005fncp_005fcodes_0026_005ftype_005fgroup_005fnobody.get(com.plgrim.ncp.commons.taglib.CodesTag.class);
    boolean _jspx_th_ncp_005fcodes_005f1_reused = false;
    try {
      _jspx_th_ncp_005fcodes_005f1.setPageContext(_jspx_page_context);
      _jspx_th_ncp_005fcodes_005f1.setParent(null);
      // /WEB-INF/views/delivery/listOfflineReturn.jsp(767,26) name = group type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_ncp_005fcodes_005f1.setGroup("BNK");
      // /WEB-INF/views/delivery/listOfflineReturn.jsp(767,26) name = type type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_ncp_005fcodes_005f1.setType("json");
      int[] _jspx_push_body_count_ncp_005fcodes_005f1 = new int[] { 0 };
      try {
        int _jspx_eval_ncp_005fcodes_005f1 = _jspx_th_ncp_005fcodes_005f1.doStartTag();
        if (_jspx_th_ncp_005fcodes_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_ncp_005fcodes_005f1[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_ncp_005fcodes_005f1.doCatch(_jspx_exception);
      } finally {
        _jspx_th_ncp_005fcodes_005f1.doFinally();
      }
      _005fjspx_005ftagPool_005fncp_005fcodes_0026_005ftype_005fgroup_005fnobody.reuse(_jspx_th_ncp_005fcodes_005f1);
      _jspx_th_ncp_005fcodes_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_ncp_005fcodes_005f1, _jsp_getInstanceManager(), _jspx_th_ncp_005fcodes_005f1_reused);
    }
    return false;
  }
}
